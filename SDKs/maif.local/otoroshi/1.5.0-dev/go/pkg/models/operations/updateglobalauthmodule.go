// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"bytes"
	"encoding/json"
	"errors"
	"net/http"
	"openapi/pkg/models/shared"
)

type UpdateGlobalAuthModuleSecurity struct {
	OtoroshiAuth shared.SchemeOtoroshiAuth `security:"scheme,type=http,subtype=basic"`
}

type UpdateGlobalAuthModulePathParams struct {
	// The auth. config id
	ID string `pathParam:"style=simple,explode=false,name=id"`
}

type UpdateGlobalAuthModuleRequestBodyType string

const (
	UpdateGlobalAuthModuleRequestBodyTypeLdapAuthModuleConfig      UpdateGlobalAuthModuleRequestBodyType = "LdapAuthModuleConfig"
	UpdateGlobalAuthModuleRequestBodyTypeInMemoryAuthModuleConfig  UpdateGlobalAuthModuleRequestBodyType = "InMemoryAuthModuleConfig"
	UpdateGlobalAuthModuleRequestBodyTypeGenericOauth2ModuleConfig UpdateGlobalAuthModuleRequestBodyType = "GenericOauth2ModuleConfig"
)

type UpdateGlobalAuthModuleRequestBody struct {
	LdapAuthModuleConfig      *shared.LdapAuthModuleConfig
	InMemoryAuthModuleConfig  *shared.InMemoryAuthModuleConfig
	GenericOauth2ModuleConfig *shared.GenericOauth2ModuleConfig

	Type UpdateGlobalAuthModuleRequestBodyType
}

func CreateUpdateGlobalAuthModuleRequestBodyLdapAuthModuleConfig(ldapAuthModuleConfig shared.LdapAuthModuleConfig) UpdateGlobalAuthModuleRequestBody {
	typ := UpdateGlobalAuthModuleRequestBodyTypeLdapAuthModuleConfig

	return UpdateGlobalAuthModuleRequestBody{
		LdapAuthModuleConfig: &ldapAuthModuleConfig,
		Type:                 typ,
	}
}

func CreateUpdateGlobalAuthModuleRequestBodyInMemoryAuthModuleConfig(inMemoryAuthModuleConfig shared.InMemoryAuthModuleConfig) UpdateGlobalAuthModuleRequestBody {
	typ := UpdateGlobalAuthModuleRequestBodyTypeInMemoryAuthModuleConfig

	return UpdateGlobalAuthModuleRequestBody{
		InMemoryAuthModuleConfig: &inMemoryAuthModuleConfig,
		Type:                     typ,
	}
}

func CreateUpdateGlobalAuthModuleRequestBodyGenericOauth2ModuleConfig(genericOauth2ModuleConfig shared.GenericOauth2ModuleConfig) UpdateGlobalAuthModuleRequestBody {
	typ := UpdateGlobalAuthModuleRequestBodyTypeGenericOauth2ModuleConfig

	return UpdateGlobalAuthModuleRequestBody{
		GenericOauth2ModuleConfig: &genericOauth2ModuleConfig,
		Type:                      typ,
	}
}

func (u *UpdateGlobalAuthModuleRequestBody) UnmarshalJSON(data []byte) error {
	var d *json.Decoder

	ldapAuthModuleConfig := new(shared.LdapAuthModuleConfig)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&ldapAuthModuleConfig); err == nil {
		u.LdapAuthModuleConfig = ldapAuthModuleConfig
		u.Type = UpdateGlobalAuthModuleRequestBodyTypeLdapAuthModuleConfig
		return nil
	}

	inMemoryAuthModuleConfig := new(shared.InMemoryAuthModuleConfig)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&inMemoryAuthModuleConfig); err == nil {
		u.InMemoryAuthModuleConfig = inMemoryAuthModuleConfig
		u.Type = UpdateGlobalAuthModuleRequestBodyTypeInMemoryAuthModuleConfig
		return nil
	}

	genericOauth2ModuleConfig := new(shared.GenericOauth2ModuleConfig)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&genericOauth2ModuleConfig); err == nil {
		u.GenericOauth2ModuleConfig = genericOauth2ModuleConfig
		u.Type = UpdateGlobalAuthModuleRequestBodyTypeGenericOauth2ModuleConfig
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u UpdateGlobalAuthModuleRequestBody) MarshalJSON() ([]byte, error) {
	if u.LdapAuthModuleConfig != nil {
		return json.Marshal(u.LdapAuthModuleConfig)
	}

	if u.InMemoryAuthModuleConfig != nil {
		return json.Marshal(u.InMemoryAuthModuleConfig)
	}

	if u.GenericOauth2ModuleConfig != nil {
		return json.Marshal(u.GenericOauth2ModuleConfig)
	}

	return nil, nil
}

type UpdateGlobalAuthModuleRequest struct {
	PathParams UpdateGlobalAuthModulePathParams
	Request    *UpdateGlobalAuthModuleRequestBody `request:"mediaType=application/json"`
	Security   UpdateGlobalAuthModuleSecurity
}

type UpdateGlobalAuthModule200ApplicationJSONType string

const (
	UpdateGlobalAuthModule200ApplicationJSONTypeLdapAuthModuleConfig      UpdateGlobalAuthModule200ApplicationJSONType = "LdapAuthModuleConfig"
	UpdateGlobalAuthModule200ApplicationJSONTypeInMemoryAuthModuleConfig  UpdateGlobalAuthModule200ApplicationJSONType = "InMemoryAuthModuleConfig"
	UpdateGlobalAuthModule200ApplicationJSONTypeGenericOauth2ModuleConfig UpdateGlobalAuthModule200ApplicationJSONType = "GenericOauth2ModuleConfig"
)

type UpdateGlobalAuthModule200ApplicationJSON struct {
	LdapAuthModuleConfig      *shared.LdapAuthModuleConfig
	InMemoryAuthModuleConfig  *shared.InMemoryAuthModuleConfig
	GenericOauth2ModuleConfig *shared.GenericOauth2ModuleConfig

	Type UpdateGlobalAuthModule200ApplicationJSONType
}

func CreateUpdateGlobalAuthModule200ApplicationJSONLdapAuthModuleConfig(ldapAuthModuleConfig shared.LdapAuthModuleConfig) UpdateGlobalAuthModule200ApplicationJSON {
	typ := UpdateGlobalAuthModule200ApplicationJSONTypeLdapAuthModuleConfig

	return UpdateGlobalAuthModule200ApplicationJSON{
		LdapAuthModuleConfig: &ldapAuthModuleConfig,
		Type:                 typ,
	}
}

func CreateUpdateGlobalAuthModule200ApplicationJSONInMemoryAuthModuleConfig(inMemoryAuthModuleConfig shared.InMemoryAuthModuleConfig) UpdateGlobalAuthModule200ApplicationJSON {
	typ := UpdateGlobalAuthModule200ApplicationJSONTypeInMemoryAuthModuleConfig

	return UpdateGlobalAuthModule200ApplicationJSON{
		InMemoryAuthModuleConfig: &inMemoryAuthModuleConfig,
		Type:                     typ,
	}
}

func CreateUpdateGlobalAuthModule200ApplicationJSONGenericOauth2ModuleConfig(genericOauth2ModuleConfig shared.GenericOauth2ModuleConfig) UpdateGlobalAuthModule200ApplicationJSON {
	typ := UpdateGlobalAuthModule200ApplicationJSONTypeGenericOauth2ModuleConfig

	return UpdateGlobalAuthModule200ApplicationJSON{
		GenericOauth2ModuleConfig: &genericOauth2ModuleConfig,
		Type:                      typ,
	}
}

func (u *UpdateGlobalAuthModule200ApplicationJSON) UnmarshalJSON(data []byte) error {
	var d *json.Decoder

	ldapAuthModuleConfig := new(shared.LdapAuthModuleConfig)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&ldapAuthModuleConfig); err == nil {
		u.LdapAuthModuleConfig = ldapAuthModuleConfig
		u.Type = UpdateGlobalAuthModule200ApplicationJSONTypeLdapAuthModuleConfig
		return nil
	}

	inMemoryAuthModuleConfig := new(shared.InMemoryAuthModuleConfig)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&inMemoryAuthModuleConfig); err == nil {
		u.InMemoryAuthModuleConfig = inMemoryAuthModuleConfig
		u.Type = UpdateGlobalAuthModule200ApplicationJSONTypeInMemoryAuthModuleConfig
		return nil
	}

	genericOauth2ModuleConfig := new(shared.GenericOauth2ModuleConfig)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&genericOauth2ModuleConfig); err == nil {
		u.GenericOauth2ModuleConfig = genericOauth2ModuleConfig
		u.Type = UpdateGlobalAuthModule200ApplicationJSONTypeGenericOauth2ModuleConfig
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u UpdateGlobalAuthModule200ApplicationJSON) MarshalJSON() ([]byte, error) {
	if u.LdapAuthModuleConfig != nil {
		return json.Marshal(u.LdapAuthModuleConfig)
	}

	if u.InMemoryAuthModuleConfig != nil {
		return json.Marshal(u.InMemoryAuthModuleConfig)
	}

	if u.GenericOauth2ModuleConfig != nil {
		return json.Marshal(u.GenericOauth2ModuleConfig)
	}

	return nil, nil
}

type UpdateGlobalAuthModuleResponse struct {
	ContentType string
	StatusCode  int
	RawResponse *http.Response
	// Successful operation
	UpdateGlobalAuthModule200ApplicationJSONOneOf *UpdateGlobalAuthModule200ApplicationJSON
}
