// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
	"time"
)

// MssqlHierarchyObjectSummarySLAAssignmentEnum - The SLA assignment type. Direct SLA assignment means that a SLA Domain was configured directly on the Rubrik object by the user. Derived SLA assignment means that the Rubrik object inherits an SLA Domain from its parent Rubrik object.
type MssqlHierarchyObjectSummarySLAAssignmentEnum string

const (
	MssqlHierarchyObjectSummarySLAAssignmentEnumDerived    MssqlHierarchyObjectSummarySLAAssignmentEnum = "Derived"
	MssqlHierarchyObjectSummarySLAAssignmentEnumDirect     MssqlHierarchyObjectSummarySLAAssignmentEnum = "Direct"
	MssqlHierarchyObjectSummarySLAAssignmentEnumUnassigned MssqlHierarchyObjectSummarySLAAssignmentEnum = "Unassigned"
)

func (e MssqlHierarchyObjectSummarySLAAssignmentEnum) ToPointer() *MssqlHierarchyObjectSummarySLAAssignmentEnum {
	return &e
}

func (e *MssqlHierarchyObjectSummarySLAAssignmentEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "Derived":
		fallthrough
	case "Direct":
		fallthrough
	case "Unassigned":
		*e = MssqlHierarchyObjectSummarySLAAssignmentEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for MssqlHierarchyObjectSummarySLAAssignmentEnum: %v", v)
	}
}

// MssqlHierarchyObjectSummary - Details of the hierarchy object.
type MssqlHierarchyObjectSummary struct {
	// Effective CBT status for Host/Windows Failover Cluster.
	CbtEffectiveStatus *MssqlHostCbtEffectiveStatusTypeEnum `json:"cbtEffectiveStatus,omitempty"`
	// CBT host support status.
	CbtEnabled *MssqlHostCbtStatusTypeEnum `json:"cbtEnabled,omitempty"`
	// Property that indicates the address of the instance in a Windows Server failover cluster. This property is only set when the value of objectType is MssqlInstance, when the instance belongs to a Windows Server failover cluster, and when the address is known.
	//
	ClusterInstanceAddress *string `json:"clusterInstanceAddress,omitempty"`
	// The ID of the SLA Domain configured directly on the Rubrik object.
	ConfiguredSLADomainID string `json:"configuredSlaDomainId"`
	// The name of the SLA Domain configured directly on the Rubrik object.
	ConfiguredSLADomainName string `json:"configuredSlaDomainName"`
	// Specifies whether the SLA Domain is used for protection or retention.
	ConfiguredSLADomainType *ConfiguredSLATypeEnum `json:"configuredSlaDomainType,omitempty"`
	// Boolean value that specifies whether or not to perform copy-only backups of the database. When true, database backups are copy-only backups. When false, database backups are full backups.
	CopyOnly        *bool                               `json:"copyOnly,omitempty"`
	DescendantCount MssqlHierarchyObjectDescendantCount `json:"descendantCount"`
	// Lists the effective SLA Domains of this object's child SQL Server instances. This property is set when the value of objectType is Host or WindowsCluster.
	//
	DescendantSLADomains []MssqlSLADomainInfo `json:"descendantSlaDomains,omitempty"`
	// The ID of the SLA Domain that controls the protection of the Rubrik object.
	EffectiveSLADomainID string `json:"effectiveSlaDomainId"`
	// The name of the SLA Domain that controls the protection of the Rubrik object.
	EffectiveSLADomainName string `json:"effectiveSlaDomainName"`
	// Optional. This field contains the managed ID of of the Polaris-managed effective SLA Domain.
	EffectiveSLADomainPolarisManagedID *string `json:"effectiveSlaDomainPolarisManagedId,omitempty"`
	// The ID of the parent of the Rubrik object from which the SLA Domain that controls the protection of Rubrik object is inherited.
	EffectiveSLASourceObjectID *string `json:"effectiveSlaSourceObjectId,omitempty"`
	// The name of the parent of the Rubrik object from which the SLA Domain that controls the protection of Rubrik object is inherited.
	EffectiveSLASourceObjectName *string `json:"effectiveSlaSourceObjectName,omitempty"`
	// A Boolean that specifies whether the object has children of type MssqlInstance. This property is only set when the value of objectType is Host or WindowsCluster.
	//
	HasInstances *bool `json:"hasInstances,omitempty"`
	// Boolean value that specifies whether the cluster has permission to back up the database. This property is only set when the value of objectType is MssqlDatabase.
	HasPermissions *bool `json:"hasPermissions,omitempty"`
	// Property that indicates the current connection status of a Windows host.This property is only set when the value of objectType is Host.
	HostStatus *string `json:"hostStatus,omitempty"`
	// This property is only used with SQL Server availability groups. Every object in a SQL Server availability group has the Host rootType.
	//
	Hosts []MssqlRootProperties `json:"hosts,omitempty"`
	// The ID of the Rubrik object.
	ID        string                           `json:"id"`
	InfraPath []ManagedHierarchyObjectAncestor `json:"infraPath,omitempty"`
	// A list of children of type MssqlInstance. This property is only set when the value of objectType is Host or WindowsCluster.
	//
	InstanceChildren []string `json:"instanceChildren,omitempty"`
	// MssqlInstanceShortSummary list providing information about MssqlInstance children. This property is set only when the value of objectType is WindowsCluster.
	//
	InstanceChildrenInfo []MssqlInstanceShortSummary `json:"instanceChildrenInfo,omitempty"`
	// A Boolean that specifies whether the object is clustered. This property is only set when the value of objectType is MssqlInstance or MssqlDatabase.
	//
	IsClustered *bool `json:"isClustered,omitempty"`
	// Indicates whether the configured SLA Domain is Retention Locked. When this value is 'true', the configured SLA Domain is a Retention Lock SLA Domain.
	IsConfiguredSLADomainRetentionLocked *bool `json:"isConfiguredSlaDomainRetentionLocked,omitempty"`
	// Indicates whether the managed hierarchy object is deleted.
	IsDeleted bool `json:"isDeleted"`
	// Indicates whether the effective SLA Domain is Retention Locked. When this value is 'true', the effective SLA domain is a Retention Lock SLA Domain.
	IsEffectiveSLADomainRetentionLocked *bool `json:"isEffectiveSlaDomainRetentionLocked,omitempty"`
	// Boolean value that specifies whether this database is part of an availability group. This property is only set when the value of objectType is MssqlDatabase.
	IsInAvailabilityGroup *bool `json:"isInAvailabilityGroup,omitempty"`
	// Boolean value that specifies whether a database object is a Live Mount. Value is 'true' when the database object is a Live Mount. This property is only set when the value of objectType is MssqlDatabase.
	IsLiveMount *bool `json:"isLiveMount,omitempty"`
	// Boolean value that specifies whether a database object represents a secondary database. Value is 'true' when the database object represents a secondary database in a log shipping configuration. This property is only set when the value of objectType is MssqlDatabase.
	IsLogShippingSecondary *bool `json:"isLogShippingSecondary,omitempty"`
	// Whether this managed object is a relic (an archived snappable with unexpired snapshots).
	IsRelic bool `json:"isRelic"`
	// Seconds between two log backups. A value of 0 disables log backup.
	LogBackupFrequencyInSeconds *int `json:"logBackupFrequencyInSeconds,omitempty"`
	// Number of hours to retain a log backup. When the value is set to -1 the Rubrik cluster retains the log backup until the database snapshots that precede the log backup have expired.
	LogRetentionHours *int `json:"logRetentionHours,omitempty"`
	// The name of the Rubrik object.
	Name string `json:"name"`
	// The type of the SQL Server hierarchy object.
	ObjectType       MssqlHierarchyObjectTypeEnum `json:"objectType"`
	PendingSLADomain *ManagedObjectPendingSLAInfo `json:"pendingSlaDomain,omitempty"`
	// The ID of the cluster that manages the Rubrik object.
	PrimaryClusterID string `json:"primaryClusterId"`
	// A list of the replicas available for the specified database. Databases that are not in an availability group have only a single replica. This property is only set when the value of objectType is MssqlDatabase.
	//
	Replicas []MssqlDbReplica `json:"replicas,omitempty"`
	// The ID of the SLA Domain whose retention policy is in use.
	RetentionSLADomainID *string `json:"retentionSlaDomainId,omitempty"`
	// The SLA assignment type. Direct SLA assignment means that a SLA Domain was configured directly on the Rubrik object by the user. Derived SLA assignment means that the Rubrik object inherits an SLA Domain from its parent Rubrik object.
	SLAAssignment MssqlHierarchyObjectSummarySLAAssignmentEnum `json:"slaAssignment"`
	// The UTC time when the SLA Domain was last updated.
	SLALastUpdateTime *time.Time                       `json:"slaLastUpdateTime,omitempty"`
	SLAPath           []ManagedHierarchyObjectAncestor `json:"slaPath,omitempty"`
	// A list of reasons that a SQL Server database cannot be protected by the Rubrik CDM. This property is only set when the value of objectType is MssqlDatabase.
	UnprotectableReasons []string `json:"unprotectableReasons,omitempty"`
}
