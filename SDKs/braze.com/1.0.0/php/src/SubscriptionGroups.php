<?php

/**
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

declare(strict_types=1);

namespace OpenAPI\OpenAPI;

class SubscriptionGroups 
{

	// SDK private variables namespaced with _ to avoid conflicts with API models
	private \GuzzleHttp\ClientInterface $_defaultClient;
	private \GuzzleHttp\ClientInterface $_securityClient;
	private string $_serverUrl;
	private string $_language;
	private string $_sdkVersion;
	private string $_genVersion;	

	/**
	 * @param \GuzzleHttp\ClientInterface $defaultClient
	 * @param \GuzzleHttp\ClientInterface $securityClient
	 * @param string $serverUrl
	 * @param string $language
	 * @param string $sdkVersion
	 * @param string $genVersion
	 */
	public function __construct(\GuzzleHttp\ClientInterface $defaultClient, \GuzzleHttp\ClientInterface $securityClient, string $serverUrl, string $language, string $sdkVersion, string $genVersion)
	{
		$this->_defaultClient = $defaultClient;
		$this->_securityClient = $securityClient;
		$this->_serverUrl = $serverUrl;
		$this->_language = $language;
		$this->_sdkVersion = $sdkVersion;
		$this->_genVersion = $genVersion;
	}
	
    /**
     * List User's Subscription Group - SMS
     * 
     * Use the endpoint below to list and get the subscription groups of a certain user.
     * 
     * > If there are multiple users (multiple external ids) who share the same email address, all users will be returned as a separate user (even if they have the same email address or subscription group).
     * 
     * @param \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupSmsRequest $request
     * @return \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupSmsResponse
     */
	public function listUserSSubscriptionGroupSms(
        \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupSmsRequest $request,
    ): \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupSmsResponse
    {
        $baseUrl = $this->_serverUrl;
        $url = Utils\Utils::generateUrl($baseUrl, '/subscription/user/status');
        
        $options = ['http_errors' => false];
        $options = array_merge_recursive($options, Utils\Utils::getQueryParams(\OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupSmsRequest::class, $request, null));
        
        $httpResponse = $this->_defaultClient->request('GET', $url, $options);
        
        $contentType = $httpResponse->getHeader('Content-Type')[0] ?? '';

        $response = new \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupSmsResponse();
        $response->statusCode = $httpResponse->getStatusCode();
        $response->contentType = $contentType;
        $response->rawResponse = $httpResponse;
        
        if ($httpResponse->getStatusCode() === 200) {
        }

        return $response;
    }
	
    /**
     * List User's  Subscription Group Status - SMS
     * 
     * Use the endpoint below to get the subscription state of a user in a subscription group. The response from this endpoint will include the external ID and either subscribed, unsubscribed, or unknown for the specific subscription group requested in the API call. This can be used to update the subscription group state in subsequent API calls or to be displayed on a hosted web page.
     * 
     * > *Either `external_id` or `email` are required.
     * 
     * ## Response
     * 
     * All successful responses will return `subscribed`, `unsubscribed`, or `unknown` depending on status and user history with the subscription group.
     * 
     * ```json
     * Content-Type: application/json
     * Authorization: Bearer YOUR-REST-API-KEY
     * {
     *   "status": {
     *     "1": "Unsubscribed",
     *     "2": "Subscribed"
     *   },
     *   "message": "success"
     * }
     * ```
     * 
     * @param \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupStatusSmsRequest $request
     * @return \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupStatusSmsResponse
     */
	public function listUserSSubscriptionGroupStatusSms(
        \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupStatusSmsRequest $request,
    ): \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupStatusSmsResponse
    {
        $baseUrl = $this->_serverUrl;
        $url = Utils\Utils::generateUrl($baseUrl, '/subscription/status/get');
        
        $options = ['http_errors' => false];
        $options = array_merge_recursive($options, Utils\Utils::getQueryParams(\OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupStatusSmsRequest::class, $request, null));
        
        $httpResponse = $this->_defaultClient->request('GET', $url, $options);
        
        $contentType = $httpResponse->getHeader('Content-Type')[0] ?? '';

        $response = new \OpenAPI\OpenAPI\Models\Operations\ListUserSSubscriptionGroupStatusSmsResponse();
        $response->statusCode = $httpResponse->getStatusCode();
        $response->contentType = $contentType;
        $response->rawResponse = $httpResponse;
        
        if ($httpResponse->getStatusCode() === 200) {
        }

        return $response;
    }
}