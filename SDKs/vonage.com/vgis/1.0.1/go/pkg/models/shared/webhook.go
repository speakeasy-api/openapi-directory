// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

type WebhookEventsEnum string

const (
	WebhookEventsEnumCall WebhookEventsEnum = "CALL"
)

func (e *WebhookEventsEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "CALL":
		*e = WebhookEventsEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for WebhookEventsEnum: %s", s)
	}
}

// WebhookMetadataPolicyEnum - Metadata policy for the webhook
type WebhookMetadataPolicyEnum string

const (
	WebhookMetadataPolicyEnumNone   WebhookMetadataPolicyEnum = "NONE"
	WebhookMetadataPolicyEnumHeader WebhookMetadataPolicyEnum = "HEADER"
	WebhookMetadataPolicyEnumBody   WebhookMetadataPolicyEnum = "BODY"
)

func (e *WebhookMetadataPolicyEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "NONE":
		fallthrough
	case "HEADER":
		fallthrough
	case "BODY":
		*e = WebhookMetadataPolicyEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for WebhookMetadataPolicyEnum: %s", s)
	}
}

// WebhookSigningAlgoEnum - Signing algorithm for the webhook
type WebhookSigningAlgoEnum string

const (
	WebhookSigningAlgoEnumHmacSha256 WebhookSigningAlgoEnum = "HMAC_SHA256"
	WebhookSigningAlgoEnumNone       WebhookSigningAlgoEnum = "NONE"
)

func (e *WebhookSigningAlgoEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "HMAC_SHA256":
		fallthrough
	case "NONE":
		*e = WebhookSigningAlgoEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for WebhookSigningAlgoEnum: %s", s)
	}
}

type WebhookStatistics struct {
	// Current delivery status
	Failed *bool `json:"failed,omitempty"`
	// Total delivery attempts
	TotalAttempts *int64 `json:"totalAttempts,omitempty"`
	// Total failed deliveries
	TotalFailures *int64 `json:"totalFailures,omitempty"`
	// Total successful deliveries
	TotalSuccesses *int64 `json:"totalSuccesses,omitempty"`
}

// WebhookStatusEnum - Status for the webhook
type WebhookStatusEnum string

const (
	WebhookStatusEnumActive WebhookStatusEnum = "ACTIVE"
	WebhookStatusEnumPaused WebhookStatusEnum = "PAUSED"
)

func (e *WebhookStatusEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "ACTIVE":
		fallthrough
	case "PAUSED":
		*e = WebhookStatusEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for WebhookStatusEnum: %s", s)
	}
}

// Webhook - Successful
type Webhook struct {
	// Unique identifier of the account
	AccountID *string `json:"accountId,omitempty"`
	// Created time for the webhook
	CreatedAt *string `json:"createdAt,omitempty"`
	// Subscribed events for the webhook
	Events []WebhookEventsEnum `json:"events,omitempty"`
	// Expiration time for the webhook
	ExpireAt *string `json:"expireAt,omitempty"`
	// Unique identifier for the webhook
	ID *string `json:"id,omitempty"`
	// Metadata policy for the webhook
	MetadataPolicy *WebhookMetadataPolicyEnum `json:"metadataPolicy,omitempty"`
	// Scheduled purge time for the webhook
	PurgeAt *string `json:"purgeAt,omitempty"`
	// Last renewed time for the webhook
	RenewedAt *string `json:"renewedAt,omitempty"`
	// Signing algorithm for the webhook
	SigningAlgo *WebhookSigningAlgoEnum `json:"signingAlgo,omitempty"`
	// Signing key for the webhook
	SigningKey *string            `json:"signingKey,omitempty"`
	Statistics *WebhookStatistics `json:"statistics,omitempty"`
	// Status for the webhook
	Status *WebhookStatusEnum `json:"status,omitempty"`
	// Destination URL for events
	URL *string `json:"url,omitempty"`
	// Unique identifier of the user
	UserID *string `json:"userId,omitempty"`
}
