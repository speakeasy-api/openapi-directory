/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { StructuredMessage } from "./structuredmessage";
import { Expose, Type } from "class-transformer";

/**
 * The type of autoscaling event to report.
 */
export enum AutoscalingEventEventTypeEnum {
  TypeUnknown = "TYPE_UNKNOWN",
  TargetNumWorkersChanged = "TARGET_NUM_WORKERS_CHANGED",
  CurrentNumWorkersChanged = "CURRENT_NUM_WORKERS_CHANGED",
  ActuationFailure = "ACTUATION_FAILURE",
  NoChange = "NO_CHANGE",
}

/**
 * A structured message reporting an autoscaling decision made by the Dataflow service.
 */
export class AutoscalingEvent extends SpeakeasyBase {
  /**
   * The current number of workers the job has.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "currentNumWorkers" })
  currentNumWorkers?: string;

  /**
   * A rich message format, including a human readable string, a key for identifying the message, and structured data associated with the message for programmatic consumption.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "description" })
  @Type(() => StructuredMessage)
  description?: StructuredMessage;

  /**
   * The type of autoscaling event to report.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "eventType" })
  eventType?: AutoscalingEventEventTypeEnum;

  /**
   * The target number of workers the worker pool wants to resize to use.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "targetNumWorkers" })
  targetNumWorkers?: string;

  /**
   * The time this event was emitted to indicate a new target or current num_workers value.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "time" })
  time?: string;

  /**
   * A short and friendly name for the worker pool this event refers to.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "workerPool" })
  workerPool?: string;
}
