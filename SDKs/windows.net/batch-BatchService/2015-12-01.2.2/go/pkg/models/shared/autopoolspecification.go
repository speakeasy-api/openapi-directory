// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// AutoPoolSpecificationPoolLifetimeOptionEnum - Gets or sets the minimum lifetime of created auto pools, and how multiple jobs on a schedule are assigned to pools.
type AutoPoolSpecificationPoolLifetimeOptionEnum string

const (
	AutoPoolSpecificationPoolLifetimeOptionEnumJobschedule AutoPoolSpecificationPoolLifetimeOptionEnum = "jobschedule"
	AutoPoolSpecificationPoolLifetimeOptionEnumJob         AutoPoolSpecificationPoolLifetimeOptionEnum = "job"
	AutoPoolSpecificationPoolLifetimeOptionEnumUnmapped    AutoPoolSpecificationPoolLifetimeOptionEnum = "unmapped"
)

func (e *AutoPoolSpecificationPoolLifetimeOptionEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "jobschedule":
		fallthrough
	case "job":
		fallthrough
	case "unmapped":
		*e = AutoPoolSpecificationPoolLifetimeOptionEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for AutoPoolSpecificationPoolLifetimeOptionEnum: %s", s)
	}
}

// AutoPoolSpecification - Specifies characteristics for a temporary 'auto pool'. The Batch service will create this auto pool, run all the tasks for the job on it, and will delete the pool once the job has completed.
type AutoPoolSpecification struct {
	// Gets or sets a prefix to be added to the unique identifier when a pool is automatically created. The prefix can be up to 20 characters long.
	AutoPoolIDPrefix *string `json:"autoPoolIdPrefix,omitempty"`
	// Gets or sets whether to keep an auto pool alive after its lifetime expires.
	KeepAlive *bool `json:"keepAlive,omitempty"`
	// Specification for creating a new pool.
	Pool *PoolSpecification `json:"pool,omitempty"`
	// Gets or sets the minimum lifetime of created auto pools, and how multiple jobs on a schedule are assigned to pools.
	PoolLifetimeOption AutoPoolSpecificationPoolLifetimeOptionEnum `json:"poolLifetimeOption"`
}
