// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// CloudBuildMembershipSpecSecurityPolicyEnum - Whether it is allowed to run the privileged builds on the cluster or not.
type CloudBuildMembershipSpecSecurityPolicyEnum string

const (
	CloudBuildMembershipSpecSecurityPolicyEnumSecurityPolicyUnspecified CloudBuildMembershipSpecSecurityPolicyEnum = "SECURITY_POLICY_UNSPECIFIED"
	CloudBuildMembershipSpecSecurityPolicyEnumNonPrivileged             CloudBuildMembershipSpecSecurityPolicyEnum = "NON_PRIVILEGED"
	CloudBuildMembershipSpecSecurityPolicyEnumPrivileged                CloudBuildMembershipSpecSecurityPolicyEnum = "PRIVILEGED"
)

func (e CloudBuildMembershipSpecSecurityPolicyEnum) ToPointer() *CloudBuildMembershipSpecSecurityPolicyEnum {
	return &e
}

func (e *CloudBuildMembershipSpecSecurityPolicyEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "SECURITY_POLICY_UNSPECIFIED":
		fallthrough
	case "NON_PRIVILEGED":
		fallthrough
	case "PRIVILEGED":
		*e = CloudBuildMembershipSpecSecurityPolicyEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CloudBuildMembershipSpecSecurityPolicyEnum: %v", v)
	}
}

// CloudBuildMembershipSpec - **Cloud Build**: Configurations for each Cloud Build enabled cluster.
type CloudBuildMembershipSpec struct {
	// Whether it is allowed to run the privileged builds on the cluster or not.
	SecurityPolicy *CloudBuildMembershipSpecSecurityPolicyEnum `json:"securityPolicy,omitempty"`
	// Version of the cloud build software on the cluster.
	Version *string `json:"version,omitempty"`
}
