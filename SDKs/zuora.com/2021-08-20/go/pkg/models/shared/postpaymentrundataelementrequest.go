// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// POSTPaymentRunDataElementRequestDocumentTypeEnum - The type of a billing document associated with the payment run. The value can be `Invoice` or `DebitMemo`, but `DebitMemo` is only supported if the Invoice Settlement feature is enabled.
//
// You must either specify both `documentType` and `documentId`, or specify neither of them.
//
// If neither of `documentType` and `documentId` is specified, all invoices/debit memos with open balance of the account are collected.
type POSTPaymentRunDataElementRequestDocumentTypeEnum string

const (
	POSTPaymentRunDataElementRequestDocumentTypeEnumInvoice   POSTPaymentRunDataElementRequestDocumentTypeEnum = "Invoice"
	POSTPaymentRunDataElementRequestDocumentTypeEnumDebitMemo POSTPaymentRunDataElementRequestDocumentTypeEnum = "DebitMemo"
)

func (e *POSTPaymentRunDataElementRequestDocumentTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "Invoice":
		fallthrough
	case "DebitMemo":
		*e = POSTPaymentRunDataElementRequestDocumentTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for POSTPaymentRunDataElementRequestDocumentTypeEnum: %s", s)
	}
}

type POSTPaymentRunDataElementRequest struct {
	// A valid account ID associated with the payment run.
	//
	// If `consolidatedPayment` is set to `true`, this field is used in processing a single payment for invoices/debit memos due on an account.
	//
	AccountID string `json:"accountId"`
	// The amount to be collected for the specified invoice/debit memo. `amount` must be a positive numeric value no more than the balance of the specified invoice/debit memo.
	//
	// This field is only available when `documentId` is specified. If `amount` is not specified, whole balance of the invoice/debit memo is collected.
	//
	Amount *float64 `json:"amount,omitempty"`
	// Additional comments.
	//
	Comment *string `json:"comment,omitempty"`
	// The ID of a billing document associated with the payment run. `documentId` must be valid and match with `documentType`.
	//
	// You must either specify both `documentId` and `documentType`, or specify neither of them.
	//
	// If neither of `documentType` and `documentId` is specified, all invoices/debit memos with open balance of the account are collected.
	//
	DocumentID *string `json:"documentId,omitempty"`
	// The type of a billing document associated with the payment run. The value can be `Invoice` or `DebitMemo`, but `DebitMemo` is only supported if the Invoice Settlement feature is enabled.
	//
	// You must either specify both `documentType` and `documentId`, or specify neither of them.
	//
	// If neither of `documentType` and `documentId` is specified, all invoices/debit memos with open balance of the account are collected.
	//
	DocumentType *POSTPaymentRunDataElementRequestDocumentTypeEnum `json:"documentType,omitempty"`
	// The ID of the payment gateway for collecting invoices/debit memos. The specified payment gateway must be valid and active. If it is not specified, the default payment gateway of the account is used. If no payment gateway is configured for the account, the default payment gateway of the tenant is used.
	//
	// If `consolidatedPayment` is set to `true`, this field is used in processing a single payment for invoices/debit memos due on an account.
	//
	PaymentGatewayID *string `json:"paymentGatewayId,omitempty"`
	// The ID of the payment method for collecting invoices/debit memos. The specified payment method must be a valid non-system payment method. If it is not specified, the default payment method of the account is used regardless of the `autoPay` value of the account.
	//
	// If `processPaymentWithClosedPM` is set to `false`, the payment method cannot be closed.
	//
	// If the payment retry rules are enabled, the payment method must meet the rules.
	//
	// If `consolidatedPayment` is set to `true`, this field is used in processing a single payment for invoices/debit memos due on an account.
	//
	PaymentMethodID *string `json:"paymentMethodId,omitempty"`
}
