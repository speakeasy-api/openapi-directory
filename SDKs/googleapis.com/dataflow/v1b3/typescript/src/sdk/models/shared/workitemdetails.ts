/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { MetricUpdate } from "./metricupdate";
import { ProgressTimeseries } from "./progresstimeseries";
import { StragglerInfo } from "./stragglerinfo";
import { Expose, Type } from "class-transformer";

/**
 * State of this work item.
 */
export enum WorkItemDetailsStateEnum {
  ExecutionStateUnknown = "EXECUTION_STATE_UNKNOWN",
  ExecutionStateNotStarted = "EXECUTION_STATE_NOT_STARTED",
  ExecutionStateRunning = "EXECUTION_STATE_RUNNING",
  ExecutionStateSucceeded = "EXECUTION_STATE_SUCCEEDED",
  ExecutionStateFailed = "EXECUTION_STATE_FAILED",
  ExecutionStateCancelled = "EXECUTION_STATE_CANCELLED",
}

/**
 * Information about an individual work item execution.
 */
export class WorkItemDetails extends SpeakeasyBase {
  /**
   * Attempt ID of this work item
   */
  @SpeakeasyMetadata()
  @Expose({ name: "attemptId" })
  attemptId?: string;

  /**
   * End time of this work item attempt. If the work item is completed, this is the actual end time of the work item. Otherwise, it is the predicted end time.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "endTime" })
  endTime?: string;

  /**
   * Metrics for this work item.
   */
  @SpeakeasyMetadata({ elemType: MetricUpdate })
  @Expose({ name: "metrics" })
  @Type(() => MetricUpdate)
  metrics?: MetricUpdate[];

  /**
   * Information about the progress of some component of job execution.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "progress" })
  @Type(() => ProgressTimeseries)
  progress?: ProgressTimeseries;

  /**
   * Start time of this work item attempt.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "startTime" })
  startTime?: string;

  /**
   * State of this work item.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "state" })
  state?: WorkItemDetailsStateEnum;

  /**
   * Information useful for straggler identification and debugging.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "stragglerInfo" })
  @Type(() => StragglerInfo)
  stragglerInfo?: StragglerInfo;

  /**
   * Name of this work item.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "taskId" })
  taskId?: string;
}
