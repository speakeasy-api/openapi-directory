/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import {
  objectToClass,
  SpeakeasyBase,
  SpeakeasyMetadata,
} from "../../../internal/utils";
import { AxiosResponse } from "axios";
import { Expose, Transform, Type } from "class-transformer";

/**
 * Type of metrics to get
 */
export enum GetLoadBalancersIdMetricsTypeEnum {
  OpenConnections = "open_connections",
  ConnectionsPerSecond = "connections_per_second",
  RequestsPerSecond = "requests_per_second",
  Bandwidth = "bandwidth",
}

export class GetLoadBalancersIdMetricsRequest extends SpeakeasyBase {
  /**
   * End of period to get Metrics for (in ISO-8601 format)
   */
  @SpeakeasyMetadata({ data: "queryParam, style=form;explode=true;name=end" })
  end: string;

  /**
   * ID of the Load Balancer
   */
  @SpeakeasyMetadata({ data: "pathParam, style=simple;explode=false;name=id" })
  id: number;

  /**
   * Start of period to get Metrics for (in ISO-8601 format)
   */
  @SpeakeasyMetadata({ data: "queryParam, style=form;explode=true;name=start" })
  start: string;

  /**
   * Resolution of results in seconds
   */
  @SpeakeasyMetadata({ data: "queryParam, style=form;explode=true;name=step" })
  step?: string;

  /**
   * Type of metrics to get
   */
  @SpeakeasyMetadata({ data: "queryParam, style=form;explode=true;name=type" })
  type: GetLoadBalancersIdMetricsTypeEnum;
}

export class GetLoadBalancersIdMetrics200ApplicationJSONMetricsTimeSeries extends SpeakeasyBase {
  /**
   * Metrics Timestamps with values
   */
  @SpeakeasyMetadata()
  @Expose({ name: "values" })
  values: any[][];
}

export class GetLoadBalancersIdMetrics200ApplicationJSONMetrics extends SpeakeasyBase {
  /**
   * End of period of metrics reported (in ISO-8601 format)
   */
  @SpeakeasyMetadata()
  @Expose({ name: "end" })
  end: string;

  /**
   * Start of period of metrics reported (in ISO-8601 format)
   */
  @SpeakeasyMetadata()
  @Expose({ name: "start" })
  start: string;

  /**
   * Resolution of results in seconds.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "step" })
  step: number;

  /**
   * Hash with timeseries information, containing the name of timeseries as key
   */
  @SpeakeasyMetadata({
    elemType: GetLoadBalancersIdMetrics200ApplicationJSONMetricsTimeSeries,
  })
  @Expose({ name: "time_series" })
  @Transform(
    ({ value }) => {
      const obj: Record<
        string,
        GetLoadBalancersIdMetrics200ApplicationJSONMetricsTimeSeries
      > = {};
      for (const key in value) {
        obj[key] = objectToClass(
          value[key],
          GetLoadBalancersIdMetrics200ApplicationJSONMetricsTimeSeries
        );
      }
      return obj;
    },
    { toClassOnly: true }
  )
  timeSeries: Record<
    string,
    GetLoadBalancersIdMetrics200ApplicationJSONMetricsTimeSeries
  >;
}

/**
 * The `metrics` key in the reply contains a metrics object with this structure
 */
export class GetLoadBalancersIdMetrics200ApplicationJSON extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "metrics" })
  @Type(() => GetLoadBalancersIdMetrics200ApplicationJSONMetrics)
  metrics: GetLoadBalancersIdMetrics200ApplicationJSONMetrics;
}

export class GetLoadBalancersIdMetricsResponse extends SpeakeasyBase {
  @SpeakeasyMetadata()
  contentType: string;

  @SpeakeasyMetadata()
  statusCode: number;

  @SpeakeasyMetadata()
  rawResponse?: AxiosResponse;

  /**
   * The `metrics` key in the reply contains a metrics object with this structure
   */
  @SpeakeasyMetadata()
  getLoadBalancersIdMetrics200ApplicationJSONObject?: GetLoadBalancersIdMetrics200ApplicationJSON;
}
