/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { GoogleCloudPolicysimulatorV1BindingExplanation } from "./googlecloudpolicysimulatorv1bindingexplanation";
import { GoogleIamV1Policy } from "./googleiamv1policy";
import { Expose, Type } from "class-transformer";

/**
 * Indicates whether _this policy_ provides the specified permission to the specified principal for the specified resource. This field does _not_ indicate whether the principal actually has the permission for the resource. There might be another policy that overrides this policy. To determine whether the principal actually has the permission, use the `access` field in the TroubleshootIamPolicyResponse.
 */
export enum GoogleCloudPolicysimulatorV1ExplainedPolicyAccessEnum {
  AccessStateUnspecified = "ACCESS_STATE_UNSPECIFIED",
  Granted = "GRANTED",
  NotGranted = "NOT_GRANTED",
  UnknownConditional = "UNKNOWN_CONDITIONAL",
  UnknownInfoDenied = "UNKNOWN_INFO_DENIED",
}

/**
 * The relevance of this policy to the overall determination in the TroubleshootIamPolicyResponse. If the user who created the Replay does not have access to the policy, this field is omitted.
 */
export enum GoogleCloudPolicysimulatorV1ExplainedPolicyRelevanceEnum {
  HeuristicRelevanceUnspecified = "HEURISTIC_RELEVANCE_UNSPECIFIED",
  Normal = "NORMAL",
  High = "HIGH",
}

/**
 * Details about how a specific IAM Policy contributed to the access check.
 */
export class GoogleCloudPolicysimulatorV1ExplainedPolicy extends SpeakeasyBase {
  /**
   * Indicates whether _this policy_ provides the specified permission to the specified principal for the specified resource. This field does _not_ indicate whether the principal actually has the permission for the resource. There might be another policy that overrides this policy. To determine whether the principal actually has the permission, use the `access` field in the TroubleshootIamPolicyResponse.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "access" })
  access?: GoogleCloudPolicysimulatorV1ExplainedPolicyAccessEnum;

  /**
   * Details about how each binding in the policy affects the principal's ability, or inability, to use the permission for the resource. If the user who created the Replay does not have access to the policy, this field is omitted.
   */
  @SpeakeasyMetadata({
    elemType: GoogleCloudPolicysimulatorV1BindingExplanation,
  })
  @Expose({ name: "bindingExplanations" })
  @Type(() => GoogleCloudPolicysimulatorV1BindingExplanation)
  bindingExplanations?: GoogleCloudPolicysimulatorV1BindingExplanation[];

  /**
   * The full resource name that identifies the resource. For example, `//compute.googleapis.com/projects/my-project/zones/us-central1-a/instances/my-instance`. If the user who created the Replay does not have access to the policy, this field is omitted. For examples of full resource names for Google Cloud services, see https://cloud.google.com/iam/help/troubleshooter/full-resource-names.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "fullResourceName" })
  fullResourceName?: string;

  /**
   * An Identity and Access Management (IAM) policy, which specifies access controls for Google Cloud resources. A `Policy` is a collection of `bindings`. A `binding` binds one or more `members`, or principals, to a single `role`. Principals can be user accounts, service accounts, Google groups, and domains (such as G Suite). A `role` is a named list of permissions; each `role` can be an IAM predefined role or a user-created custom role. For some types of Google Cloud resources, a `binding` can also specify a `condition`, which is a logical expression that allows access to a resource only if the expression evaluates to `true`. A condition can add constraints based on attributes of the request, the resource, or both. To learn which resources support conditions in their IAM policies, see the [IAM documentation](https://cloud.google.com/iam/help/conditions/resource-policies). **JSON example:** { "bindings": [ { "role": "roles/resourcemanager.organizationAdmin", "members": [ "user:mike@example.com", "group:admins@example.com", "domain:google.com", "serviceAccount:my-project-id@appspot.gserviceaccount.com" ] }, { "role": "roles/resourcemanager.organizationViewer", "members": [ "user:eve@example.com" ], "condition": { "title": "expirable access", "description": "Does not grant access after Sep 2020", "expression": "request.time < timestamp('2020-10-01T00:00:00.000Z')", } } ], "etag": "BwWWja0YfJA=", "version": 3 } **YAML example:** bindings: - members: - user:mike@example.com - group:admins@example.com - domain:google.com - serviceAccount:my-project-id@appspot.gserviceaccount.com role: roles/resourcemanager.organizationAdmin - members: - user:eve@example.com role: roles/resourcemanager.organizationViewer condition: title: expirable access description: Does not grant access after Sep 2020 expression: request.time < timestamp('2020-10-01T00:00:00.000Z') etag: BwWWja0YfJA= version: 3 For a description of IAM and its features, see the [IAM documentation](https://cloud.google.com/iam/docs/).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "policy" })
  @Type(() => GoogleIamV1Policy)
  policy?: GoogleIamV1Policy;

  /**
   * The relevance of this policy to the overall determination in the TroubleshootIamPolicyResponse. If the user who created the Replay does not have access to the policy, this field is omitted.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "relevance" })
  relevance?: GoogleCloudPolicysimulatorV1ExplainedPolicyRelevanceEnum;
}
