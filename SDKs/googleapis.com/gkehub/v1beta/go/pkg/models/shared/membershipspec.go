// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// MembershipSpecSecurityPolicyEnum - Whether it is allowed to run the privileged builds on the cluster or not.
type MembershipSpecSecurityPolicyEnum string

const (
	MembershipSpecSecurityPolicyEnumSecurityPolicyUnspecified MembershipSpecSecurityPolicyEnum = "SECURITY_POLICY_UNSPECIFIED"
	MembershipSpecSecurityPolicyEnumNonPrivileged             MembershipSpecSecurityPolicyEnum = "NON_PRIVILEGED"
	MembershipSpecSecurityPolicyEnumPrivileged                MembershipSpecSecurityPolicyEnum = "PRIVILEGED"
)

func (e MembershipSpecSecurityPolicyEnum) ToPointer() *MembershipSpecSecurityPolicyEnum {
	return &e
}

func (e *MembershipSpecSecurityPolicyEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "SECURITY_POLICY_UNSPECIFIED":
		fallthrough
	case "NON_PRIVILEGED":
		fallthrough
	case "PRIVILEGED":
		*e = MembershipSpecSecurityPolicyEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for MembershipSpecSecurityPolicyEnum: %v", v)
	}
}

// MembershipSpec - **Cloud Build**: Configurations for each Cloud Build enabled cluster.
type MembershipSpec struct {
	// Whether it is allowed to run the privileged builds on the cluster or not.
	SecurityPolicy *MembershipSpecSecurityPolicyEnum `json:"securityPolicy,omitempty"`
	// Version of the cloud build software on the cluster.
	Version *string `json:"version,omitempty"`
}
