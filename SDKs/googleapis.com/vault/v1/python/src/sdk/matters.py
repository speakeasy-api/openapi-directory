"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

import requests as requests_http
from . import utils
from sdk.models import operations, shared
from typing import Any, Optional

class Matters:
    _client: requests_http.Session
    _security_client: requests_http.Session
    _server_url: str
    _language: str
    _sdk_version: str
    _gen_version: str

    def __init__(self, client: requests_http.Session, security_client: requests_http.Session, server_url: str, language: str, sdk_version: str, gen_version: str) -> None:
        self._client = client
        self._security_client = security_client
        self._server_url = server_url
        self._language = language
        self._sdk_version = sdk_version
        self._gen_version = gen_version
        
    def vault_matters_add_permissions(self, request: operations.VaultMattersAddPermissionsRequest, security: operations.VaultMattersAddPermissionsSecurity) -> operations.VaultMattersAddPermissionsResponse:
        r"""Adds an account as a matter collaborator."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersAddPermissionsRequest, base_url, '/v1/matters/{matterId}:addPermissions', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "add_matter_permissions_request", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersAddPermissionsRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersAddPermissionsResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.MatterPermission])
                res.matter_permission = out

        return res

    def vault_matters_close(self, request: operations.VaultMattersCloseRequest, security: operations.VaultMattersCloseSecurity) -> operations.VaultMattersCloseResponse:
        r"""Closes the specified matter. Returns the matter with updated state."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersCloseRequest, base_url, '/v1/matters/{matterId}:close', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "request_body", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersCloseRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersCloseResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.CloseMatterResponse])
                res.close_matter_response = out

        return res

    def vault_matters_count(self, request: operations.VaultMattersCountRequest, security: operations.VaultMattersCountSecurity) -> operations.VaultMattersCountResponse:
        r"""Counts the accounts processed by the specified query."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersCountRequest, base_url, '/v1/matters/{matterId}:count', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "count_artifacts_request", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersCountRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersCountResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Operation])
                res.operation = out

        return res

    def vault_matters_create(self, request: operations.VaultMattersCreateRequest, security: operations.VaultMattersCreateSecurity) -> operations.VaultMattersCreateResponse:
        r"""Creates a matter with the given name and description. The initial state is open, and the owner is the method caller. Returns the created matter with default view."""
        base_url = self._server_url
        
        url = base_url.removesuffix('/') + '/v1/matters'
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "matter", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersCreateRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersCreateResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Matter])
                res.matter = out

        return res

    def vault_matters_delete(self, request: operations.VaultMattersDeleteRequest, security: operations.VaultMattersDeleteSecurity) -> operations.VaultMattersDeleteResponse:
        r"""Deletes the specified matter. Returns the matter with updated state."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersDeleteRequest, base_url, '/v1/matters/{matterId}', request)
        
        query_params = utils.get_query_params(operations.VaultMattersDeleteRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('DELETE', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersDeleteResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Matter])
                res.matter = out

        return res

    def vault_matters_exports_create(self, request: operations.VaultMattersExportsCreateRequest, security: operations.VaultMattersExportsCreateSecurity) -> operations.VaultMattersExportsCreateResponse:
        r"""Creates an export."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersExportsCreateRequest, base_url, '/v1/matters/{matterId}/exports', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "export", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersExportsCreateRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersExportsCreateResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Export])
                res.export = out

        return res

    def vault_matters_exports_delete(self, request: operations.VaultMattersExportsDeleteRequest, security: operations.VaultMattersExportsDeleteSecurity) -> operations.VaultMattersExportsDeleteResponse:
        r"""Deletes an export."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersExportsDeleteRequest, base_url, '/v1/matters/{matterId}/exports/{exportId}', request)
        
        query_params = utils.get_query_params(operations.VaultMattersExportsDeleteRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('DELETE', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersExportsDeleteResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[dict[str, Any]])
                res.empty = out

        return res

    def vault_matters_exports_get(self, request: operations.VaultMattersExportsGetRequest, security: operations.VaultMattersExportsGetSecurity) -> operations.VaultMattersExportsGetResponse:
        r"""Gets an export."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersExportsGetRequest, base_url, '/v1/matters/{matterId}/exports/{exportId}', request)
        
        query_params = utils.get_query_params(operations.VaultMattersExportsGetRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersExportsGetResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Export])
                res.export = out

        return res

    def vault_matters_exports_list(self, request: operations.VaultMattersExportsListRequest, security: operations.VaultMattersExportsListSecurity) -> operations.VaultMattersExportsListResponse:
        r"""Lists details about the exports in the specified matter."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersExportsListRequest, base_url, '/v1/matters/{matterId}/exports', request)
        
        query_params = utils.get_query_params(operations.VaultMattersExportsListRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersExportsListResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.ListExportsResponse])
                res.list_exports_response = out

        return res

    def vault_matters_get(self, request: operations.VaultMattersGetRequest, security: operations.VaultMattersGetSecurity) -> operations.VaultMattersGetResponse:
        r"""Gets the specified matter."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersGetRequest, base_url, '/v1/matters/{matterId}', request)
        
        query_params = utils.get_query_params(operations.VaultMattersGetRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersGetResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Matter])
                res.matter = out

        return res

    def vault_matters_holds_accounts_create(self, request: operations.VaultMattersHoldsAccountsCreateRequest, security: operations.VaultMattersHoldsAccountsCreateSecurity) -> operations.VaultMattersHoldsAccountsCreateResponse:
        r"""Adds an account to a hold. Accounts can be added only to a hold that does not have an organizational unit set. If you try to add an account to an organizational unit-based hold, an error is returned."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsAccountsCreateRequest, base_url, '/v1/matters/{matterId}/holds/{holdId}/accounts', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "held_account", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersHoldsAccountsCreateRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsAccountsCreateResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.HeldAccount])
                res.held_account = out

        return res

    def vault_matters_holds_accounts_delete(self, request: operations.VaultMattersHoldsAccountsDeleteRequest, security: operations.VaultMattersHoldsAccountsDeleteSecurity) -> operations.VaultMattersHoldsAccountsDeleteResponse:
        r"""Removes an account from a hold."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsAccountsDeleteRequest, base_url, '/v1/matters/{matterId}/holds/{holdId}/accounts/{accountId}', request)
        
        query_params = utils.get_query_params(operations.VaultMattersHoldsAccountsDeleteRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('DELETE', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsAccountsDeleteResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[dict[str, Any]])
                res.empty = out

        return res

    def vault_matters_holds_accounts_list(self, request: operations.VaultMattersHoldsAccountsListRequest, security: operations.VaultMattersHoldsAccountsListSecurity) -> operations.VaultMattersHoldsAccountsListResponse:
        r"""Lists the accounts covered by a hold. This can list only individually-specified accounts covered by the hold. If the hold covers an organizational unit, use the [Admin SDK](https://developers.google.com/admin-sdk/). to list the members of the organizational unit on hold."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsAccountsListRequest, base_url, '/v1/matters/{matterId}/holds/{holdId}/accounts', request)
        
        query_params = utils.get_query_params(operations.VaultMattersHoldsAccountsListRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsAccountsListResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.ListHeldAccountsResponse])
                res.list_held_accounts_response = out

        return res

    def vault_matters_holds_add_held_accounts(self, request: operations.VaultMattersHoldsAddHeldAccountsRequest, security: operations.VaultMattersHoldsAddHeldAccountsSecurity) -> operations.VaultMattersHoldsAddHeldAccountsResponse:
        r"""Adds accounts to a hold. Returns a list of accounts that have been successfully added. Accounts can be added only to an existing account-based hold."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsAddHeldAccountsRequest, base_url, '/v1/matters/{matterId}/holds/{holdId}:addHeldAccounts', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "add_held_accounts_request", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersHoldsAddHeldAccountsRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsAddHeldAccountsResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.AddHeldAccountsResponse])
                res.add_held_accounts_response = out

        return res

    def vault_matters_holds_create(self, request: operations.VaultMattersHoldsCreateRequest, security: operations.VaultMattersHoldsCreateSecurity) -> operations.VaultMattersHoldsCreateResponse:
        r"""Creates a hold in the specified matter."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsCreateRequest, base_url, '/v1/matters/{matterId}/holds', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "hold", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersHoldsCreateRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsCreateResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Hold])
                res.hold = out

        return res

    def vault_matters_holds_delete(self, request: operations.VaultMattersHoldsDeleteRequest, security: operations.VaultMattersHoldsDeleteSecurity) -> operations.VaultMattersHoldsDeleteResponse:
        r"""Removes the specified hold and releases the accounts or organizational unit covered by the hold. If the data is not preserved by another hold or retention rule, it might be purged."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsDeleteRequest, base_url, '/v1/matters/{matterId}/holds/{holdId}', request)
        
        query_params = utils.get_query_params(operations.VaultMattersHoldsDeleteRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('DELETE', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsDeleteResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[dict[str, Any]])
                res.empty = out

        return res

    def vault_matters_holds_get(self, request: operations.VaultMattersHoldsGetRequest, security: operations.VaultMattersHoldsGetSecurity) -> operations.VaultMattersHoldsGetResponse:
        r"""Gets the specified hold."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsGetRequest, base_url, '/v1/matters/{matterId}/holds/{holdId}', request)
        
        query_params = utils.get_query_params(operations.VaultMattersHoldsGetRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsGetResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Hold])
                res.hold = out

        return res

    def vault_matters_holds_list(self, request: operations.VaultMattersHoldsListRequest, security: operations.VaultMattersHoldsListSecurity) -> operations.VaultMattersHoldsListResponse:
        r"""Lists the holds in a matter."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsListRequest, base_url, '/v1/matters/{matterId}/holds', request)
        
        query_params = utils.get_query_params(operations.VaultMattersHoldsListRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsListResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.ListHoldsResponse])
                res.list_holds_response = out

        return res

    def vault_matters_holds_remove_held_accounts(self, request: operations.VaultMattersHoldsRemoveHeldAccountsRequest, security: operations.VaultMattersHoldsRemoveHeldAccountsSecurity) -> operations.VaultMattersHoldsRemoveHeldAccountsResponse:
        r"""Removes the specified accounts from a hold. Returns a list of statuses in the same order as the request."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsRemoveHeldAccountsRequest, base_url, '/v1/matters/{matterId}/holds/{holdId}:removeHeldAccounts', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "remove_held_accounts_request", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersHoldsRemoveHeldAccountsRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsRemoveHeldAccountsResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.RemoveHeldAccountsResponse])
                res.remove_held_accounts_response = out

        return res

    def vault_matters_holds_update(self, request: operations.VaultMattersHoldsUpdateRequest, security: operations.VaultMattersHoldsUpdateSecurity) -> operations.VaultMattersHoldsUpdateResponse:
        r"""Updates the scope (organizational unit or accounts) and query parameters of a hold. You cannot add accounts to a hold that covers an organizational unit, nor can you add organizational units to a hold that covers individual accounts. If you try, the unsupported values are ignored."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersHoldsUpdateRequest, base_url, '/v1/matters/{matterId}/holds/{holdId}', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "hold", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersHoldsUpdateRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('PUT', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersHoldsUpdateResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Hold])
                res.hold = out

        return res

    def vault_matters_list(self, request: operations.VaultMattersListRequest, security: operations.VaultMattersListSecurity) -> operations.VaultMattersListResponse:
        r"""Lists matters the requestor has access to."""
        base_url = self._server_url
        
        url = base_url.removesuffix('/') + '/v1/matters'
        
        query_params = utils.get_query_params(operations.VaultMattersListRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersListResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.ListMattersResponse])
                res.list_matters_response = out

        return res

    def vault_matters_remove_permissions(self, request: operations.VaultMattersRemovePermissionsRequest, security: operations.VaultMattersRemovePermissionsSecurity) -> operations.VaultMattersRemovePermissionsResponse:
        r"""Removes an account as a matter collaborator."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersRemovePermissionsRequest, base_url, '/v1/matters/{matterId}:removePermissions', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "remove_matter_permissions_request", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersRemovePermissionsRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersRemovePermissionsResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[dict[str, Any]])
                res.empty = out

        return res

    def vault_matters_reopen(self, request: operations.VaultMattersReopenRequest, security: operations.VaultMattersReopenSecurity) -> operations.VaultMattersReopenResponse:
        r"""Reopens the specified matter. Returns the matter with updated state."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersReopenRequest, base_url, '/v1/matters/{matterId}:reopen', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "request_body", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersReopenRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersReopenResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.ReopenMatterResponse])
                res.reopen_matter_response = out

        return res

    def vault_matters_saved_queries_create(self, request: operations.VaultMattersSavedQueriesCreateRequest, security: operations.VaultMattersSavedQueriesCreateSecurity) -> operations.VaultMattersSavedQueriesCreateResponse:
        r"""Creates a saved query."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersSavedQueriesCreateRequest, base_url, '/v1/matters/{matterId}/savedQueries', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "saved_query", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersSavedQueriesCreateRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersSavedQueriesCreateResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.SavedQuery])
                res.saved_query = out

        return res

    def vault_matters_saved_queries_delete(self, request: operations.VaultMattersSavedQueriesDeleteRequest, security: operations.VaultMattersSavedQueriesDeleteSecurity) -> operations.VaultMattersSavedQueriesDeleteResponse:
        r"""Deletes the specified saved query."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersSavedQueriesDeleteRequest, base_url, '/v1/matters/{matterId}/savedQueries/{savedQueryId}', request)
        
        query_params = utils.get_query_params(operations.VaultMattersSavedQueriesDeleteRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('DELETE', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersSavedQueriesDeleteResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[dict[str, Any]])
                res.empty = out

        return res

    def vault_matters_saved_queries_get(self, request: operations.VaultMattersSavedQueriesGetRequest, security: operations.VaultMattersSavedQueriesGetSecurity) -> operations.VaultMattersSavedQueriesGetResponse:
        r"""Retrieves the specified saved query."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersSavedQueriesGetRequest, base_url, '/v1/matters/{matterId}/savedQueries/{savedQueryId}', request)
        
        query_params = utils.get_query_params(operations.VaultMattersSavedQueriesGetRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersSavedQueriesGetResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.SavedQuery])
                res.saved_query = out

        return res

    def vault_matters_saved_queries_list(self, request: operations.VaultMattersSavedQueriesListRequest, security: operations.VaultMattersSavedQueriesListSecurity) -> operations.VaultMattersSavedQueriesListResponse:
        r"""Lists the saved queries in a matter."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersSavedQueriesListRequest, base_url, '/v1/matters/{matterId}/savedQueries', request)
        
        query_params = utils.get_query_params(operations.VaultMattersSavedQueriesListRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersSavedQueriesListResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.ListSavedQueriesResponse])
                res.list_saved_queries_response = out

        return res

    def vault_matters_undelete(self, request: operations.VaultMattersUndeleteRequest, security: operations.VaultMattersUndeleteSecurity) -> operations.VaultMattersUndeleteResponse:
        r"""Undeletes the specified matter. Returns the matter with updated state."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersUndeleteRequest, base_url, '/v1/matters/{matterId}:undelete', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "request_body", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersUndeleteRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersUndeleteResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Matter])
                res.matter = out

        return res

    def vault_matters_update(self, request: operations.VaultMattersUpdateRequest, security: operations.VaultMattersUpdateSecurity) -> operations.VaultMattersUpdateResponse:
        r"""Updates the specified matter. This updates only the name and description of the matter, identified by matter ID. Changes to any other fields are ignored. Returns the default view of the matter."""
        base_url = self._server_url
        
        url = utils.generate_url(operations.VaultMattersUpdateRequest, base_url, '/v1/matters/{matterId}', request)
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "matter", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        query_params = utils.get_query_params(operations.VaultMattersUpdateRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('PUT', url, params=query_params, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.VaultMattersUpdateResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        
        if http_res.status_code == 200:
            if utils.match_content_type(content_type, 'application/json'):
                out = utils.unmarshal_json(http_res.text, Optional[shared.Matter])
                res.matter = out

        return res

    