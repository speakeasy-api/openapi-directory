<?php

/**
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

declare(strict_types=1);

namespace OpenAPI\OpenAPI;

class BillingAccounts 
{

	// SDK private variables namespaced with _ to avoid conflicts with API models
	private \GuzzleHttp\ClientInterface $_defaultClient;
	private \GuzzleHttp\ClientInterface $_securityClient;
	private string $_serverUrl;
	private string $_language;
	private string $_sdkVersion;
	private string $_genVersion;	

	/**
	 * @param \GuzzleHttp\ClientInterface $defaultClient
	 * @param \GuzzleHttp\ClientInterface $securityClient
	 * @param string $serverUrl
	 * @param string $language
	 * @param string $sdkVersion
	 * @param string $genVersion
	 */
	public function __construct(\GuzzleHttp\ClientInterface $defaultClient, \GuzzleHttp\ClientInterface $securityClient, string $serverUrl, string $language, string $sdkVersion, string $genVersion)
	{
		$this->_defaultClient = $defaultClient;
		$this->_securityClient = $securityClient;
		$this->_serverUrl = $serverUrl;
		$this->_language = $language;
		$this->_sdkVersion = $sdkVersion;
		$this->_genVersion = $genVersion;
	}
	
    /**
     * Creates a new budget. See [Quotas and limits](https://cloud.google.com/billing/quotas) for more information on the limits of the number of budgets you can create.
     * 
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsCreateRequest $request
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsCreateSecurity $security
     * @return \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsCreateResponse
     */
	public function billingbudgetsBillingAccountsBudgetsCreate(
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsCreateRequest $request,
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsCreateSecurity $security,
    ): \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsCreateResponse
    {
        $baseUrl = $this->_serverUrl;
        $url = Utils\Utils::generateUrl($baseUrl, '/v1/{parent}/budgets', \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsCreateRequest::class, $request);
        
        $options = ['http_errors' => false];
        $body = Utils\Utils::serializeRequestBody($request, "googleCloudBillingBudgetsV1BudgetInput", "json");
        $options = array_merge_recursive($options, $body);
        $options = array_merge_recursive($options, Utils\Utils::getQueryParams(\OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsCreateRequest::class, $request, null));
        
        $client = Utils\Utils::configureSecurityClient($this->_defaultClient, $security);
        $httpResponse = $client->request('POST', $url, $options);
        
        $contentType = $httpResponse->getHeader('Content-Type')[0] ?? '';

        $response = new \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsCreateResponse();
        $response->statusCode = $httpResponse->getStatusCode();
        $response->contentType = $contentType;
        $response->rawResponse = $httpResponse;
        
        if ($httpResponse->getStatusCode() === 200) {
            if (Utils\Utils::matchContentType($contentType, 'application/json')) {
                $serializer = Utils\JSON::createSerializer();
                $response->googleCloudBillingBudgetsV1Budget = $serializer->deserialize((string)$httpResponse->getBody(), 'OpenAPI\OpenAPI\Models\Shared\GoogleCloudBillingBudgetsV1Budget', 'json');
            }
        }

        return $response;
    }
	
    /**
     * Deletes a budget. Returns successfully if already deleted.
     * 
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsDeleteRequest $request
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsDeleteSecurity $security
     * @return \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsDeleteResponse
     */
	public function billingbudgetsBillingAccountsBudgetsDelete(
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsDeleteRequest $request,
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsDeleteSecurity $security,
    ): \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsDeleteResponse
    {
        $baseUrl = $this->_serverUrl;
        $url = Utils\Utils::generateUrl($baseUrl, '/v1/{name}', \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsDeleteRequest::class, $request);
        
        $options = ['http_errors' => false];
        $options = array_merge_recursive($options, Utils\Utils::getQueryParams(\OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsDeleteRequest::class, $request, null));
        
        $client = Utils\Utils::configureSecurityClient($this->_defaultClient, $security);
        $httpResponse = $client->request('DELETE', $url, $options);
        
        $contentType = $httpResponse->getHeader('Content-Type')[0] ?? '';

        $response = new \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsDeleteResponse();
        $response->statusCode = $httpResponse->getStatusCode();
        $response->contentType = $contentType;
        $response->rawResponse = $httpResponse;
        
        if ($httpResponse->getStatusCode() === 200) {
            if (Utils\Utils::matchContentType($contentType, 'application/json')) {
                $serializer = Utils\JSON::createSerializer();
                $response->googleProtobufEmpty = $serializer->deserialize((string)$httpResponse->getBody(), 'array<string, mixed>', 'json');
            }
        }

        return $response;
    }
	
    /**
     * Returns a budget. WARNING: There are some fields exposed on the Google Cloud Console that aren't available on this API. When reading from the API, you will not see these fields in the return value, though they may have been set in the Cloud Console.
     * 
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsGetRequest $request
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsGetSecurity $security
     * @return \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsGetResponse
     */
	public function billingbudgetsBillingAccountsBudgetsGet(
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsGetRequest $request,
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsGetSecurity $security,
    ): \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsGetResponse
    {
        $baseUrl = $this->_serverUrl;
        $url = Utils\Utils::generateUrl($baseUrl, '/v1/{name}', \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsGetRequest::class, $request);
        
        $options = ['http_errors' => false];
        $options = array_merge_recursive($options, Utils\Utils::getQueryParams(\OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsGetRequest::class, $request, null));
        
        $client = Utils\Utils::configureSecurityClient($this->_defaultClient, $security);
        $httpResponse = $client->request('GET', $url, $options);
        
        $contentType = $httpResponse->getHeader('Content-Type')[0] ?? '';

        $response = new \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsGetResponse();
        $response->statusCode = $httpResponse->getStatusCode();
        $response->contentType = $contentType;
        $response->rawResponse = $httpResponse;
        
        if ($httpResponse->getStatusCode() === 200) {
            if (Utils\Utils::matchContentType($contentType, 'application/json')) {
                $serializer = Utils\JSON::createSerializer();
                $response->googleCloudBillingBudgetsV1Budget = $serializer->deserialize((string)$httpResponse->getBody(), 'OpenAPI\OpenAPI\Models\Shared\GoogleCloudBillingBudgetsV1Budget', 'json');
            }
        }

        return $response;
    }
	
    /**
     * Returns a list of budgets for a billing account. WARNING: There are some fields exposed on the Google Cloud Console that aren't available on this API. When reading from the API, you will not see these fields in the return value, though they may have been set in the Cloud Console.
     * 
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsListRequest $request
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsListSecurity $security
     * @return \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsListResponse
     */
	public function billingbudgetsBillingAccountsBudgetsList(
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsListRequest $request,
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsListSecurity $security,
    ): \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsListResponse
    {
        $baseUrl = $this->_serverUrl;
        $url = Utils\Utils::generateUrl($baseUrl, '/v1/{parent}/budgets', \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsListRequest::class, $request);
        
        $options = ['http_errors' => false];
        $options = array_merge_recursive($options, Utils\Utils::getQueryParams(\OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsListRequest::class, $request, null));
        
        $client = Utils\Utils::configureSecurityClient($this->_defaultClient, $security);
        $httpResponse = $client->request('GET', $url, $options);
        
        $contentType = $httpResponse->getHeader('Content-Type')[0] ?? '';

        $response = new \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsListResponse();
        $response->statusCode = $httpResponse->getStatusCode();
        $response->contentType = $contentType;
        $response->rawResponse = $httpResponse;
        
        if ($httpResponse->getStatusCode() === 200) {
            if (Utils\Utils::matchContentType($contentType, 'application/json')) {
                $serializer = Utils\JSON::createSerializer();
                $response->googleCloudBillingBudgetsV1ListBudgetsResponse = $serializer->deserialize((string)$httpResponse->getBody(), 'OpenAPI\OpenAPI\Models\Shared\GoogleCloudBillingBudgetsV1ListBudgetsResponse', 'json');
            }
        }

        return $response;
    }
	
    /**
     * Updates a budget and returns the updated budget. WARNING: There are some fields exposed on the Google Cloud Console that aren't available on this API. Budget fields that are not exposed in this API will not be changed by this method.
     * 
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsPatchRequest $request
     * @param \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsPatchSecurity $security
     * @return \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsPatchResponse
     */
	public function billingbudgetsBillingAccountsBudgetsPatch(
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsPatchRequest $request,
        \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsPatchSecurity $security,
    ): \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsPatchResponse
    {
        $baseUrl = $this->_serverUrl;
        $url = Utils\Utils::generateUrl($baseUrl, '/v1/{name}', \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsPatchRequest::class, $request);
        
        $options = ['http_errors' => false];
        $body = Utils\Utils::serializeRequestBody($request, "googleCloudBillingBudgetsV1BudgetInput", "json");
        $options = array_merge_recursive($options, $body);
        $options = array_merge_recursive($options, Utils\Utils::getQueryParams(\OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsPatchRequest::class, $request, null));
        
        $client = Utils\Utils::configureSecurityClient($this->_defaultClient, $security);
        $httpResponse = $client->request('PATCH', $url, $options);
        
        $contentType = $httpResponse->getHeader('Content-Type')[0] ?? '';

        $response = new \OpenAPI\OpenAPI\Models\Operations\BillingbudgetsBillingAccountsBudgetsPatchResponse();
        $response->statusCode = $httpResponse->getStatusCode();
        $response->contentType = $contentType;
        $response->rawResponse = $httpResponse;
        
        if ($httpResponse->getStatusCode() === 200) {
            if (Utils\Utils::matchContentType($contentType, 'application/json')) {
                $serializer = Utils\JSON::createSerializer();
                $response->googleCloudBillingBudgetsV1Budget = $serializer->deserialize((string)$httpResponse->getBody(), 'OpenAPI\OpenAPI\Models\Shared\GoogleCloudBillingBudgetsV1Budget', 'json');
            }
        }

        return $response;
    }
}