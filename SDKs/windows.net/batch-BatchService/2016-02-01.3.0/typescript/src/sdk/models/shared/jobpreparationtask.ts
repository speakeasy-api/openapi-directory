/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { EnvironmentSetting } from "./environmentsetting";
import { ResourceFile } from "./resourcefile";
import { TaskConstraints } from "./taskconstraints";
import { Expose, Type } from "class-transformer";

/**
 * A Job Preparation task to run before any tasks of the job on any given compute node.
 */
export class JobPreparationTask extends SpeakeasyBase {
  /**
   * The command line of the Job Preparation task.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "commandLine" })
  commandLine?: string;

  /**
   * Constraints to apply to the Job Manager task.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "constraints" })
  @Type(() => TaskConstraints)
  constraints?: TaskConstraints;

  /**
   * A list of environment variable settings for the Job Preparation task.
   */
  @SpeakeasyMetadata({ elemType: EnvironmentSetting })
  @Expose({ name: "environmentSettings" })
  @Type(() => EnvironmentSetting)
  environmentSettings?: EnvironmentSetting[];

  /**
   * A string that uniquely identifies the job preparation task within the job. The id can contain any combination of alphanumeric characters including hyphens and underscores and cannot contain more than 64 characters.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "id" })
  id?: string;

  /**
   * Whether the Batch service should rerun the Job Preparation task after a compute node reboots. Note that the Job Preparation task should still be written to be idempotent because it can be rerun if the compute node is rebooted while Job Preparation task is still running. The default value is true.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "rerunOnNodeRebootAfterSuccess" })
  rerunOnNodeRebootAfterSuccess?: boolean;

  /**
   * A list of files that the Batch service will download to the compute node before running the command line.
   */
  @SpeakeasyMetadata({ elemType: ResourceFile })
  @Expose({ name: "resourceFiles" })
  @Type(() => ResourceFile)
  resourceFiles?: ResourceFile[];

  /**
   * Whether to run the Job Preparation task in elevated mode. The default value is false.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "runElevated" })
  runElevated?: boolean;

  /**
   * Whether the Batch service should wait for the Job Preparation task to complete successfully before scheduling any other tasks of the job on the compute node.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "waitForSuccess" })
  waitForSuccess?: boolean;
}
