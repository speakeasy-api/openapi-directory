/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { Environment } from "./environment";
import { Shard } from "./shard";
import { TestDetails } from "./testdetails";
import { TestSpecification } from "./testspecification";
import { ToolResultsStep } from "./toolresultsstep";
import { Expose, Type } from "class-transformer";

/**
 * Output only. Indicates the current progress of the test execution (e.g., FINISHED).
 */
export enum TestExecutionStateEnum {
  TestStateUnspecified = "TEST_STATE_UNSPECIFIED",
  Validating = "VALIDATING",
  Pending = "PENDING",
  Running = "RUNNING",
  Finished = "FINISHED",
  Error = "ERROR",
  UnsupportedEnvironment = "UNSUPPORTED_ENVIRONMENT",
  IncompatibleEnvironment = "INCOMPATIBLE_ENVIRONMENT",
  IncompatibleArchitecture = "INCOMPATIBLE_ARCHITECTURE",
  Cancelled = "CANCELLED",
  Invalid = "INVALID",
}

/**
 * A single test executed in a single environment.
 */
export class TestExecution extends SpeakeasyBase {
  /**
   * The environment in which the test is run.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "environment" })
  @Type(() => Environment)
  environment?: Environment;

  /**
   * Output only. Unique id set by the service.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "id" })
  id?: string;

  /**
   * Output only. Id of the containing TestMatrix.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "matrixId" })
  matrixId?: string;

  /**
   * Output only. The cloud project that owns the test execution.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "projectId" })
  projectId?: string;

  /**
   * Output only. Details about the shard.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "shard" })
  @Type(() => Shard)
  shard?: Shard;

  /**
   * Output only. Indicates the current progress of the test execution (e.g., FINISHED).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "state" })
  state?: TestExecutionStateEnum;

  /**
   * Additional details about the progress of the running test.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "testDetails" })
  @Type(() => TestDetails)
  testDetails?: TestDetails;

  /**
   * A description of how to run the test.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "testSpecification" })
  @Type(() => TestSpecification)
  testSpecification?: TestSpecification;

  /**
   * Output only. The time this test execution was initially created.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timestamp" })
  timestamp?: string;

  /**
   * Represents a tool results step resource. This has the results of a TestExecution.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "toolResultsStep" })
  @Type(() => ToolResultsStep)
  toolResultsStep?: ToolResultsStep;
}
