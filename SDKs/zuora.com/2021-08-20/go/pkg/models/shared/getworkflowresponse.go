// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// GetWorkflowResponseStatusEnum - The status of the workflow:
//   - Queued: The workflow is in queue for being processed.
//   - Processing: The workflow is in process.
//   - Stopping: The workflow is being stopped through Zuora UI.
//   - Stopped: The workflow is stopped through Zuora UI.
//   - Finished: The workflow is finished. When a workflow is finished, it might have tasks pending for retry or delay. Pending tasks do not block the onfinish branch of the workflow, but they block the oncomplete branch of the iterate.
type GetWorkflowResponseStatusEnum string

const (
	GetWorkflowResponseStatusEnumQueued     GetWorkflowResponseStatusEnum = "Queued"
	GetWorkflowResponseStatusEnumProcessing GetWorkflowResponseStatusEnum = "Processing"
	GetWorkflowResponseStatusEnumStopping   GetWorkflowResponseStatusEnum = "Stopping"
	GetWorkflowResponseStatusEnumStopped    GetWorkflowResponseStatusEnum = "Stopped"
	GetWorkflowResponseStatusEnumFinished   GetWorkflowResponseStatusEnum = "Finished"
)

func (e *GetWorkflowResponseStatusEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "Queued":
		fallthrough
	case "Processing":
		fallthrough
	case "Stopping":
		fallthrough
	case "Stopped":
		fallthrough
	case "Finished":
		*e = GetWorkflowResponseStatusEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for GetWorkflowResponseStatusEnum: %s", s)
	}
}

// GetWorkflowResponseTasks - An object containing task counts.
type GetWorkflowResponseTasks struct {
	// The number of tasks in **Error** state.
	//
	Error *int64 `json:"error,omitempty"`
	// The number of tasks in **Pending** state.
	//
	Pending *int64 `json:"pending,omitempty"`
	// The number of tasks in **Processing** state.
	//
	Processing *int64 `json:"processing,omitempty"`
	// The number of tasks in **Queued** state.
	//
	Queued *int64 `json:"queued,omitempty"`
	// The number of tasks in **Stopped** state.
	//
	Stopped *int64 `json:"stopped,omitempty"`
	// The number of tasks in **Success** state.
	//
	Success *int64 `json:"success,omitempty"`
	// The total number of tasks.
	//
	Total *int64 `json:"total,omitempty"`
}

type GetWorkflowResponse struct {
	// The overall CPU time for the execution of the workflow.
	//
	CPUTime *string `json:"cpuTime,omitempty"`
	// The date and time when the workflow is created, in the `YYYY-MM-DD HH:MM:SS` format..
	//
	CreatedAt *string `json:"createdAt,omitempty"`
	// The date and time when the execution of the workflow completes, in the `YYYY-MM-DD HH:MM:SS` format.
	//
	FinishedAt *string `json:"finishedAt,omitempty"`
	// The unique ID of the workflow.
	//
	ID *int64 `json:"id,omitempty"`
	// Messages from tasks.
	//
	Messages map[string]interface{} `json:"messages,omitempty"`
	// The unique run number of the workflow.
	//
	Name *string `json:"name,omitempty"`
	// The ID of the workflow setup.
	//
	OriginalWorkflowID *string `json:"originalWorkflowId,omitempty"`
	// The execution time of the workflow including the waiting time, in seconds.
	//
	RunTime *float64 `json:"runTime,omitempty"`
	// The status of the workflow:
	//   - Queued: The workflow is in queue for being processed.
	//   - Processing: The workflow is in process.
	//   - Stopping: The workflow is being stopped through Zuora UI.
	//   - Stopped: The workflow is stopped through Zuora UI.
	//   - Finished: The workflow is finished. When a workflow is finished, it might have tasks pending for retry or delay. Pending tasks do not block the onfinish branch of the workflow, but they block the oncomplete branch of the iterate.
	//
	Status *GetWorkflowResponseStatusEnum `json:"status,omitempty"`
	// An object containing task counts.
	//
	Tasks *GetWorkflowResponseTasks `json:"tasks,omitempty"`
	// The type of the current workflow.
	// Possible values:
	//     - `Workflow::Setup`: The workflow is a setup and is used for creating workflow instances.
	//     - `Workflow::Instance`: The workflow is an execution that has data.
	//
	Type *string `json:"type,omitempty"`
	// The date and time when the workflow is updated the last time, in the `YYYY-MM-DD HH:MM:SS` format.
	//
	UpdatedAt *string `json:"updatedAt,omitempty"`
}
