// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// OpenIDIdpConfigFlowEnum - &#128640; Since v4.11.0
//
// Flow, which is used at authentication
type OpenIDIdpConfigFlowEnum string

const (
	OpenIDIdpConfigFlowEnumAuthorizationCode OpenIDIdpConfigFlowEnum = "authorization_code"
	OpenIDIdpConfigFlowEnumHybrid            OpenIDIdpConfigFlowEnum = "hybrid"
)

func (e *OpenIDIdpConfigFlowEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "authorization_code":
		fallthrough
	case "hybrid":
		*e = OpenIDIdpConfigFlowEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for OpenIDIdpConfigFlowEnum: %s", s)
	}
}

// OpenIDIdpConfigUserInfoSourceEnum - &#128640; Since v4.23.0
//
// Source, which is used to get user information at the import or update of a user.
type OpenIDIdpConfigUserInfoSourceEnum string

const (
	OpenIDIdpConfigUserInfoSourceEnumUserInfoEndpoint OpenIDIdpConfigUserInfoSourceEnum = "user_info_endpoint"
	OpenIDIdpConfigUserInfoSourceEnumIDToken          OpenIDIdpConfigUserInfoSourceEnum = "id_token"
)

func (e *OpenIDIdpConfigUserInfoSourceEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "user_info_endpoint":
		fallthrough
	case "id_token":
		*e = OpenIDIdpConfigUserInfoSourceEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for OpenIDIdpConfigUserInfoSourceEnum: %s", s)
	}
}

// OpenIDIdpConfig - OpenID Connect IDP configuration
type OpenIDIdpConfig struct {
	// URL of the authorization endpoint
	AuthorizationEndPointURL *string `json:"authorizationEndPointUrl,omitempty"`
	// ID of the OpenID client
	ClientID *string `json:"clientId,omitempty"`
	// Secret, which client uses at authentication.
	ClientSecret *string `json:"clientSecret,omitempty"`
	// Name of the claim which is used for the user mapping fallback.
	FallbackMappingClaim *string `json:"fallbackMappingClaim,omitempty"`
	// &#128640; Since v4.11.0
	//
	// Flow, which is used at authentication
	Flow *OpenIDIdpConfigFlowEnum `json:"flow,omitempty"`
	// ID
	ID int `json:"id"`
	// Issuer identifier of the IDP
	//
	// The value is a case sensitive URL.
	Issuer *string `json:"issuer,omitempty"`
	// URL of the JWKS endpoint
	JwksEndPointURL *string `json:"jwksEndPointUrl,omitempty"`
	// Name of the claim which is used for the user mapping.
	MappingClaim *string `json:"mappingClaim,omitempty"`
	// Name of the IDP
	Name *string `json:"name,omitempty"`
	// PKCE code challenge method.
	//
	// cf. [RFC 7636](https://tools.ietf.org/html/rfc7636)
	PkceChallengeMethod *string `json:"pkceChallengeMethod,omitempty"`
	// Determines whether PKCE is enabled.
	//
	// cf. [RFC 7636](https://tools.ietf.org/html/rfc7636)
	PkceEnabled *bool `json:"pkceEnabled,omitempty"`
	// URIs, to which a user is redirected after authorization.
	RedirectUris []string `json:"redirectUris,omitempty"`
	// List of requested scopes
	//
	// Usually `openid` and the names of the requested claims.
	Scopes []string `json:"scopes,omitempty"`
	// URL of the token endpoint
	TokenEndPointURL *string `json:"tokenEndPointUrl,omitempty"`
	// Determines if a DRACOON account is automatically created for a new user
	//
	// who successfully logs on with his / her AD / IDP account.
	UserImportEnabled *bool `json:"userImportEnabled,omitempty"`
	// User group that is assigned to users who are created by automatic import.
	//
	// Reset with `0`
	UserImportGroup *int64 `json:"userImportGroup,omitempty"`
	// URL of the user info endpoint
	UserInfoEndPointURL *string `json:"userInfoEndPointUrl,omitempty"`
	// &#128640; Since v4.23.0
	//
	// Source, which is used to get user information at the import or update of a user.
	UserInfoSource *OpenIDIdpConfigUserInfoSourceEnum `json:"userInfoSource,omitempty"`
	// URL of the user management UI.
	//
	// Use empty string to remove.
	UserManagementURL *string `json:"userManagementUrl,omitempty"`
	// Determines if the DRACOON account is updated with data from AD / IDP.
	//
	// For OpenID Connect, the scopes `email` and `profile` are needed.
	UserUpdateEnabled *bool `json:"userUpdateEnabled,omitempty"`
}
