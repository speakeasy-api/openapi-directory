// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum - The HTTP method of the callout.
type PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum string

const (
	PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnumGet    PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum = "GET"
	PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnumPut    PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum = "PUT"
	PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnumPost   PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum = "POST"
	PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnumDelete PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum = "DELETE"
)

func (e *PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "GET":
		fallthrough
	case "PUT":
		fallthrough
	case "POST":
		fallthrough
	case "DELETE":
		*e = PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum: %s", s)
	}
}

type PUTPublicNotificationDefinitionRequestCallout struct {
	// The status of the callout. The default is true.
	Active *bool `json:"active,omitempty"`
	// If requiredAuth is true, this object is required.
	CalloutAuth *CalloutAuth `json:"calloutAuth,omitempty"`
	// The callout URL. It must start with 'https://'
	CalloutBaseurl string `json:"calloutBaseurl"`
	// A key-value map of merge fields of this callout.
	//
	CalloutParams map[string]string `json:"calloutParams,omitempty"`
	// Specified whether to retry the callout when the callout fails. The default is true.
	CalloutRetry *bool `json:"calloutRetry,omitempty"`
	// Description for the callout.
	Description *string `json:"description,omitempty"`
	// The HTTP method of the callout.
	HTTPMethod PUTPublicNotificationDefinitionRequestCalloutHTTPMethodEnum `json:"httpMethod"`
	// The name of the created callout.
	Name string `json:"name"`
	// Specifies whether the callout requires auth.
	RequiredAuth bool `json:"requiredAuth"`
}

type PUTPublicNotificationDefinitionRequestFilterRule struct {
	// The filter rule conditions, written in [JEXL](http://commons.apache.org/proper/commons-jexl/).
	// The rule might contain event context merge fields and data source merge fields. Data source merge fields must be from [the base object of the event or from the joined objects of the base object](https://knowledgecenter.zuora.com/DC_Developers/M_Export_ZOQL#Data_Sources_and_Objects). Notifications with invalid merge fields will fail to evaluate, thus will not be invoked. For example, to trigger an event when an invoice is posted with the amount over 1000, you would define the following condition on the `Invoice` object:
	//
	// ```changeType == 'UPDATE' && Invoice.Status == 'Posted' && Invoice.Status_old != 'Posted' && Invoice.Amount > 1000```
	//
	// There are conventions and keywords you need to be aware of. For example:
	//
	// * `changeType` is a keyword to specify what kind of change happened to the object. Allowed values are `INSERT`, `UPDATE` or `DELETE`.
	//
	// * `Invoice.Status` refers to field `Status` of the Zuora object `Invoice`.
	//
	// * A variable with the `_old` suffix means itâ€™s a previous value of the corresponding object field. The "_old" fields are only available on the base objects.
	//
	Condition string `json:"condition"`
	// The description of the filter rule.
	Description *string `json:"description,omitempty"`
	// The parameters of the filter rule and their name must match those in the filter rule. And all parameters must be defined in the event type payload. The name of parameters can't be duplicate. The following reserved keywords should not be used as a parameter name: `AttachmentList`, `RecipientList`, `RecipientType`, `Exceptions`, `OCP_OBJECT_TYPE`, `OCP_OBJECT_ID`, `OCP_TRIGGER_BY`
	//
	Parameters map[string]FilterRuleParameterDefinition `json:"parameters"`
}

// PUTPublicNotificationDefinitionRequest - The request body of the notification definition to be updated.
type PUTPublicNotificationDefinitionRequest struct {
	// The status of the notification definition. The default value is true.
	Active  *bool                                          `json:"active,omitempty"`
	Callout *PUTPublicNotificationDefinitionRequestCallout `json:"callout,omitempty"`
	// The status of the callout action. The default value is false.
	CalloutActive *bool `json:"calloutActive,omitempty"`
	// The profile that notification definition belongs to. If you want to
	// update the notification to a system notification, you should pass
	// 'SystemNotification'. '
	//
	// * When EventType is CDC/External and 'ReferenceObjectType' in EventType is associated to Account, comunicationProfileId can be 'SystemNotification'/Empty/UUID.
	//
	// * When EventType is CDC/External and 'ReferenceObjectType' in EventType is not  associated to Account, comunicationProfileId can be 'SystemNotification'/Empty.
	//
	// * When EventType is CDC/External and 'ReferenceObjectType' in EventType is EMPTY, comunicationProfileId can be 'SystemNotification'/Empty.
	//
	CommunicationProfileID *string `json:"communicationProfileId,omitempty"`
	// The description of the notification definition.
	Description *string `json:"description,omitempty"`
	// The status of the email action. The default is false.
	EmailActive *bool `json:"emailActive,omitempty"`
	// The ID of the email template. If emailActive is updated from
	// false to true, an email template is required, and the EventType of
	// the email template MUST be the same as the EventType of the notification definition.
	//
	EmailTemplateID *string                                           `json:"emailTemplateId,omitempty"`
	FilterRule      *PUTPublicNotificationDefinitionRequestFilterRule `json:"filterRule,omitempty"`
	// The parameter values used to configure the filter rule.
	//
	FilterRuleParams map[string]string `json:"filterRuleParams,omitempty"`
	// The name of the notification definition, which is unique in the profile.
	Name *string `json:"name,omitempty"`
}
