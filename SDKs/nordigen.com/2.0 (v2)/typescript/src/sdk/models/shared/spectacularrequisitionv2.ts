/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { Expose, Transform } from "class-transformer";

/**
 * status of this requisition
 */
export enum SpectacularRequisitionV2RequisitionStatusEnum {
  Cr = "CR",
  Id = "ID",
  Ln = "LN",
  Rj = "RJ",
  Er = "ER",
  Su = "SU",
  Ex = "EX",
  Gc = "GC",
  Ua = "UA",
  Ga = "GA",
  Sa = "SA",
}

/**
 * Create requisition.
 */
export class SpectacularRequisitionV2 extends SpeakeasyBase {
  /**
   * option to enable account selection view for the end user
   */
  @SpeakeasyMetadata()
  @Expose({ name: "account_selection" })
  accountSelection?: boolean;

  /**
   * array of account IDs retrieved within a scope of this requisition
   */
  @SpeakeasyMetadata()
  @Expose({ name: "accounts" })
  accounts?: any[];

  /**
   * EUA associated with this requisition
   */
  @SpeakeasyMetadata()
  @Expose({ name: "agreement" })
  agreement?: string;

  /**
   * The date & time at which the requisition was created.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "created" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  created?: Date;

  @SpeakeasyMetadata()
  @Expose({ name: "id" })
  id?: string;

  /**
   * an Institution ID for this Requisition
   */
  @SpeakeasyMetadata()
  @Expose({ name: "institution_id" })
  institutionId: string;

  /**
   * link to initiate authorization with Institution
   */
  @SpeakeasyMetadata()
  @Expose({ name: "link" })
  link?: string;

  /**
   * redirect URL to your application after end-user authorization with ASPSP
   */
  @SpeakeasyMetadata()
  @Expose({ name: "redirect" })
  redirect: string;

  /**
   * enable redirect back to the client after account list received
   */
  @SpeakeasyMetadata()
  @Expose({ name: "redirect_immediate" })
  redirectImmediate?: boolean;

  /**
   * additional ID to identify the end user
   */
  @SpeakeasyMetadata()
  @Expose({ name: "reference" })
  reference?: string;

  /**
   * optional SSN field to verify ownership of the account
   */
  @SpeakeasyMetadata()
  @Expose({ name: "ssn" })
  ssn?: string;

  /**
   * status of this requisition
   */
  @SpeakeasyMetadata()
  @Expose({ name: "status" })
  status?: SpectacularRequisitionV2RequisitionStatusEnum;

  /**
   * A two-letter country code (ISO 639-1)
   */
  @SpeakeasyMetadata()
  @Expose({ name: "user_language" })
  userLanguage?: string;
}
