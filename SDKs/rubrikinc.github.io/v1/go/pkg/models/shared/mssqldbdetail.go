// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
	"openapi/pkg/types"
	"time"
)

// MssqlDbDetailRecoveryModelEnum - This field is deprecated. Use the recoveryModel field on the replicas list instead. This field will continue to work for non-availability databases, but it is meaningless for availability databases.
type MssqlDbDetailRecoveryModelEnum string

const (
	MssqlDbDetailRecoveryModelEnumSimple     MssqlDbDetailRecoveryModelEnum = "SIMPLE"
	MssqlDbDetailRecoveryModelEnumFull       MssqlDbDetailRecoveryModelEnum = "FULL"
	MssqlDbDetailRecoveryModelEnumBulkLogged MssqlDbDetailRecoveryModelEnum = "BULK_LOGGED"
)

func (e MssqlDbDetailRecoveryModelEnum) ToPointer() *MssqlDbDetailRecoveryModelEnum {
	return &e
}

func (e *MssqlDbDetailRecoveryModelEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "SIMPLE":
		fallthrough
	case "FULL":
		fallthrough
	case "BULK_LOGGED":
		*e = MssqlDbDetailRecoveryModelEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for MssqlDbDetailRecoveryModelEnum: %v", v)
	}
}

// MssqlDbDetailSLAAssignmentEnum - The SLA assignment type. Direct SLA assignment means that a SLA Domain was configured directly on the Rubrik object by the user. Derived SLA assignment means that the Rubrik object inherits an SLA Domain from its parent Rubrik object.
type MssqlDbDetailSLAAssignmentEnum string

const (
	MssqlDbDetailSLAAssignmentEnumDerived    MssqlDbDetailSLAAssignmentEnum = "Derived"
	MssqlDbDetailSLAAssignmentEnumDirect     MssqlDbDetailSLAAssignmentEnum = "Direct"
	MssqlDbDetailSLAAssignmentEnumUnassigned MssqlDbDetailSLAAssignmentEnum = "Unassigned"
)

func (e MssqlDbDetailSLAAssignmentEnum) ToPointer() *MssqlDbDetailSLAAssignmentEnum {
	return &e
}

func (e *MssqlDbDetailSLAAssignmentEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "Derived":
		fallthrough
	case "Direct":
		fallthrough
	case "Unassigned":
		*e = MssqlDbDetailSLAAssignmentEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for MssqlDbDetailSLAAssignmentEnum: %v", v)
	}
}

// MssqlDbDetail - Returned if the query was successful.
type MssqlDbDetail struct {
	ArchiveStorage *int64 `json:"archiveStorage,omitempty"`
	// For an availability database, the ID of the availability group that the database belongs to.
	AvailabilityGroupID  *string              `json:"availabilityGroupId,omitempty"`
	BlackoutWindowStatus BlackoutWindowStatus `json:"blackoutWindowStatus"`
	BlackoutWindows      BlackoutWindows      `json:"blackoutWindows"`
	// The ID of the SLA Domain configured directly on the Rubrik object.
	ConfiguredSLADomainID string `json:"configuredSlaDomainId"`
	// The name of the SLA Domain configured directly on the Rubrik object.
	ConfiguredSLADomainName string `json:"configuredSlaDomainName"`
	// Specifies whether the SLA Domain is used for protection or retention.
	ConfiguredSLADomainType *ConfiguredSLATypeEnum `json:"configuredSlaDomainType,omitempty"`
	// Boolean value that specifies whether or not to perform copy-only backups of the database. When true, database backups are copy-only backups. When false, database backups are full backups.
	CopyOnly              bool                      `json:"copyOnly"`
	CurrentBackupTaskInfo *BackupTaskDiagnosticInfo `json:"currentBackupTaskInfo,omitempty"`
	// The ID of the SLA Domain that controls the protection of the Rubrik object.
	EffectiveSLADomainID string `json:"effectiveSlaDomainId"`
	// The name of the SLA Domain that controls the protection of the Rubrik object.
	EffectiveSLADomainName string `json:"effectiveSlaDomainName"`
	// Optional. This field contains the managed ID of of the Polaris-managed effective SLA Domain.
	EffectiveSLADomainPolarisManagedID *string `json:"effectiveSlaDomainPolarisManagedId,omitempty"`
	// The ID of the parent of the Rubrik object from which the SLA Domain that controls the protection of Rubrik object is inherited.
	EffectiveSLASourceObjectID *string `json:"effectiveSlaSourceObjectId,omitempty"`
	// The name of the parent of the Rubrik object from which the SLA Domain that controls the protection of Rubrik object is inherited.
	EffectiveSLASourceObjectName *string `json:"effectiveSlaSourceObjectName,omitempty"`
	// A Boolean value that specifies whether the cluster has permission to back up the database. When this value is 'true', the cluster has permission to back up the database.
	HasPermissions bool `json:"hasPermissions"`
	// The ID of the Rubrik object.
	ID string `json:"id"`
	// True/false value indicating if backup task information is included in the response.
	IncludeBackupTaskInfo *bool `json:"includeBackupTaskInfo,omitempty"`
	// This field is deprecated. Use the instanceId field on the replicas list instead. This field will continue to work for non-availability databases, but it is meaningless for availability databases.
	InstanceID *string `json:"instanceId,omitempty"`
	// This field is deprecated. Use the instanceName field on the replicas list instead. This field will continue to work for non-availability databases, but it is meaningless for availability databases.
	InstanceName *string `json:"instanceName,omitempty"`
	// Indicates whether the configured SLA Domain is Retention Locked. When this value is 'true', the configured SLA Domain is a Retention Lock SLA Domain.
	IsConfiguredSLADomainRetentionLocked *bool `json:"isConfiguredSlaDomainRetentionLocked,omitempty"`
	// Indicates whether the effective SLA Domain is Retention Locked. When this value is 'true', the effective SLA domain is a Retention Lock SLA Domain.
	IsEffectiveSLADomainRetentionLocked *bool `json:"isEffectiveSlaDomainRetentionLocked,omitempty"`
	IsInAvailabilityGroup               bool  `json:"isInAvailabilityGroup"`
	// Boolean value that specifies whether a database object is a Live Mount. Value is 'true' when the database object is a Live Mount.
	IsLiveMount bool  `json:"isLiveMount"`
	IsLocal     *bool `json:"isLocal,omitempty"`
	// Boolean value that specifies whether a database object represents a secondary database. Value is 'true' when the database object represents a secondary database in a log shipping configuration.
	IsLogShippingSecondary bool `json:"isLogShippingSecondary"`
	// A Boolean value that specifies whether the database is in the ONLINE state. When this value is 'true', the database is in the ONLINE state.
	IsOnline bool `json:"isOnline"`
	IsRelic  bool `json:"isRelic"`
	// This field is deprecated. Use the isStandby field on the replicas list instead. This field will continue to work for non-availability databases, but it is meaningless for availability databases.
	IsStandby *bool `json:"isStandby,omitempty"`
	// The timestamp of the previous snapshot.. Only available in the /v1/mssql/db endpoint request body. The information will not be available for other endpoints.
	LastSnapshotTime            *time.Time  `json:"lastSnapshotTime,omitempty"`
	LatestRecoveryPoint         *types.Date `json:"latestRecoveryPoint,omitempty"`
	LocalStorage                *int64      `json:"localStorage,omitempty"`
	LogBackupFrequencyInSeconds int         `json:"logBackupFrequencyInSeconds"`
	// Hours to keep a log backup. A value of -1 indicates that a log will only expire when the preceding snapshots have expired.
	LogBackupRetentionHours int  `json:"logBackupRetentionHours"`
	MaxDataStreams          *int `json:"maxDataStreams,omitempty"`
	// The name of the Rubrik object.
	Name string `json:"name"`
	// An integer that specifies the number of missed snapshots. Only available in the /v1/mssql/db endpoint request body. The information will not be available for other endpoints.
	NumMissedSnapshot   int                          `json:"numMissedSnapshot"`
	OldestRecoveryPoint *types.Date                  `json:"oldestRecoveryPoint,omitempty"`
	PendingSLADomain    *ManagedObjectPendingSLAInfo `json:"pendingSlaDomain,omitempty"`
	PostBackupScript    *MssqlScriptDetail           `json:"postBackupScript,omitempty"`
	PreBackupScript     *MssqlScriptDetail           `json:"preBackupScript,omitempty"`
	// The ID of the cluster that manages the Rubrik object.
	PrimaryClusterID string      `json:"primaryClusterId"`
	ProtectionDate   *types.Date `json:"protectionDate,omitempty"`
	// This field is deprecated. Use the recoveryForkGuid field on the replicas list instead. This field will continue to work for non-availability databases, but it is meaningless for availability databases.
	RecoveryForkGUID *string `json:"recoveryForkGuid,omitempty"`
	// This field is deprecated. Use the recoveryModel field on the replicas list instead. This field will continue to work for non-availability databases, but it is meaningless for availability databases.
	RecoveryModel *MssqlDbDetailRecoveryModelEnum `json:"recoveryModel,omitempty"`
	// List of replicas of this database. An availability database may have multiple replicas, while other databases will have only one replica.
	Replicas []MssqlDbReplica `json:"replicas"`
	// The ID of the SLA Domain whose retention policy is in use.
	RetentionSLADomainID *string             `json:"retentionSlaDomainId,omitempty"`
	RootProperties       MssqlRootProperties `json:"rootProperties"`
	// The SLA assignment type. Direct SLA assignment means that a SLA Domain was configured directly on the Rubrik object by the user. Derived SLA assignment means that the Rubrik object inherits an SLA Domain from its parent Rubrik object.
	SLAAssignment MssqlDbDetailSLAAssignmentEnum `json:"slaAssignment"`
	// The UTC time when the SLA Domain was last updated.
	SLALastUpdateTime *time.Time `json:"slaLastUpdateTime,omitempty"`
	SnapshotCount     int        `json:"snapshotCount"`
	// This field is deprecated. Use the state field on the replicas list instead. This field will continue to work for non-availability databases, but it is meaningless for availability databases.
	State *string `json:"state,omitempty"`
	// A list of reasons that a SQL Server database cannot be protected by the Rubrik CDM.
	UnprotectableReasons []string `json:"unprotectableReasons"`
}
