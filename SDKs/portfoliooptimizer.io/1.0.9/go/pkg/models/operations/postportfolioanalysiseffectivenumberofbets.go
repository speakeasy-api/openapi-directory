// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"net/http"
)

// PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnum - The method used to extract the uncorrelated risk factors from the asset covariance matrix
type PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnum string

const (
	PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnumPrincipalComponentAnalysis      PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnum = "principalComponentAnalysis"
	PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnumExactMinimumLinearTorsion       PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnum = "exactMinimumLinearTorsion"
	PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnumApproximateMinimumLinearTorsion PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnum = "approximateMinimumLinearTorsion"
)

func (e *PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "principalComponentAnalysis":
		fallthrough
	case "exactMinimumLinearTorsion":
		fallthrough
	case "approximateMinimumLinearTorsion":
		*e = PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnum: %s", s)
	}
}

type PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyPortfolios struct {
	// assetsWeights[i] is the weight of the asset i in the portfolio, in percentage
	AssetsWeights []float64 `json:"assetsWeights"`
}

type PostPortfolioAnalysisEffectiveNumberOfBetsRequestBody struct {
	// The number of assets
	Assets int64 `json:"assets"`
	// assetsCovarianceMatrix[i][j] is the covariance between the asset i and the asset j
	AssetsCovarianceMatrix [][]float64 `json:"assetsCovarianceMatrix"`
	// The method used to extract the uncorrelated risk factors from the asset covariance matrix
	FactorsExtractionMethod *PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyFactorsExtractionMethodEnum `json:"factorsExtractionMethod,omitempty"`
	Portfolios              []PostPortfolioAnalysisEffectiveNumberOfBetsRequestBodyPortfolios                 `json:"portfolios"`
}

type PostPortfolioAnalysisEffectiveNumberOfBets200ApplicationJSONPortfolios struct {
	// The effective number of bets of the portfolio
	PortfolioEffectiveNumberOfBets float64 `json:"portfolioEffectiveNumberOfBets"`
}

// PostPortfolioAnalysisEffectiveNumberOfBets200ApplicationJSON - OK
type PostPortfolioAnalysisEffectiveNumberOfBets200ApplicationJSON struct {
	Portfolios []PostPortfolioAnalysisEffectiveNumberOfBets200ApplicationJSONPortfolios `json:"portfolios"`
}

type PostPortfolioAnalysisEffectiveNumberOfBetsResponse struct {
	ContentType string
	StatusCode  int
	RawResponse *http.Response
	// OK
	PostPortfolioAnalysisEffectiveNumberOfBets200ApplicationJSONObject *PostPortfolioAnalysisEffectiveNumberOfBets200ApplicationJSON
}
