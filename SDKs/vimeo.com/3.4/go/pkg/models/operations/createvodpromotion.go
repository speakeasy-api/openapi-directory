// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"net/http"
	"openapi/pkg/models/shared"
)

type CreateVodPromotionSecurity struct {
	Oauth2 shared.SchemeOauth2 `security:"scheme,type=oauth2"`
}

type CreateVodPromotionPathParams struct {
	// The ID of the On Demand.
	OndemandID float64 `pathParam:"style=simple,explode=false,name=ondemand_id"`
}

// CreateVodPromotionRequestBodyAccessTypeEnum - The promotion access type, which is a purchase option that isn't available on the container. VIP promotions always make the content free of charge. If you use this type, you must further define the promotion with the `download` or `stream_period` fields.
//
// Option descriptions:
//   - `default` - Promotions grant discount on the existing purchase options for an On Demand Container.
//   - `vip` - Promotions can be used to grant free access to VOD content before it is released, or to offer a purchase option that isn't available on the container. "vip" promotions will always make the content free, and must be further defined with the `download` or `stream_period` fields.
type CreateVodPromotionRequestBodyAccessTypeEnum string

const (
	CreateVodPromotionRequestBodyAccessTypeEnumDefault CreateVodPromotionRequestBodyAccessTypeEnum = "default"
	CreateVodPromotionRequestBodyAccessTypeEnumVip     CreateVodPromotionRequestBodyAccessTypeEnum = "vip"
)

func (e *CreateVodPromotionRequestBodyAccessTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "default":
		fallthrough
	case "vip":
		*e = CreateVodPromotionRequestBodyAccessTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for CreateVodPromotionRequestBodyAccessTypeEnum: %s", s)
	}
}

// CreateVodPromotionRequestBodyDiscountTypeEnum - The type of discount offered by the promo code. When `access_type` is `vip`, the value of this field must be `free`.
//
// Option descriptions:
//   - `free` - Reduces the price to zero.
//   - `percent` - Reduces the price by an amount defined in the "percent_off" field.
type CreateVodPromotionRequestBodyDiscountTypeEnum string

const (
	CreateVodPromotionRequestBodyDiscountTypeEnumFree    CreateVodPromotionRequestBodyDiscountTypeEnum = "free"
	CreateVodPromotionRequestBodyDiscountTypeEnumPercent CreateVodPromotionRequestBodyDiscountTypeEnum = "percent"
)

func (e *CreateVodPromotionRequestBodyDiscountTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "free":
		fallthrough
	case "percent":
		*e = CreateVodPromotionRequestBodyDiscountTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for CreateVodPromotionRequestBodyDiscountTypeEnum: %s", s)
	}
}

// CreateVodPromotionRequestBodyProductTypeEnum - The type of transaction to which the promotion applies. When `access_type` is `default`, the default value is `any`, but the default value is `rent` when `access_type` is `vip`. Also, when `access_type` is `vip`, the only valid product types are `buy` and `rent`.
type CreateVodPromotionRequestBodyProductTypeEnum string

const (
	CreateVodPromotionRequestBodyProductTypeEnumAny         CreateVodPromotionRequestBodyProductTypeEnum = "any"
	CreateVodPromotionRequestBodyProductTypeEnumBuy         CreateVodPromotionRequestBodyProductTypeEnum = "buy"
	CreateVodPromotionRequestBodyProductTypeEnumBuyEpisode  CreateVodPromotionRequestBodyProductTypeEnum = "buy_episode"
	CreateVodPromotionRequestBodyProductTypeEnumRent        CreateVodPromotionRequestBodyProductTypeEnum = "rent"
	CreateVodPromotionRequestBodyProductTypeEnumRentEpisode CreateVodPromotionRequestBodyProductTypeEnum = "rent_episode"
	CreateVodPromotionRequestBodyProductTypeEnumSubscribe   CreateVodPromotionRequestBodyProductTypeEnum = "subscribe"
)

func (e *CreateVodPromotionRequestBodyProductTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "any":
		fallthrough
	case "buy":
		fallthrough
	case "buy_episode":
		fallthrough
	case "rent":
		fallthrough
	case "rent_episode":
		fallthrough
	case "subscribe":
		*e = CreateVodPromotionRequestBodyProductTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for CreateVodPromotionRequestBodyProductTypeEnum: %s", s)
	}
}

// CreateVodPromotionRequestBodyStreamPeriodEnum - The amount of time that a user has access to the VOD content upon redeeming a promo code. This field is necessary only when not defined in the On Demand container or when creating promotions when `access_type` is `vip` or `product_type` is `rent`.
type CreateVodPromotionRequestBodyStreamPeriodEnum string

const (
	CreateVodPromotionRequestBodyStreamPeriodEnumOneWeek        CreateVodPromotionRequestBodyStreamPeriodEnum = "1_week"
	CreateVodPromotionRequestBodyStreamPeriodEnumOneYear        CreateVodPromotionRequestBodyStreamPeriodEnum = "1_year"
	CreateVodPromotionRequestBodyStreamPeriodEnumTwentyFourHour CreateVodPromotionRequestBodyStreamPeriodEnum = "24_hour"
	CreateVodPromotionRequestBodyStreamPeriodEnumThirtyDay      CreateVodPromotionRequestBodyStreamPeriodEnum = "30_day"
	CreateVodPromotionRequestBodyStreamPeriodEnumThreeMonth     CreateVodPromotionRequestBodyStreamPeriodEnum = "3_month"
	CreateVodPromotionRequestBodyStreamPeriodEnumFortyEightHour CreateVodPromotionRequestBodyStreamPeriodEnum = "48_hour"
	CreateVodPromotionRequestBodyStreamPeriodEnumSixMonth       CreateVodPromotionRequestBodyStreamPeriodEnum = "6_month"
	CreateVodPromotionRequestBodyStreamPeriodEnumSeventyTwoHour CreateVodPromotionRequestBodyStreamPeriodEnum = "72_hour"
)

func (e *CreateVodPromotionRequestBodyStreamPeriodEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "1_week":
		fallthrough
	case "1_year":
		fallthrough
	case "24_hour":
		fallthrough
	case "30_day":
		fallthrough
	case "3_month":
		fallthrough
	case "48_hour":
		fallthrough
	case "6_month":
		fallthrough
	case "72_hour":
		*e = CreateVodPromotionRequestBodyStreamPeriodEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for CreateVodPromotionRequestBodyStreamPeriodEnum: %s", s)
	}
}

// CreateVodPromotionRequestBodyTypeEnum - The type of promotion. When `access_type` is `vip`, the value for this field must be `batch`.
//
// Option descriptions:
//   - `batch` - Generates many random promo codes with one use each.
//   - `single` - Generates one promo code that can be used many times.
type CreateVodPromotionRequestBodyTypeEnum string

const (
	CreateVodPromotionRequestBodyTypeEnumBatch  CreateVodPromotionRequestBodyTypeEnum = "batch"
	CreateVodPromotionRequestBodyTypeEnumSingle CreateVodPromotionRequestBodyTypeEnum = "single"
)

func (e *CreateVodPromotionRequestBodyTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "batch":
		fallthrough
	case "single":
		*e = CreateVodPromotionRequestBodyTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for CreateVodPromotionRequestBodyTypeEnum: %s", s)
	}
}

type CreateVodPromotionRequestBody struct {
	// The promotion access type, which is a purchase option that isn't available on the container. VIP promotions always make the content free of charge. If you use this type, you must further define the promotion with the `download` or `stream_period` fields.
	//
	// Option descriptions:
	//  * `default` - Promotions grant discount on the existing purchase options for an On Demand Container.
	//  * `vip` - Promotions can be used to grant free access to VOD content before it is released, or to offer a purchase option that isn't available on the container. "vip" promotions will always make the content free, and must be further defined with the `download` or `stream_period` fields.
	//
	AccessType *CreateVodPromotionRequestBodyAccessTypeEnum `json:"access_type,omitempty"`
	// The promotion code. This field is ignored for batch promotions.
	Code *string `json:"code,omitempty"`
	// The type of discount offered by the promo code. When `access_type` is `vip`, the value of this field must be `free`.
	//
	// Option descriptions:
	//  * `free` - Reduces the price to zero.
	//  * `percent` - Reduces the price by an amount defined in the "percent_off" field.
	//
	DiscountType *CreateVodPromotionRequestBodyDiscountTypeEnum `json:"discount_type,omitempty"`
	// Whether the promotion grants download access to VOD content. This is necessary only when not previously defined in the On Demand container or when `access_type` is `vip` or `product_type` is `buy`.
	Download bool `json:"download"`
	// The end of the promotion period. If you don't specify a value, the promotion will never expire.
	EndTime *string `json:"end_time,omitempty"`
	// The description of a batch promotion. This field is ignored for single promotions.
	Label *string `json:"label,omitempty"`
	// The percentage of the discount by using this promo code. This field is applicable only when `discount_type` is `percent`.
	PercentOff *float64 `json:"percent_off,omitempty"`
	// The type of transaction to which the promotion applies. When `access_type` is `default`, the default value is `any`, but the default value is `rent` when `access_type` is `vip`. Also, when `access_type` is `vip`, the only valid product types are `buy` and `rent`.
	ProductType *CreateVodPromotionRequestBodyProductTypeEnum `json:"product_type,omitempty"`
	// The start of the promotion period. If you don't specify a value, the start time defaults to the time that the promotion was created.
	StartTime *string `json:"start_time,omitempty"`
	// The amount of time that a user has access to the VOD content upon redeeming a promo code. This field is necessary only when not defined in the On Demand container or when creating promotions when `access_type` is `vip` or `product_type` is `rent`.
	StreamPeriod CreateVodPromotionRequestBodyStreamPeriodEnum `json:"stream_period"`
	// The number of promotions to generate when `type` is `batch`, or the number of uses of the promotion when `type` is `single`.
	Total float64 `json:"total"`
	// The type of promotion. When `access_type` is `vip`, the value for this field must be `batch`.
	//
	// Option descriptions:
	//  * `batch` - Generates many random promo codes with one use each.
	//  * `single` - Generates one promo code that can be used many times.
	//
	Type CreateVodPromotionRequestBodyTypeEnum `json:"type"`
}

type CreateVodPromotionRequest struct {
	PathParams CreateVodPromotionPathParams
	Request    CreateVodPromotionRequestBody `request:"mediaType=application/vnd.vimeo.ondemand.promotion+json"`
	Security   CreateVodPromotionSecurity
}

type CreateVodPromotionResponse struct {
	ContentType string
	StatusCode  int
	RawResponse *http.Response
	// * There are errors in the request.
	// * The promo code already exists.
	LegacyError *shared.LegacyError
	// The promotion was added.
	OnDemandPromotion *shared.OnDemandPromotion
}
