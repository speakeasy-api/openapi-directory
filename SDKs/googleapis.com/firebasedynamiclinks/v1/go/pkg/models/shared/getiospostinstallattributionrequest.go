// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// GetIosPostInstallAttributionRequestRetrievalMethodEnum - App post install attribution retrieval information. Disambiguates mechanism (iSDK or developer invoked) to retrieve payload from clicked link.
type GetIosPostInstallAttributionRequestRetrievalMethodEnum string

const (
	GetIosPostInstallAttributionRequestRetrievalMethodEnumUnknownPayloadRetrievalMethod GetIosPostInstallAttributionRequestRetrievalMethodEnum = "UNKNOWN_PAYLOAD_RETRIEVAL_METHOD"
	GetIosPostInstallAttributionRequestRetrievalMethodEnumImplicitWeakMatch             GetIosPostInstallAttributionRequestRetrievalMethodEnum = "IMPLICIT_WEAK_MATCH"
	GetIosPostInstallAttributionRequestRetrievalMethodEnumExplicitWeakMatch             GetIosPostInstallAttributionRequestRetrievalMethodEnum = "EXPLICIT_WEAK_MATCH"
	GetIosPostInstallAttributionRequestRetrievalMethodEnumExplicitStrongAfterWeakMatch  GetIosPostInstallAttributionRequestRetrievalMethodEnum = "EXPLICIT_STRONG_AFTER_WEAK_MATCH"
)

func (e GetIosPostInstallAttributionRequestRetrievalMethodEnum) ToPointer() *GetIosPostInstallAttributionRequestRetrievalMethodEnum {
	return &e
}

func (e *GetIosPostInstallAttributionRequestRetrievalMethodEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "UNKNOWN_PAYLOAD_RETRIEVAL_METHOD":
		fallthrough
	case "IMPLICIT_WEAK_MATCH":
		fallthrough
	case "EXPLICIT_WEAK_MATCH":
		fallthrough
	case "EXPLICIT_STRONG_AFTER_WEAK_MATCH":
		*e = GetIosPostInstallAttributionRequestRetrievalMethodEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for GetIosPostInstallAttributionRequestRetrievalMethodEnum: %v", v)
	}
}

// GetIosPostInstallAttributionRequestVisualStyleEnum - Strong match page information. Disambiguates between default UI and custom page to present when strong match succeeds/fails to find cookie.
type GetIosPostInstallAttributionRequestVisualStyleEnum string

const (
	GetIosPostInstallAttributionRequestVisualStyleEnumUnknownVisualStyle GetIosPostInstallAttributionRequestVisualStyleEnum = "UNKNOWN_VISUAL_STYLE"
	GetIosPostInstallAttributionRequestVisualStyleEnumDefaultStyle       GetIosPostInstallAttributionRequestVisualStyleEnum = "DEFAULT_STYLE"
	GetIosPostInstallAttributionRequestVisualStyleEnumCustomStyle        GetIosPostInstallAttributionRequestVisualStyleEnum = "CUSTOM_STYLE"
)

func (e GetIosPostInstallAttributionRequestVisualStyleEnum) ToPointer() *GetIosPostInstallAttributionRequestVisualStyleEnum {
	return &e
}

func (e *GetIosPostInstallAttributionRequestVisualStyleEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "UNKNOWN_VISUAL_STYLE":
		fallthrough
	case "DEFAULT_STYLE":
		fallthrough
	case "CUSTOM_STYLE":
		*e = GetIosPostInstallAttributionRequestVisualStyleEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for GetIosPostInstallAttributionRequestVisualStyleEnum: %v", v)
	}
}

// GetIosPostInstallAttributionRequest - Request for iSDK to execute strong match flow for post-install attribution. This is meant for iOS requests only. Requests from other platforms will not be honored.
type GetIosPostInstallAttributionRequest struct {
	// App installation epoch time (https://en.wikipedia.org/wiki/Unix_time). This is a client signal for a more accurate weak match.
	AppInstallationTime *string `json:"appInstallationTime,omitempty"`
	// APP bundle ID.
	BundleID *string `json:"bundleId,omitempty"`
	// Signals associated with the device making the request.
	Device *DeviceInfo `json:"device,omitempty"`
	// iOS version, ie: 9.3.5. Consider adding "build".
	IosVersion *string `json:"iosVersion,omitempty"`
	// App post install attribution retrieval information. Disambiguates mechanism (iSDK or developer invoked) to retrieve payload from clicked link.
	RetrievalMethod *GetIosPostInstallAttributionRequestRetrievalMethodEnum `json:"retrievalMethod,omitempty"`
	// Google SDK version. Version takes the form "$major.$minor.$patch"
	SDKVersion *string `json:"sdkVersion,omitempty"`
	// Possible unique matched link that server need to check before performing fingerprint match. If passed link is short server need to expand the link. If link is long server need to vslidate the link.
	UniqueMatchLinkToCheck *string `json:"uniqueMatchLinkToCheck,omitempty"`
	// Strong match page information. Disambiguates between default UI and custom page to present when strong match succeeds/fails to find cookie.
	VisualStyle *GetIosPostInstallAttributionRequestVisualStyleEnum `json:"visualStyle,omitempty"`
}
