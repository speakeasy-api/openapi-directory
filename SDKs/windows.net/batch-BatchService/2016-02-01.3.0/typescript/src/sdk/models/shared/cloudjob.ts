/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { EnvironmentSetting } from "./environmentsetting";
import { JobConstraints } from "./jobconstraints";
import { JobExecutionInformation } from "./jobexecutioninformation";
import { JobManagerTask } from "./jobmanagertask";
import { JobPreparationTask } from "./jobpreparationtask";
import { JobReleaseTask } from "./jobreleasetask";
import { JobStatistics } from "./jobstatistics";
import { MetadataItem } from "./metadataitem";
import { PoolInformation } from "./poolinformation";
import { Expose, Transform, Type } from "class-transformer";

/**
 * The previous state of the job. This property is not set if the job is in its initial Active state.
 */
export enum CloudJobPreviousStateEnum {
  Active = "active",
  Disabling = "disabling",
  Disabled = "disabled",
  Enabling = "enabling",
  Terminating = "terminating",
  Completed = "completed",
  Deleting = "deleting",
}

/**
 * The current state of the job.
 */
export enum CloudJobStateEnum {
  Active = "active",
  Disabling = "disabling",
  Disabled = "disabled",
  Enabling = "enabling",
  Terminating = "terminating",
  Completed = "completed",
  Deleting = "deleting",
}

/**
 * An Azure Batch job.
 */
export class CloudJob extends SpeakeasyBase {
  /**
   * The list of common environment variable settings. These environment variables are set for all tasks in the job (including the Job Manager, Job Preparation and Job Release tasks).
   */
  @SpeakeasyMetadata({ elemType: EnvironmentSetting })
  @Expose({ name: "commonEnvironmentSettings" })
  @Type(() => EnvironmentSetting)
  commonEnvironmentSettings?: EnvironmentSetting[];

  /**
   * Specifies the execution constraints for jobs created on a schedule.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "constraints" })
  @Type(() => JobConstraints)
  constraints?: JobConstraints;

  /**
   * The creation time of the job.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "creationTime" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  creationTime?: Date;

  /**
   * The display name for the job.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "displayName" })
  displayName?: string;

  /**
   * The ETag of the job.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "eTag" })
  eTag?: string;

  /**
   * Contains information about the execution of a job in the Azure Batch service.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "executionInfo" })
  @Type(() => JobExecutionInformation)
  executionInfo?: JobExecutionInformation;

  /**
   * A string that uniquely identifies the job within the account. The id can contain any combination of alphanumeric characters including hyphens and underscores, and cannot contain more than 64 characters. It is common to use a GUID for the id.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "id" })
  id?: string;

  /**
   * Specifies details of a Job Manager task.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "jobManagerTask" })
  @Type(() => JobManagerTask)
  jobManagerTask?: JobManagerTask;

  /**
   * A Job Preparation task to run before any tasks of the job on any given compute node.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "jobPreparationTask" })
  @Type(() => JobPreparationTask)
  jobPreparationTask?: JobPreparationTask;

  /**
   * A Job Release task to run on job completion on any compute node where the job has run.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "jobReleaseTask" })
  @Type(() => JobReleaseTask)
  jobReleaseTask?: JobReleaseTask;

  /**
   * The last modified time of the job.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "lastModified" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  lastModified?: Date;

  /**
   * A list of name-value pairs associated with the job as metadata.
   */
  @SpeakeasyMetadata({ elemType: MetadataItem })
  @Expose({ name: "metadata" })
  @Type(() => MetadataItem)
  metadata?: MetadataItem[];

  /**
   * Specifies how a job should be assigned to a pool.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "poolInfo" })
  @Type(() => PoolInformation)
  poolInfo?: PoolInformation;

  /**
   * The previous state of the job. This property is not set if the job is in its initial Active state.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "previousState" })
  previousState?: CloudJobPreviousStateEnum;

  /**
   * The time at which the job entered its previous state. This property is not set if the job is in its initial Active state.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "previousStateTransitionTime" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  previousStateTransitionTime?: Date;

  /**
   * The priority of the job. Priority values can range from -1000 to 1000, with -1000 being the lowest priority and 1000 being the highest priority. The default value is 0.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "priority" })
  priority?: number;

  /**
   * The current state of the job.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "state" })
  state?: CloudJobStateEnum;

  /**
   * The time at which the job entered its current state.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "stateTransitionTime" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  stateTransitionTime?: Date;

  /**
   * Resource usage statistics for a job.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "stats" })
  @Type(() => JobStatistics)
  stats?: JobStatistics;

  /**
   * The URL of the job.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "url" })
  url?: string;

  /**
   * The flag that determines if this job will use tasks with dependencies.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "usesTaskDependencies" })
  usesTaskDependencies?: boolean;
}
