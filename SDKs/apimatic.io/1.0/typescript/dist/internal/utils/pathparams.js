"use strict";
/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSimplePathParams = exports.ppMetadataKey = void 0;
var utils_1 = require("./utils");
var utils_2 = require("./utils");
exports.ppMetadataKey = "pathParam";
function getSimplePathParams(paramName, paramValue, explode, dateTimeFormat) {
    var pathParams = new Map();
    var ppVals = [];
    if (Array.isArray(paramValue)) {
        paramValue.forEach(function (param) {
            ppVals.push((0, utils_1.encodeAndConvertPrimitiveVal)(param, dateTimeFormat));
        });
        pathParams.set(paramName, ppVals.join(","));
    }
    else if ((0, utils_2.isStringRecord)(paramValue) ||
        (0, utils_2.isNumberRecord)(paramValue) ||
        (0, utils_2.isBooleanRecord)(paramValue)) {
        Object.getOwnPropertyNames(paramValue).forEach(function (paramKey) {
            var paramFieldValue = (0, utils_1.encodeAndConvertPrimitiveVal)(paramValue[paramKey], dateTimeFormat);
            if (explode)
                ppVals.push("".concat(paramKey, "=").concat(paramFieldValue));
            else
                ppVals.push("".concat(paramKey, ",").concat(paramFieldValue));
        });
        pathParams.set(paramName, ppVals.join(","));
    }
    else if (paramValue instanceof Object) {
        Object.getOwnPropertyNames(paramValue).forEach(function (paramKey) {
            var ppAnn = Reflect.getMetadata(exports.ppMetadataKey, paramValue, paramKey);
            if (ppAnn == null)
                return;
            var ppDecorator = (0, utils_1.parseParamDecorator)(ppAnn, paramKey, "simple", explode);
            if (ppDecorator == null)
                return;
            var paramFieldValue = (0, utils_1.encodeAndConvertPrimitiveVal)(paramValue[paramKey], ppDecorator.DateTimeFormat);
            if ((0, utils_2.isEmpty)(paramFieldValue))
                return;
            else if (explode)
                ppVals.push("".concat(ppDecorator.ParamName, "=").concat(paramFieldValue));
            else
                ppVals.push("".concat(ppDecorator.ParamName, ",").concat(paramFieldValue));
        });
        pathParams.set(paramName, ppVals.join(","));
    }
    else {
        pathParams.set(paramName, (0, utils_1.encodeAndConvertPrimitiveVal)(paramValue, dateTimeFormat));
    }
    return pathParams;
}
exports.getSimplePathParams = getSimplePathParams;
