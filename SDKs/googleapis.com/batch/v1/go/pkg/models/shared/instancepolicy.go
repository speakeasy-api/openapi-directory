// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// InstancePolicyProvisioningModelEnum - The provisioning model.
type InstancePolicyProvisioningModelEnum string

const (
	InstancePolicyProvisioningModelEnumProvisioningModelUnspecified InstancePolicyProvisioningModelEnum = "PROVISIONING_MODEL_UNSPECIFIED"
	InstancePolicyProvisioningModelEnumStandard                     InstancePolicyProvisioningModelEnum = "STANDARD"
	InstancePolicyProvisioningModelEnumSpot                         InstancePolicyProvisioningModelEnum = "SPOT"
	InstancePolicyProvisioningModelEnumPreemptible                  InstancePolicyProvisioningModelEnum = "PREEMPTIBLE"
)

func (e InstancePolicyProvisioningModelEnum) ToPointer() *InstancePolicyProvisioningModelEnum {
	return &e
}

func (e *InstancePolicyProvisioningModelEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "PROVISIONING_MODEL_UNSPECIFIED":
		fallthrough
	case "STANDARD":
		fallthrough
	case "SPOT":
		fallthrough
	case "PREEMPTIBLE":
		*e = InstancePolicyProvisioningModelEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for InstancePolicyProvisioningModelEnum: %v", v)
	}
}

// InstancePolicy - InstancePolicy describes an instance type and resources attached to each VM created by this InstancePolicy.
type InstancePolicy struct {
	// The accelerators attached to each VM instance.
	Accelerators []Accelerator `json:"accelerators,omitempty"`
	// A new persistent disk or a local ssd. A VM can only have one local SSD setting but multiple local SSD partitions. See https://cloud.google.com/compute/docs/disks#pdspecs and https://cloud.google.com/compute/docs/disks#localssds.
	BootDisk *Disk `json:"bootDisk,omitempty"`
	// Non-boot disks to be attached for each VM created by this InstancePolicy. New disks will be deleted when the VM is deleted.
	Disks []AttachedDisk `json:"disks,omitempty"`
	// The Compute Engine machine type.
	MachineType *string `json:"machineType,omitempty"`
	// The minimum CPU platform. See https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform. Not yet implemented.
	MinCPUPlatform *string `json:"minCpuPlatform,omitempty"`
	// The provisioning model.
	ProvisioningModel *InstancePolicyProvisioningModelEnum `json:"provisioningModel,omitempty"`
}
