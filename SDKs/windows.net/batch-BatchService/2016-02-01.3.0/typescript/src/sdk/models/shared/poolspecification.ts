/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { ApplicationPackageReference } from "./applicationpackagereference";
import { CertificateReference } from "./certificatereference";
import { CloudServiceConfiguration } from "./cloudserviceconfiguration";
import { MetadataItem } from "./metadataitem";
import { StartTask } from "./starttask";
import { TaskSchedulingPolicy } from "./taskschedulingpolicy";
import { VirtualMachineConfiguration } from "./virtualmachineconfiguration";
import { Expose, Type } from "class-transformer";

/**
 * Specification for creating a new pool.
 */
export class PoolSpecification extends SpeakeasyBase {
  /**
   * The list of application packages to be installed on each compute node in the pool.
   */
  @SpeakeasyMetadata({ elemType: ApplicationPackageReference })
  @Expose({ name: "applicationPackageReferences" })
  @Type(() => ApplicationPackageReference)
  applicationPackageReferences?: ApplicationPackageReference[];

  /**
   * A time interval for the desired AutoScale evaluation period in the pool.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "autoScaleEvaluationInterval" })
  autoScaleEvaluationInterval?: string;

  /**
   * The formula for the desired number of compute nodes in the pool.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "autoScaleFormula" })
  autoScaleFormula?: string;

  /**
   * A list of certificates to be installed on each compute node in the pool.
   */
  @SpeakeasyMetadata({ elemType: CertificateReference })
  @Expose({ name: "certificateReferences" })
  @Type(() => CertificateReference)
  certificateReferences?: CertificateReference[];

  /**
   * The configuration for nodes in a pool based on the Azure Cloud Services platform.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "cloudServiceConfiguration" })
  @Type(() => CloudServiceConfiguration)
  cloudServiceConfiguration?: CloudServiceConfiguration;

  /**
   * The display name for the pool.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "displayName" })
  displayName?: string;

  /**
   * Whether the pool size should automatically adjust over time.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "enableAutoScale" })
  enableAutoScale?: boolean;

  /**
   * Whether the pool permits direct communication between nodes.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "enableInterNodeCommunication" })
  enableInterNodeCommunication?: boolean;

  /**
   * The maximum number of tasks that can run concurrently on a single compute node in the pool.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "maxTasksPerNode" })
  maxTasksPerNode?: number;

  /**
   * A list of name-value pairs associated with the pool as metadata.
   */
  @SpeakeasyMetadata({ elemType: MetadataItem })
  @Expose({ name: "metadata" })
  @Type(() => MetadataItem)
  metadata?: MetadataItem[];

  /**
   * The timeout for allocation of compute nodes to the pool.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "resizeTimeout" })
  resizeTimeout?: string;

  /**
   * A task which is run when a compute node joins a pool in the Azure Batch service, or when the compute node is rebooted or reimaged.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "startTask" })
  @Type(() => StartTask)
  startTask?: StartTask;

  /**
   * The desired number of compute nodes in the pool.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "targetDedicated" })
  targetDedicated?: number;

  /**
   * Specifies how tasks should be distributed across compute nodes.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "taskSchedulingPolicy" })
  @Type(() => TaskSchedulingPolicy)
  taskSchedulingPolicy?: TaskSchedulingPolicy;

  /**
   * The configuration for compute nodes in a pool based on the Azure Virtual Machines infrastructure.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "virtualMachineConfiguration" })
  @Type(() => VirtualMachineConfiguration)
  virtualMachineConfiguration?: VirtualMachineConfiguration;

  /**
   * The size of the virtual machines in the pool. All virtual machines in a pool are the same size.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "vmSize" })
  vmSize?: string;
}
