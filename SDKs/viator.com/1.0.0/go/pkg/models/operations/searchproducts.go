// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"net/http"
	"openapi/pkg/models/shared"
)

// SearchProductsRequestBodySortOrderEnum - **sort order** in which to return the results that is *one of*:
//
//   - `"TOP_SELLERS"`: the top sellers
//   - `"REVIEW_AVG_RATING_A"`: ascending by average traveler rating (low -&gt; high)
//   - `"REVIEW_AVG_RATING_D"`: descending by average traveler rating (high -&gt; low)
//   - `"PRICE_FROM_A"`: ascending by price (low -&gt; high)
//   - `"PRICE_FROM_D"`: descending by price (high -&gt; low)
type SearchProductsRequestBodySortOrderEnum string

const (
	SearchProductsRequestBodySortOrderEnumTopSellers       SearchProductsRequestBodySortOrderEnum = "TOP_SELLERS"
	SearchProductsRequestBodySortOrderEnumReviewAvgRatingA SearchProductsRequestBodySortOrderEnum = "REVIEW_AVG_RATING_A"
	SearchProductsRequestBodySortOrderEnumReviewAvgRatingD SearchProductsRequestBodySortOrderEnum = "REVIEW_AVG_RATING_D"
	SearchProductsRequestBodySortOrderEnumPriceFromA       SearchProductsRequestBodySortOrderEnum = "PRICE_FROM_A"
	SearchProductsRequestBodySortOrderEnumPriceFromD       SearchProductsRequestBodySortOrderEnum = "PRICE_FROM_D"
)

func (e SearchProductsRequestBodySortOrderEnum) ToPointer() *SearchProductsRequestBodySortOrderEnum {
	return &e
}

func (e *SearchProductsRequestBodySortOrderEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "TOP_SELLERS":
		fallthrough
	case "REVIEW_AVG_RATING_A":
		fallthrough
	case "REVIEW_AVG_RATING_D":
		fallthrough
	case "PRICE_FROM_A":
		fallthrough
	case "PRICE_FROM_D":
		*e = SearchProductsRequestBodySortOrderEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SearchProductsRequestBodySortOrderEnum: %v", v)
	}
}

type SearchProductsRequestBody struct {
	// **unique numeric identifier** of *this* product category to search within
	// - `categoryId` can be retrieved from the [/taxonomy/categories](#operation/taxonomyCategories) service
	// - at present, it is not possible to use `catId` in conjunction with `seoId`
	//
	CatID *int64 `json:"catId,omitempty"`
	// **currency** in which to display product prices
	CurrencyCode *string `json:"currencyCode,omitempty"`
	// **unique numeric identifier** of the destination in which to search for products
	// - `destinationId` is available from the [/taxonomy/destinations](#operation/taxonomyDestinations) service
	// - use **EITHER** `destId` **OR** `seoId`, but not both
	//
	DestID *int64 `json:"destId,omitempty"`
	// **end date delimiter** for the search (must be in the future)
	// - e.g., `'2019-10-21'`
	//
	EndDate *string `json:"endDate,omitempty"`
	// **search restriction specifier** for products associated with an attraction uniquely identified by `seoId`
	// - use **EITHER** `destId` **OR** `seoId`, but not both
	//
	SeoID *string `json:"seoId,omitempty"`
	// **sort order** in which to return the results that is *one of*:
	//
	//   - `"TOP_SELLERS"`: the top sellers
	//   - `"REVIEW_AVG_RATING_A"`: ascending by average traveler rating (low -&gt; high)
	//   - `"REVIEW_AVG_RATING_D"`: descending by average traveler rating (high -&gt; low)
	//   - `"PRICE_FROM_A"`: ascending by price (low -&gt; high)
	//   - `"PRICE_FROM_D"`: descending by price (high -&gt; low)
	//
	SortOrder *SearchProductsRequestBodySortOrderEnum `json:"sortOrder,omitempty"`
	// **start date delimiter** for the search (must be in the future)
	// - e.g., `'2018-10-21'`
	//
	StartDate *string `json:"startDate,omitempty"`
	// **unique numeric identifier** of *this* product subcategory to search within
	// - `subcategoryId` can be retrieved from the [/taxonomy/categories](#operation/taxonomyCategories) service
	// - at present, it is not possible to use `subCatId` in conjunction with `seoId`
	//
	SubCatID *int64 `json:"subCatId,omitempty"`
	// **start and end rows** to return in the format {start}-{end}
	// - e.g. `'1-10'`, `'11-20'`
	//
	// **Note**:
	// - the maximum number of rows per request is 100; therefore, `'100-400'` will return the same as `'100-200'`
	// - if `topX` is not specified, the default is `'1-100'`
	//
	TopX *string `json:"topX,omitempty"`
}

type SearchProductsRequest struct {
	// Specifies the language into which the natural-language fields in the response from this service will be translated (see [Accept-Language header](#section/Appendices/Accept-Language-header) for available langage codes)
	//
	AcceptLanguage string                     `header:"style=simple,explode=false,name=Accept-Language"`
	RequestBody    *SearchProductsRequestBody `request:"mediaType=application/json"`
}

type SearchProducts200ApplicationJSONData struct {
	// ignore (Viator only)
	Admission *string `json:"admission,omitempty"`
	// ignore (Viator only)
	Available *bool `json:"available,omitempty"`
	// **booking type specifier** for *this* product that indicates whether the booking will be `CONFIRMED` immediately or if it will remain `PENDING` even after the booking has been made
	//
	// *one of* the following:
	// - `"FreesaleBE"` â€“ *this* product will be confirmed immediately and the supplier will be sent a notification
	// - `"UnconditionalBE"` - *this* product will be confirmed immediately and the supplier will not be notified
	// - `"DeferredCRMBE"` - *this* product is an on-request product and will not be confirmed immediately. *this* product will have a `PENDING` status after it is booked, to be confirmed by the supplier within the time specified in the `hoursConfirmed` field available in the booking response and post-booking services
	// - `"FreesaleOnRequestBE"` - *this* product is freesale up until a certain number of days before the travel date, referred to as the *on-request period*.
	//
	// If a booking is made within the on-request period, *this* product will be an on-request product. Once the booking has been made, the `bookingEngineId` will change to either `"FreesaleOnRequestBE:OnRequest"` or `"FreesaleOnRequestBE:Freesold"` depending on the travel date and the on-request period
	//
	BookingEngineID *shared.BookingEngineIDEnum `json:"bookingEngineId,omitempty"`
	// **list** of unique numeric category identifiers for *this* product
	// - the `categoryId` for the destination is available from the [/taxonomy/categories](#operation/taxonomyCategories) service
	//
	CatIds []int64 `json:"catIds,omitempty"`
	// **unique alphanumeric identifier** of *this* product
	Code *string `json:"code,omitempty"`
	// **indicator** of the currency in which *this* product's prices are displayed
	CurrencyCode *string `json:"currencyCode,omitempty"`
	// **natural-language description** of the duration of *this* product
	Duration *string `json:"duration,omitempty"`
	// ignore (Viator only)
	Essential *string `json:"essential,omitempty"`
	// ignore (Viator only)
	//
	//
	// For cancellation information regarding the booking, please refer to the `merchantTermsAndConditions` object
	//
	MerchantCancellable *bool `json:"merchantCancellable,omitempty"`
	// Numeric 'from' (lowest possible) price that Viator will invoice the merchant for the sale of this product, excluding the transaction fee; i.e. the merchant net rate
	//
	// For more information, see: [Merchant pricing](#section/Key-concepts/Merchant-pricing)
	//
	MerchantNetPriceFrom *float64 `json:"merchantNetPriceFrom,omitempty"`
	// Currency-formatted 'from' (lowest possible) price that Viator will invoice the merchant for the sale of this product, excluding the transaction fee (i.e. the merchant net rate)
	//
	// For more information, see: [Merchant pricing](#section/Key-concepts/Merchant-pricing)
	//
	MerchantNetPriceFromFormatted *string `json:"merchantNetPriceFromFormatted,omitempty"`
	// **number** of hours before the travel date that *this* product will be 'on-request' for
	// - this field will contain a value if the `bookingEngineId` is `'FreesaleOnRequestBE'`
	// - an `onRequestPeriod` of 48 hours means that *this* product is freesale up until 48 hours before the travel date, and is on-request for 48 hours or less until the travel date
	// - **note**: 'hours in advance' (the number of hours a product is available for booking before the travel date) may also affect this; however, this value is not available in the API
	//
	OnRequestPeriod *int64 `json:"onRequestPeriod,omitempty"`
	// Ignore (Viator only)
	//
	OnSale *bool `json:"onSale,omitempty"`
	// **number** of panoramic images available for *this* product
	PanoramaCount *int64 `json:"panoramaCount,omitempty"`
	// **object** detailing product availability
	// - `pas` stands for Product Availability Schema
	//
	Pas map[string]interface{} `json:"pas,omitempty"`
	// **number** of user photos published for *this* product
	PhotoCount *int64 `json:"photoCount,omitempty"`
	// **suggested sell ('from') price** for this product in the currency set in the `currencyCode` parameter. This is the cheapest sell price, taking into consideration off-peak periods and discounts on larger groups.
	//
	//
	//   - For more information, see: [Merchant pricing](#section/Merchant-APIs/Merchant-pricing)
	//
	Price *float64 `json:"price,omitempty"`
	// **currency-formatted suggested sell ('from') price** for this product in the currency set in the `currencyCode` parameter
	//
	// - For more information, see: [Merchant pricing](#section/Merchant-APIs/Merchant-pricing)
	//
	PriceFormatted *string `json:"priceFormatted,omitempty"`
	// **unique numeric identifier** of *this* product's primary destination
	PrimaryDestinationID *int64 `json:"primaryDestinationId,omitempty"`
	// **natural-language name** of *this* product's primary destination
	PrimaryDestinationName *string `json:"primaryDestinationName,omitempty"`
	// **URL-formatted name** of *this* product's primary destination
	PrimaryDestinationURLName *string `json:"primaryDestinationUrlName,omitempty"`
	// ignore (Viator only)
	PrimaryGroupID *int64 `json:"primaryGroupId,omitempty"`
	// **URL-formatted name** of *this* product
	ProductURLName *string `json:"productUrlName,omitempty"`
	// **average user rating** of *this* product
	//
	// users rate products by assigning a star-rating from 1-5; this value shows the average of the star ratings provided by users;
	//
	// the `ratingCounts` associative array in this response provides a breakdown of how many submissions for each star rating have been received
	//
	Rating *float64 `json:"rating,omitempty"`
	// **number** of user reviews that have been submitted by users for *this* product
	//
	// If your account has been configured to limit the number of reviews you can receive, this value will never be higher than that. Otherwise, this value will show the total number of reviews available for this product. If there are more than 24 reviews available, you will need to use the [/product/reviews](#operation/productReviews) service to retrieve the remainder of the reviews.
	//
	ReviewCount *int64 `json:"reviewCount,omitempty"`
	// **numeric original price** for this product if the product is on special / a discount has been applied. `0` if there is no discount on this product. See [Special offers and on-sale pricing](#section/Key-concepts/Special-offers-and-on-sale-pricing) for more information.
	Rrp *int64 `json:"rrp,omitempty"`
	// **currency-formatted original price** for this product if the product is on special / a discount has been applied. Empty string if there is no discount on this product. See [Special offers and on-sale pricing](#section/Key-concepts/Special-offers-and-on-sale-pricing) for more information.
	Rrpformatted *string `json:"rrpformatted,omitempty"`
	// Ignore (Viator only)
	//
	SavingAmount *string `json:"savingAmount,omitempty"`
	// Ignore (Viator only)
	//
	SavingAmountFormated *string `json:"savingAmountFormated,omitempty"`
	// **HTML-formatted natural-language description** of *this* product
	ShortDescription *string `json:"shortDescription,omitempty"`
	// **short natural-language title** of *this* product (for use when there is a need to conserve space)
	ShortTitle *string `json:"shortTitle,omitempty"`
	// **sort order** for *this* product
	SortOrder *int64 `json:"sortOrder,omitempty"`
	// ignore (Viator only)
	SpecialOfferAvailable *bool `json:"specialOfferAvailable,omitempty"`
	// ignore (Viator only)
	SpecialReservation *bool `json:"specialReservation,omitempty"`
	// ignore (Viator only)
	SpecialReservationDetails *string `json:"specialReservationDetails,omitempty"`
	// ignore (Viator only)
	SslSupported interface{} `json:"sslSupported,omitempty"`
	// **list** of unique numeric subcategory identifiers for *this* product
	// - the `subcategoryId` for the destination is available from the [/taxonomy/categories](#operation/taxonomyCategories) service
	//
	SubCatIds []int64 `json:"subCatIds,omitempty"`
	// **unique identifier** of *this* product's supplier in text string format
	SupplierCode *string `json:"supplierCode,omitempty"`
	// **natural-language name** of *this* product's supplier
	SupplierName *string `json:"supplierName,omitempty"`
	// **URL** for the high resolution thumbnail for *this* product
	ThumbnailHiResURL *string `json:"thumbnailHiResURL,omitempty"`
	// **URL** for *this* product's thumbnail image
	ThumbnailURL *string `json:"thumbnailURL,omitempty"`
	// **natural-language title** of *this* product
	Title *string `json:"title,omitempty"`
	// **numeric indicator** of the language translation level for *this* product that is one of:
	// - `0`: no translation (English only)
	// - `80`: full machine translation
	// - `100`: full human translation
	//
	// See: [Working with human and machine translations](#section/Appendices/Working-with-human-and-machine-translations) for more information
	//
	TranslationLevel *shared.TranslationLevelEnum `json:"translationLevel,omitempty"`
	// ignore (Viator only)
	UniqueShortDescription *string `json:"uniqueShortDescription,omitempty"`
	// ignore (Viator only) â€“ videos are not available to partners
	VideoCount *int64 `json:"videoCount,omitempty"`
	// ignore (Viator only)
	WebURL *string `json:"webURL,omitempty"`
}

// SearchProducts200ApplicationJSON - Success
type SearchProducts200ApplicationJSON struct {
	// **array** of product objects
	Data []SearchProducts200ApplicationJSONData `json:"data,omitempty"`
	// **timestamp** of *this* response
	DateStamp *string `json:"dateStamp,omitempty"`
	// **array** of error codes pertaining to *this* error
	// - See: [Viator API error codes](#section/Appendices/Viator-API-error-codes) for a list of possible error codes
	//
	ErrorCodes []string `json:"errorCodes,omitempty"`
	// **array** of error message strings
	ErrorMessage []interface{} `json:"errorMessage,omitempty"`
	// **array** of error message strings in plain text
	ErrorMessageText *string `json:"errorMessageText,omitempty"`
	// **name** of *this* type of error
	ErrorName *string `json:"errorName,omitempty"`
	// **reference number** of *this* error
	ErrorReference *string `json:"errorReference,omitempty"`
	// **code** specifying the type of error
	ErrorType *string `json:"errorType,omitempty"`
	// ignore (Viator only)
	ExtraInfo map[string]interface{} `json:"extraInfo,omitempty"`
	// ignore (Viator only)
	ExtraObject map[string]interface{} `json:"extraObject,omitempty"`
	// **boolean indicator** of *this* request's outcome
	// - `true`: the request was successful with no errors
	// - `false`: an error was encountered
	//
	Success *bool `json:"success,omitempty"`
	// **number** of results available for *this* service
	//
	TotalCount *int64 `json:"totalCount,omitempty"`
	// **unique numeric id** of the server that processed *this* request
	Vmid *string `json:"vmid,omitempty"`
}

type SearchProductsResponse struct {
	ContentType string
	StatusCode  int
	RawResponse *http.Response
	// Success
	SearchProducts200ApplicationJSONObject *SearchProducts200ApplicationJSON
}
