"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
from ..shared import accelerator as shared_accelerator
from ..shared import attacheddisk as shared_attacheddisk
from ..shared import disk as shared_disk
from dataclasses_json import Undefined, dataclass_json
from enum import Enum
from sdk import utils
from typing import Optional

class InstancePolicyProvisioningModelEnum(str, Enum):
    r"""The provisioning model."""
    PROVISIONING_MODEL_UNSPECIFIED = 'PROVISIONING_MODEL_UNSPECIFIED'
    STANDARD = 'STANDARD'
    SPOT = 'SPOT'
    PREEMPTIBLE = 'PREEMPTIBLE'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class InstancePolicy:
    r"""InstancePolicy describes an instance type and resources attached to each VM created by this InstancePolicy."""
    
    accelerators: Optional[list[shared_accelerator.Accelerator]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('accelerators'), 'exclude': lambda f: f is None }})
    r"""The accelerators attached to each VM instance."""  
    boot_disk: Optional[shared_disk.Disk] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('bootDisk'), 'exclude': lambda f: f is None }})
    r"""A new persistent disk or a local ssd. A VM can only have one local SSD setting but multiple local SSD partitions. See https://cloud.google.com/compute/docs/disks#pdspecs and https://cloud.google.com/compute/docs/disks#localssds."""  
    disks: Optional[list[shared_attacheddisk.AttachedDisk]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('disks'), 'exclude': lambda f: f is None }})
    r"""Non-boot disks to be attached for each VM created by this InstancePolicy. New disks will be deleted when the VM is deleted."""  
    machine_type: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('machineType'), 'exclude': lambda f: f is None }})
    r"""The Compute Engine machine type."""  
    min_cpu_platform: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('minCpuPlatform'), 'exclude': lambda f: f is None }})
    r"""The minimum CPU platform. See https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform. Not yet implemented."""  
    provisioning_model: Optional[InstancePolicyProvisioningModelEnum] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('provisioningModel'), 'exclude': lambda f: f is None }})
    r"""The provisioning model."""  
    