/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { OneTimeSchedule } from "./onetimeschedule";
import { PatchConfig } from "./patchconfig";
import { PatchInstanceFilter } from "./patchinstancefilter";
import { PatchRollout } from "./patchrollout";
import { RecurringSchedule, RecurringScheduleInput } from "./recurringschedule";
import { Expose, Type } from "class-transformer";

/**
 * Output only. Current state of the patch deployment.
 */
export enum PatchDeploymentStateEnum {
  StateUnspecified = "STATE_UNSPECIFIED",
  Active = "ACTIVE",
  Paused = "PAUSED",
}

/**
 * Patch deployments are configurations that individual patch jobs use to complete a patch. These configurations include instance filter, package repository settings, and a schedule. For more information about creating and managing patch deployments, see [Scheduling patch jobs](https://cloud.google.com/compute/docs/os-patch-management/schedule-patch-jobs).
 */
export class PatchDeployment extends SpeakeasyBase {
  /**
   * Output only. Time the patch deployment was created. Timestamp is in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) text format.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "createTime" })
  createTime?: string;

  /**
   * Optional. Description of the patch deployment. Length of the description is limited to 1024 characters.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "description" })
  description?: string;

  /**
   * Optional. Duration of the patch. After the duration ends, the patch times out.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "duration" })
  duration?: string;

  /**
   * A filter to target VM instances for patching. The targeted VMs must meet all criteria specified. So if both labels and zones are specified, the patch job targets only VMs with those labels and in those zones.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "instanceFilter" })
  @Type(() => PatchInstanceFilter)
  instanceFilter?: PatchInstanceFilter;

  /**
   * Output only. The last time a patch job was started by this deployment. Timestamp is in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) text format.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "lastExecuteTime" })
  lastExecuteTime?: string;

  /**
   * Unique name for the patch deployment resource in a project. The patch deployment name is in the form: `projects/{project_id}/patchDeployments/{patch_deployment_id}`. This field is ignored when you create a new patch deployment.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "name" })
  name?: string;

  /**
   * Sets the time for a one time patch deployment. Timestamp is in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) text format.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "oneTimeSchedule" })
  @Type(() => OneTimeSchedule)
  oneTimeSchedule?: OneTimeSchedule;

  /**
   * Patch configuration specifications. Contains details on how to apply the patch(es) to a VM instance.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "patchConfig" })
  @Type(() => PatchConfig)
  patchConfig?: PatchConfig;

  /**
   * Sets the time for recurring patch deployments.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "recurringSchedule" })
  @Type(() => RecurringSchedule)
  recurringSchedule?: RecurringSchedule;

  /**
   * Patch rollout configuration specifications. Contains details on the concurrency control when applying patch(es) to all targeted VMs.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "rollout" })
  @Type(() => PatchRollout)
  rollout?: PatchRollout;

  /**
   * Output only. Current state of the patch deployment.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "state" })
  state?: PatchDeploymentStateEnum;

  /**
   * Output only. Time the patch deployment was last updated. Timestamp is in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) text format.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "updateTime" })
  updateTime?: string;
}

/**
 * Patch deployments are configurations that individual patch jobs use to complete a patch. These configurations include instance filter, package repository settings, and a schedule. For more information about creating and managing patch deployments, see [Scheduling patch jobs](https://cloud.google.com/compute/docs/os-patch-management/schedule-patch-jobs).
 */
export class PatchDeploymentInput extends SpeakeasyBase {
  /**
   * Optional. Description of the patch deployment. Length of the description is limited to 1024 characters.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "description" })
  description?: string;

  /**
   * Optional. Duration of the patch. After the duration ends, the patch times out.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "duration" })
  duration?: string;

  /**
   * A filter to target VM instances for patching. The targeted VMs must meet all criteria specified. So if both labels and zones are specified, the patch job targets only VMs with those labels and in those zones.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "instanceFilter" })
  @Type(() => PatchInstanceFilter)
  instanceFilter?: PatchInstanceFilter;

  /**
   * Unique name for the patch deployment resource in a project. The patch deployment name is in the form: `projects/{project_id}/patchDeployments/{patch_deployment_id}`. This field is ignored when you create a new patch deployment.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "name" })
  name?: string;

  /**
   * Sets the time for a one time patch deployment. Timestamp is in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) text format.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "oneTimeSchedule" })
  @Type(() => OneTimeSchedule)
  oneTimeSchedule?: OneTimeSchedule;

  /**
   * Patch configuration specifications. Contains details on how to apply the patch(es) to a VM instance.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "patchConfig" })
  @Type(() => PatchConfig)
  patchConfig?: PatchConfig;

  /**
   * Sets the time for recurring patch deployments.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "recurringSchedule" })
  @Type(() => RecurringScheduleInput)
  recurringSchedule?: RecurringScheduleInput;

  /**
   * Patch rollout configuration specifications. Contains details on the concurrency control when applying patch(es) to all targeted VMs.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "rollout" })
  @Type(() => PatchRollout)
  rollout?: PatchRollout;
}
