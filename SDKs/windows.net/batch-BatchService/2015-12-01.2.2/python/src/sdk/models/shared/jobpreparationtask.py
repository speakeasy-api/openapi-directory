"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
from ..shared import environmentsetting as shared_environmentsetting
from ..shared import resourcefile as shared_resourcefile
from ..shared import taskconstraints as shared_taskconstraints
from dataclasses_json import Undefined, dataclass_json
from sdk import utils
from typing import Optional


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class JobPreparationTask:
    r"""A Job Preparation task to run before any tasks of the job on any given compute node."""
    
    command_line: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('commandLine'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the command line of the Job Preparation task."""  
    constraints: Optional[shared_taskconstraints.TaskConstraints] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('constraints'), 'exclude': lambda f: f is None }})
    r"""Constraints to apply to the Job Manager task."""  
    environment_settings: Optional[list[shared_environmentsetting.EnvironmentSetting]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('environmentSettings'), 'exclude': lambda f: f is None }})
    r"""Gets or sets a list of environment variable settings for the Job Preparation task."""  
    id: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('id'), 'exclude': lambda f: f is None }})
    r"""Gets or sets a string that uniquely identifies the job preparation task within the job. The id can contain any combination of alphanumeric characters including hyphens and underscores and cannot contain more than 64 characters."""  
    rerun_on_node_reboot_after_success: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('rerunOnNodeRebootAfterSuccess'), 'exclude': lambda f: f is None }})
    r"""Gets or sets whether the Batch service should rerun the Job Preparation task after a compute node reboots. The default value is true."""  
    resource_files: Optional[list[shared_resourcefile.ResourceFile]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('resourceFiles'), 'exclude': lambda f: f is None }})
    r"""Gets or sets a list of files that Batch will download to the compute node before running the command line."""  
    run_elevated: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('runElevated'), 'exclude': lambda f: f is None }})
    r"""Gets or sets whether to run the Job Preparation task in elevated mode. The default value is false."""  
    wait_for_success: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('waitForSuccess'), 'exclude': lambda f: f is None }})
    r"""Gets or sets whether the Batch Service should wait for the Job Preparation task to complete successfully before scheduling any other tasks of the job on the compute node."""  
    