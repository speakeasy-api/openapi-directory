// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// CancellationFeeTypeEnum - The way in which the cancellation fee is calculated. This can be "NONE" in case a full refund is paid out, "NON_REFUNDABLE" if no refund is paid out and the full amount is due, "PERCENTAGE" if a percentage of the total price for the stay is charged as cancellation fee, "NIGHTS" if a defined number of initial nights of the stay are charged in full as cancellation fee or "FLAT" in case a flat cancellation fee is charged.
type CancellationFeeTypeEnum string

const (
	CancellationFeeTypeEnumNonRefundable CancellationFeeTypeEnum = "NON_REFUNDABLE"
	CancellationFeeTypeEnumPercentage    CancellationFeeTypeEnum = "PERCENTAGE"
	CancellationFeeTypeEnumNone          CancellationFeeTypeEnum = "NONE"
	CancellationFeeTypeEnumNights        CancellationFeeTypeEnum = "NIGHTS"
	CancellationFeeTypeEnumFlat          CancellationFeeTypeEnum = "FLAT"
)

func (e *CancellationFeeTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "NON_REFUNDABLE":
		fallthrough
	case "PERCENTAGE":
		fallthrough
	case "NONE":
		fallthrough
	case "NIGHTS":
		fallthrough
	case "FLAT":
		*e = CancellationFeeTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for CancellationFeeTypeEnum: %s", s)
	}
}

// CancellationFee - Describes the costs associated with a cancellation and how it is calculated.
type CancellationFee struct {
	// The value that is used in calculation of the cost. This could be 50 in case of a 50% fee being charged for a type "PERCENTAGE" or 2 in case of the initial two nights of the stay being charged in full as a fee if the type is "NIGHTS".
	Count *float64 `json:"count,omitempty"`
	// An amount of money in the specified currency (used in the context of prices, fees, refunds etc.)
	Price Money `json:"price"`
	// The way in which the cancellation fee is calculated. This can be "NONE" in case a full refund is paid out, "NON_REFUNDABLE" if no refund is paid out and the full amount is due, "PERCENTAGE" if a percentage of the total price for the stay is charged as cancellation fee, "NIGHTS" if a defined number of initial nights of the stay are charged in full as cancellation fee or "FLAT" in case a flat cancellation fee is charged.
	Type CancellationFeeTypeEnum `json:"type"`
}
