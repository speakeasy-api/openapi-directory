// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// ExecutionStageSummaryKindEnum - Type of transform this stage is executing.
type ExecutionStageSummaryKindEnum string

const (
	ExecutionStageSummaryKindEnumUnknownKind    ExecutionStageSummaryKindEnum = "UNKNOWN_KIND"
	ExecutionStageSummaryKindEnumParDoKind      ExecutionStageSummaryKindEnum = "PAR_DO_KIND"
	ExecutionStageSummaryKindEnumGroupByKeyKind ExecutionStageSummaryKindEnum = "GROUP_BY_KEY_KIND"
	ExecutionStageSummaryKindEnumFlattenKind    ExecutionStageSummaryKindEnum = "FLATTEN_KIND"
	ExecutionStageSummaryKindEnumReadKind       ExecutionStageSummaryKindEnum = "READ_KIND"
	ExecutionStageSummaryKindEnumWriteKind      ExecutionStageSummaryKindEnum = "WRITE_KIND"
	ExecutionStageSummaryKindEnumConstantKind   ExecutionStageSummaryKindEnum = "CONSTANT_KIND"
	ExecutionStageSummaryKindEnumSingletonKind  ExecutionStageSummaryKindEnum = "SINGLETON_KIND"
	ExecutionStageSummaryKindEnumShuffleKind    ExecutionStageSummaryKindEnum = "SHUFFLE_KIND"
)

func (e *ExecutionStageSummaryKindEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "UNKNOWN_KIND":
		fallthrough
	case "PAR_DO_KIND":
		fallthrough
	case "GROUP_BY_KEY_KIND":
		fallthrough
	case "FLATTEN_KIND":
		fallthrough
	case "READ_KIND":
		fallthrough
	case "WRITE_KIND":
		fallthrough
	case "CONSTANT_KIND":
		fallthrough
	case "SINGLETON_KIND":
		fallthrough
	case "SHUFFLE_KIND":
		*e = ExecutionStageSummaryKindEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for ExecutionStageSummaryKindEnum: %s", s)
	}
}

// ExecutionStageSummary - Description of the composing transforms, names/ids, and input/outputs of a stage of execution. Some composing transforms and sources may have been generated by the Dataflow service during execution planning.
type ExecutionStageSummary struct {
	// Collections produced and consumed by component transforms of this stage.
	ComponentSource []ComponentSource `json:"componentSource,omitempty"`
	// Transforms that comprise this execution stage.
	ComponentTransform []ComponentTransform `json:"componentTransform,omitempty"`
	// Dataflow service generated id for this stage.
	ID *string `json:"id,omitempty"`
	// Input sources for this stage.
	InputSource []StageSource `json:"inputSource,omitempty"`
	// Type of transform this stage is executing.
	Kind *ExecutionStageSummaryKindEnum `json:"kind,omitempty"`
	// Dataflow service generated name for this stage.
	Name *string `json:"name,omitempty"`
	// Output sources for this stage.
	OutputSource []StageSource `json:"outputSource,omitempty"`
	// Other stages that must complete before this stage can run.
	PrerequisiteStage []string `json:"prerequisiteStage,omitempty"`
}
