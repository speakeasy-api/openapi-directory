/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { Emoji } from "./emoji";
import { Expose, Transform, Type } from "class-transformer";

/**
 * Represents a poll attached to a status.
 *
 * @see {@link https://docs.joinmastodon.org/entities/poll/}
 */
export class Poll extends SpeakeasyBase {
  /**
   * Custom emoji to be used for rendering poll options.
   */
  @SpeakeasyMetadata({ elemType: Emoji })
  @Expose({ name: "emojis" })
  @Type(() => Emoji)
  emojis?: Emoji[];

  /**
   * Is the poll currently expired?
   */
  @SpeakeasyMetadata()
  @Expose({ name: "expired" })
  expired?: boolean;

  /**
   * When the poll ends. ISO 8601 Datetime, or null if the poll does not end.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "expires_at" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  expiresAt?: Date;

  /**
   * The ID of the poll in the database. Cast from an integer, but not guaranteed to be a number.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "id" })
  id?: string;

  /**
   * Does the poll allow multiple-choice answers?
   */
  @SpeakeasyMetadata()
  @Expose({ name: "multiple" })
  multiple?: boolean;

  /**
   * Possible answers for the poll.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "options" })
  options?: any[];

  /**
   * When called with a user token, which options has the authorized user chosen? Contains an array of index values for `options`. Array of Number, or null if no current user
   */
  @SpeakeasyMetadata()
  @Expose({ name: "own_votes" })
  ownVotes?: number[];

  /**
   * When called with a user token, has the authorized user voted? Boolean, or null if no current user
   */
  @SpeakeasyMetadata()
  @Expose({ name: "voted" })
  voted?: boolean;

  /**
   * How many unique accounts have voted on a multiple-choice poll. Number, or null if `multiple` is false.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "voters_count" })
  votersCount?: number;

  /**
   * How many votes have been received.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "votes_count" })
  votesCount?: number;
}
