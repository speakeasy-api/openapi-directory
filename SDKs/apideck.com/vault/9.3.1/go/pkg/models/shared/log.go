// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// LogOperation - The request as defined in OpenApi Spec.
type LogOperation struct {
	// The OpenApi Operation Id associated with the request
	ID string `json:"id"`
	// The OpenApi Operation name associated with the request
	Name string `json:"name"`
}

// LogService - Apideck service provider associated with request.
type LogService struct {
	// Apideck service provider id.
	ID string `json:"id"`
	// Apideck service provider name.
	Name string `json:"name"`
}

// LogUnifiedAPIEnum - Which Unified Api request was made to.
type LogUnifiedAPIEnum string

const (
	LogUnifiedAPIEnumCrm           LogUnifiedAPIEnum = "crm"
	LogUnifiedAPIEnumLead          LogUnifiedAPIEnum = "lead"
	LogUnifiedAPIEnumProxy         LogUnifiedAPIEnum = "proxy"
	LogUnifiedAPIEnumVault         LogUnifiedAPIEnum = "vault"
	LogUnifiedAPIEnumAccounting    LogUnifiedAPIEnum = "accounting"
	LogUnifiedAPIEnumHris          LogUnifiedAPIEnum = "hris"
	LogUnifiedAPIEnumAts           LogUnifiedAPIEnum = "ats"
	LogUnifiedAPIEnumEcommerce     LogUnifiedAPIEnum = "ecommerce"
	LogUnifiedAPIEnumIssueTracking LogUnifiedAPIEnum = "issue-tracking"
	LogUnifiedAPIEnumPos           LogUnifiedAPIEnum = "pos"
	LogUnifiedAPIEnumFileStorage   LogUnifiedAPIEnum = "file-storage"
	LogUnifiedAPIEnumSms           LogUnifiedAPIEnum = "sms"
)

func (e LogUnifiedAPIEnum) ToPointer() *LogUnifiedAPIEnum {
	return &e
}

func (e *LogUnifiedAPIEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "crm":
		fallthrough
	case "lead":
		fallthrough
	case "proxy":
		fallthrough
	case "vault":
		fallthrough
	case "accounting":
		fallthrough
	case "hris":
		fallthrough
	case "ats":
		fallthrough
	case "ecommerce":
		fallthrough
	case "issue-tracking":
		fallthrough
	case "pos":
		fallthrough
	case "file-storage":
		fallthrough
	case "sms":
		*e = LogUnifiedAPIEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for LogUnifiedAPIEnum: %v", v)
	}
}

type Log struct {
	// Indicates if the request was made via REST or Graphql endpoint.
	APIStyle string `json:"api_style"`
	// The Apideck base URL the request was made to.
	BaseURL string `json:"base_url"`
	// Indicates whether or not this is a child or parent request.
	ChildRequest bool `json:"child_request"`
	// The consumer Id associated with the request.
	ConsumerID string `json:"consumer_id"`
	// The entire execution time in milliseconds it took to call the Apideck service provider.
	Duration float64 `json:"duration"`
	// If error occurred, this is brief explanation
	ErrorMessage *string `json:"error_message,omitempty"`
	// The entire execution time in milliseconds it took to make the request.
	Execution int64 `json:"execution"`
	// When request is a parent request, this indicates if there are child requests associated.
	HasChildren bool `json:"has_children"`
	// HTTP Method of request.
	HTTPMethod string `json:"http_method"`
	// UUID acting as Request Identifier.
	ID string `json:"id"`
	// Latency added by making this request via Unified Api.
	Latency float64 `json:"latency"`
	// The request as defined in OpenApi Spec.
	Operation LogOperation `json:"operation"`
	// When request is a child request, this UUID indicates it's parent request.
	ParentID string `json:"parent_id"`
	// The path component of the URI the request was made to.
	Path string `json:"path"`
	// Indicates whether the request was made using Apidecks sandbox credentials or not.
	Sandbox bool `json:"sandbox"`
	// Apideck service provider associated with request.
	Service LogService `json:"service"`
	// The IP address of the source of the request.
	SourceIP *string `json:"source_ip,omitempty"`
	// HTTP Status code that was returned.
	StatusCode int64 `json:"status_code"`
	// Whether or not the request was successful.
	Success bool `json:"success"`
	// ISO Date and time when the request was made.
	Timestamp string `json:"timestamp"`
	// Which Unified Api request was made to.
	UnifiedAPI LogUnifiedAPIEnum `json:"unified_api"`
}
