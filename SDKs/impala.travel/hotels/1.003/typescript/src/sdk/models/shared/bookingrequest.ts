/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { NotesBookedRoom } from "./notesbookedroom";
import { NotesBooking } from "./notesbooking";
import { PersonInfo } from "./personinfo";
import { Expose, Transform, Type } from "class-transformer";

/**
 * How will the guest make payment for this booking?
 */
export enum BookingRequestPaymentTypeEnum {
  Api = "API",
}

export class BookingRequestRooms extends SpeakeasyBase {
  /**
   * The number of adult guests staying in the room.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "adults" })
  adults: number;

  /**
   * Notes about this booked room. These might be requests for room setup (e.g. extra beds or requests to remove alcoholic beverages from the minibar) or other requests related to this particular booked room.
   *
   * @remarks
   * These fields allow for **Markdown formatting** that's displayed to hotels in its rendered format in most circumstances but might fall back to text-only in scenarios where that's not possible.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "notes" })
  @Type(() => NotesBookedRoom)
  notes?: NotesBookedRoom;

  /**
   * The unique identifier of this rate within Impala. Every rate returned in the `roomTypes[].rates[]` array when retrieving hotel availability includes this id.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "rateId" })
  rateId: string;
}

/**
 * Specifies the room you want to book for your guest.
 */
export class BookingRequest extends SpeakeasyBase {
  /**
   * Details of your guest (will be provided to the hotel in case of questions).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "bookingContact" })
  @Type(() => PersonInfo)
  bookingContact: PersonInfo;

  /**
   * The last day of the desired stay range in ISO 8601 format YYYY-MM-DD.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "end" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  end: Date;

  /**
   * Notes allow sellers to their guests to communicate relevant information to the hotel.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "notes" })
  @Type(() => NotesBooking)
  notes?: NotesBooking;

  /**
   * How will the guest make payment for this booking?
   */
  @SpeakeasyMetadata()
  @Expose({ name: "paymentType" })
  paymentType?: BookingRequestPaymentTypeEnum;

  /**
   * List of room type identifiers to be booked.
   */
  @SpeakeasyMetadata({ elemType: BookingRequestRooms })
  @Expose({ name: "rooms" })
  @Type(() => BookingRequestRooms)
  rooms: BookingRequestRooms[];

  /**
   * The first day of the desired stay range in ISO 8601 format YYYY-MM-DD.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "start" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  start: Date;
}
