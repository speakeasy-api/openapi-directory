// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// FeedConnectionAccountTypeEnum - High level bank account type - BANK CREDITCARD BANK encompasses all bank account types other than credit cards.
type FeedConnectionAccountTypeEnum string

const (
	FeedConnectionAccountTypeEnumBank       FeedConnectionAccountTypeEnum = "BANK"
	FeedConnectionAccountTypeEnumCreditcard FeedConnectionAccountTypeEnum = "CREDITCARD"
)

func (e FeedConnectionAccountTypeEnum) ToPointer() *FeedConnectionAccountTypeEnum {
	return &e
}

func (e *FeedConnectionAccountTypeEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "BANK":
		fallthrough
	case "CREDITCARD":
		*e = FeedConnectionAccountTypeEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for FeedConnectionAccountTypeEnum: %v", v)
	}
}

// FeedConnectionStatusEnum - the current status of the feed connection
type FeedConnectionStatusEnum string

const (
	FeedConnectionStatusEnumPending  FeedConnectionStatusEnum = "PENDING"
	FeedConnectionStatusEnumRejected FeedConnectionStatusEnum = "REJECTED"
)

func (e FeedConnectionStatusEnum) ToPointer() *FeedConnectionStatusEnum {
	return &e
}

func (e *FeedConnectionStatusEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "PENDING":
		fallthrough
	case "REJECTED":
		*e = FeedConnectionStatusEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for FeedConnectionStatusEnum: %v", v)
	}
}

// FeedConnection - success returns a FeedConnection object matching the id in response
// https://developer.xero.com/documentation/bank-feeds-api/feed-connections
type FeedConnection struct {
	// Xero identifier for a bank account in Xero. Must be included if AccountNumber is not specified.
	AccountID *string `json:"accountId,omitempty"`
	// The Account Name will be used for the creation of a new Xero Bank Account if a matching Xero Bank Account is not found.
	AccountName *string `json:"accountName,omitempty"`
	// String(40) when AccountType is BANK String(4) when AccountType is CREDITCARD The Account Number is used to match the feed to a Xero Bank Account. The API will create a new Xero Bank Account if a match to an existing Xero Bank Account is not found. Only the last 4 digits must be supplied for Credit Card numbers. Must be included if AccountId is not specified.
	AccountNumber *string `json:"accountNumber,omitempty"`
	// This account identifier is generated by the financial institute (FI). This must be unique for your financial institute.
	AccountToken *string `json:"accountToken,omitempty"`
	// High level bank account type - BANK CREDITCARD BANK encompasses all bank account types other than credit cards.
	AccountType *FeedConnectionAccountTypeEnum `json:"accountType,omitempty"`
	// ISO-3166 alpha-2 country code, e.g. US, AU This element is required only when the Application supports multi-region. Talk to your Partner Manager to confirm if this is the case.
	Country *CountryCodeEnum `json:"country,omitempty"`
	// 3 letter alpha code for the ISO-4217 currency code, e.g. USD, AUD.
	Currency *CurrencyCodeEnum `json:"currency,omitempty"`
	// On error, the API consumer will receive an HTTP response with a HTTP Status Code of 4xx or 5xx and a Content-Type of application/problem+json.
	Error *Error `json:"error,omitempty"`
	// GUID used to identify the Account.
	ID *string `json:"id,omitempty"`
	// the current status of the feed connection
	Status *FeedConnectionStatusEnum `json:"status,omitempty"`
}
