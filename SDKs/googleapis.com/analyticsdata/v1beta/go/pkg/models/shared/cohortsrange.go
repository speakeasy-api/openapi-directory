// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// CohortsRangeGranularityEnum - Required. The granularity used to interpret the `startOffset` and `endOffset` for the extended reporting date range for a cohort report.
type CohortsRangeGranularityEnum string

const (
	CohortsRangeGranularityEnumGranularityUnspecified CohortsRangeGranularityEnum = "GRANULARITY_UNSPECIFIED"
	CohortsRangeGranularityEnumDaily                  CohortsRangeGranularityEnum = "DAILY"
	CohortsRangeGranularityEnumWeekly                 CohortsRangeGranularityEnum = "WEEKLY"
	CohortsRangeGranularityEnumMonthly                CohortsRangeGranularityEnum = "MONTHLY"
)

func (e CohortsRangeGranularityEnum) ToPointer() *CohortsRangeGranularityEnum {
	return &e
}

func (e *CohortsRangeGranularityEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "GRANULARITY_UNSPECIFIED":
		fallthrough
	case "DAILY":
		fallthrough
	case "WEEKLY":
		fallthrough
	case "MONTHLY":
		*e = CohortsRangeGranularityEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CohortsRangeGranularityEnum: %v", v)
	}
}

// CohortsRange - Configures the extended reporting date range for a cohort report. Specifies an offset duration to follow the cohorts over.
type CohortsRange struct {
	// Required. `endOffset` specifies the end date of the extended reporting date range for a cohort report. `endOffset` can be any positive integer but is commonly set to 5 to 10 so that reports contain data on the cohort for the next several granularity time periods. If `granularity` is `DAILY`, the `endDate` of the extended reporting date range is `endDate` of the cohort plus `endOffset` days. If `granularity` is `WEEKLY`, the `endDate` of the extended reporting date range is `endDate` of the cohort plus `endOffset * 7` days. If `granularity` is `MONTHLY`, the `endDate` of the extended reporting date range is `endDate` of the cohort plus `endOffset * 30` days.
	EndOffset *int `json:"endOffset,omitempty"`
	// Required. The granularity used to interpret the `startOffset` and `endOffset` for the extended reporting date range for a cohort report.
	Granularity *CohortsRangeGranularityEnum `json:"granularity,omitempty"`
	// `startOffset` specifies the start date of the extended reporting date range for a cohort report. `startOffset` is commonly set to 0 so that reports contain data from the acquisition of the cohort forward. If `granularity` is `DAILY`, the `startDate` of the extended reporting date range is `startDate` of the cohort plus `startOffset` days. If `granularity` is `WEEKLY`, the `startDate` of the extended reporting date range is `startDate` of the cohort plus `startOffset * 7` days. If `granularity` is `MONTHLY`, the `startDate` of the extended reporting date range is `startDate` of the cohort plus `startOffset * 30` days.
	StartOffset *int `json:"startOffset,omitempty"`
}
