// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnum - Indicates if pricing is a flat fee or is per unit. This field is for tiered and volume pricing models only.
type ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnum string

const (
	ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnumFlatFee ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnum = "Flat Fee"
	ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnumPerUnit ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnum = "Per Unit"
)

func (e *ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "Flat Fee":
		fallthrough
	case "Per Unit":
		*e = ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnum: %s", s)
	}
}

type ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTier struct {
	// The code corresponding to the currency for the tier's price.
	//
	Currency *string `json:"Currency,omitempty"`
	// The specific amount for a fixed discount. Required if the charge model of the product rate plan charge is `Discount-Fixed Amount`.
	//
	DiscountAmount *float64 `json:"DiscountAmount,omitempty"`
	// The percentage of discount for a percentage discount. Required if the charge model of the product rate plan charge is `Discount-Percentage`.
	//
	DiscountPercentage *float64 `json:"DiscountPercentage,omitempty"`
	// The end number of a range of units for the tier. Required if the charge model of the product rate plan charge is `Tiered Pricing` or `Tiered with Overage Pricing`.
	//
	EndingUnit *float64 `json:"EndingUnit,omitempty"`
	// Indicates if the price is an overage price, which is the price when usage surpasses the last defined tier.
	//
	IsOveragePrice *bool `json:"IsOveragePrice,omitempty"`
	// The price of the tier if the charge is a flat fee, or the price of each unit in the tier if the charge model is tiered pricing.
	//
	Price *float64 `json:"Price,omitempty"`
	// Indicates if pricing is a flat fee or is per unit. This field is for tiered and volume pricing models only.
	//
	PriceFormat *ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTierPriceFormatEnum `json:"PriceFormat,omitempty"`
	// The starting number of a range of units for the tier. Required if the charge model of the product rate plan charge is `Tiered Pricing` or `Tiered with Overage Pricing`.
	//
	StartingUnit *float64 `json:"StartingUnit,omitempty"`
}

// ProxyCreateOrModifyProductRatePlanChargeTierData - Container for pricing information associated with the product rate plan charge.
type ProxyCreateOrModifyProductRatePlanChargeTierData struct {
	// Array of product rate plan charge tiers.
	//
	// You should specify all relevant fields of all tiers, including pricing information for each currency.
	//
	// For each currency, ensure that the tiers appear in ascending order of `StartingUnit`.
	//
	// For example:
	//
	// ```
	// [
	//   {
	//     "StartingUnit": "1",
	//     "EndingUnit": "150",
	//     "Currency": "USD",
	//     "Price": 1.95,
	//     "PriceFormat": "Per Unit"
	//   },
	//   {
	//     "StartingUnit": "151",
	//     "EndingUnit": "300",
	//     "Currency": "USD",
	//     "Price": 1.45,
	//     "PriceFormat": "Per Unit"
	//   },
	//   {
	//     "StartingUnit": "1",
	//     "EndingUnit": "150",
	//     "Currency": "EUR",
	//     "Price": 1.75,
	//     "PriceFormat": "Per Unit"
	//   },
	//   {
	//     "StartingUnit": "151",
	//     "EndingUnit": "300",
	//     "Currency": "EUR",
	//     "Price": 1.30,
	//     "PriceFormat": "Per Unit"
	//   }
	// ]
	// ```
	//
	ProductRatePlanChargeTier []ProxyCreateOrModifyProductRatePlanChargeTierDataProductRatePlanChargeTier `json:"ProductRatePlanChargeTier,omitempty"`
}
