/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { ResourceFile } from "./resourcefile";
import { Expose, Type } from "class-transformer";

/**
 * Settings which specify how to run a multi-instance task. Multi-instance tasks are commonly used to support MPI tasks.
 */
export class MultiInstanceSettings extends SpeakeasyBase {
  /**
   * A list of files that the Batch service will download before running the coordination command line. The difference between common resource files and task resource files is that common resource files are downloaded for all subtasks including the primary, whereas task resource files are downloaded only for the primary.
   */
  @SpeakeasyMetadata({ elemType: ResourceFile })
  @Expose({ name: "commonResourceFiles" })
  @Type(() => ResourceFile)
  commonResourceFiles?: ResourceFile[];

  /**
   * The command to run on the compute node instances for coordinating among the subtasks.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "coordinationCommandLine" })
  coordinationCommandLine?: string;

  /**
   * The number of compute nodes required by the multi-instance task.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "numberOfInstances" })
  numberOfInstances: number;
}
