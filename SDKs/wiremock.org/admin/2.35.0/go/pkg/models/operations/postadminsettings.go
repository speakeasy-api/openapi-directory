// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"bytes"
	"encoding/json"
	"errors"
	"fmt"
	"net/http"
)

type PostAdminSettingsRequestBodyUniformTypeEnum string

const (
	PostAdminSettingsRequestBodyUniformTypeEnumUniform PostAdminSettingsRequestBodyUniformTypeEnum = "uniform"
)

func (e *PostAdminSettingsRequestBodyUniformTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "uniform":
		*e = PostAdminSettingsRequestBodyUniformTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for PostAdminSettingsRequestBodyUniformTypeEnum: %s", s)
	}
}

// PostAdminSettingsRequestBodyUniform - Uniformly distributed random response delay.
type PostAdminSettingsRequestBodyUniform struct {
	FixedDelay *float64                                     `json:"fixedDelay,omitempty"`
	Lower      *int64                                       `json:"lower,omitempty"`
	Type       *PostAdminSettingsRequestBodyUniformTypeEnum `json:"type,omitempty"`
	Upper      *int64                                       `json:"upper,omitempty"`
}

type PostAdminSettingsRequestBodyLogNormalTypeEnum string

const (
	PostAdminSettingsRequestBodyLogNormalTypeEnumLognormal PostAdminSettingsRequestBodyLogNormalTypeEnum = "lognormal"
)

func (e *PostAdminSettingsRequestBodyLogNormalTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "lognormal":
		*e = PostAdminSettingsRequestBodyLogNormalTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for PostAdminSettingsRequestBodyLogNormalTypeEnum: %s", s)
	}
}

// PostAdminSettingsRequestBodyLogNormal - Log normal randomly distributed response delay.
type PostAdminSettingsRequestBodyLogNormal struct {
	FixedDelay *float64                                       `json:"fixedDelay,omitempty"`
	Median     *int64                                         `json:"median,omitempty"`
	Sigma      *float64                                       `json:"sigma,omitempty"`
	Type       *PostAdminSettingsRequestBodyLogNormalTypeEnum `json:"type,omitempty"`
}

type PostAdminSettingsRequestBodyType string

const (
	PostAdminSettingsRequestBodyTypePostAdminSettingsRequestBodyLogNormal PostAdminSettingsRequestBodyType = "post_/__admin/settings_requestBody_Log normal"
	PostAdminSettingsRequestBodyTypePostAdminSettingsRequestBodyUniform   PostAdminSettingsRequestBodyType = "post_/__admin/settings_requestBody_Uniform"
)

type PostAdminSettingsRequestBody struct {
	PostAdminSettingsRequestBodyLogNormal *PostAdminSettingsRequestBodyLogNormal
	PostAdminSettingsRequestBodyUniform   *PostAdminSettingsRequestBodyUniform

	Type PostAdminSettingsRequestBodyType
}

func CreatePostAdminSettingsRequestBodyPostAdminSettingsRequestBodyLogNormal(postAdminSettingsRequestBodyLogNormal PostAdminSettingsRequestBodyLogNormal) PostAdminSettingsRequestBody {
	typ := PostAdminSettingsRequestBodyTypePostAdminSettingsRequestBodyLogNormal

	return PostAdminSettingsRequestBody{
		PostAdminSettingsRequestBodyLogNormal: &postAdminSettingsRequestBodyLogNormal,
		Type:                                  typ,
	}
}

func CreatePostAdminSettingsRequestBodyPostAdminSettingsRequestBodyUniform(postAdminSettingsRequestBodyUniform PostAdminSettingsRequestBodyUniform) PostAdminSettingsRequestBody {
	typ := PostAdminSettingsRequestBodyTypePostAdminSettingsRequestBodyUniform

	return PostAdminSettingsRequestBody{
		PostAdminSettingsRequestBodyUniform: &postAdminSettingsRequestBodyUniform,
		Type:                                typ,
	}
}

func (u *PostAdminSettingsRequestBody) UnmarshalJSON(data []byte) error {
	var d *json.Decoder

	postAdminSettingsRequestBodyLogNormal := new(PostAdminSettingsRequestBodyLogNormal)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&postAdminSettingsRequestBodyLogNormal); err == nil {
		u.PostAdminSettingsRequestBodyLogNormal = postAdminSettingsRequestBodyLogNormal
		u.Type = PostAdminSettingsRequestBodyTypePostAdminSettingsRequestBodyLogNormal
		return nil
	}

	postAdminSettingsRequestBodyUniform := new(PostAdminSettingsRequestBodyUniform)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&postAdminSettingsRequestBodyUniform); err == nil {
		u.PostAdminSettingsRequestBodyUniform = postAdminSettingsRequestBodyUniform
		u.Type = PostAdminSettingsRequestBodyTypePostAdminSettingsRequestBodyUniform
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u PostAdminSettingsRequestBody) MarshalJSON() ([]byte, error) {
	if u.PostAdminSettingsRequestBodyLogNormal != nil {
		return json.Marshal(u.PostAdminSettingsRequestBodyLogNormal)
	}

	if u.PostAdminSettingsRequestBodyUniform != nil {
		return json.Marshal(u.PostAdminSettingsRequestBodyUniform)
	}

	return nil, nil
}

type PostAdminSettingsResponse struct {
	ContentType string
	StatusCode  int
	RawResponse *http.Response
}
