// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// AutoscalingEventEventTypeEnum - The type of autoscaling event to report.
type AutoscalingEventEventTypeEnum string

const (
	AutoscalingEventEventTypeEnumTypeUnknown              AutoscalingEventEventTypeEnum = "TYPE_UNKNOWN"
	AutoscalingEventEventTypeEnumTargetNumWorkersChanged  AutoscalingEventEventTypeEnum = "TARGET_NUM_WORKERS_CHANGED"
	AutoscalingEventEventTypeEnumCurrentNumWorkersChanged AutoscalingEventEventTypeEnum = "CURRENT_NUM_WORKERS_CHANGED"
	AutoscalingEventEventTypeEnumActuationFailure         AutoscalingEventEventTypeEnum = "ACTUATION_FAILURE"
	AutoscalingEventEventTypeEnumNoChange                 AutoscalingEventEventTypeEnum = "NO_CHANGE"
)

func (e *AutoscalingEventEventTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "TYPE_UNKNOWN":
		fallthrough
	case "TARGET_NUM_WORKERS_CHANGED":
		fallthrough
	case "CURRENT_NUM_WORKERS_CHANGED":
		fallthrough
	case "ACTUATION_FAILURE":
		fallthrough
	case "NO_CHANGE":
		*e = AutoscalingEventEventTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for AutoscalingEventEventTypeEnum: %s", s)
	}
}

// AutoscalingEvent - A structured message reporting an autoscaling decision made by the Dataflow service.
type AutoscalingEvent struct {
	// The current number of workers the job has.
	CurrentNumWorkers *string `json:"currentNumWorkers,omitempty"`
	// A rich message format, including a human readable string, a key for identifying the message, and structured data associated with the message for programmatic consumption.
	Description *StructuredMessage `json:"description,omitempty"`
	// The type of autoscaling event to report.
	EventType *AutoscalingEventEventTypeEnum `json:"eventType,omitempty"`
	// The target number of workers the worker pool wants to resize to use.
	TargetNumWorkers *string `json:"targetNumWorkers,omitempty"`
	// The time this event was emitted to indicate a new target or current num_workers value.
	Time *string `json:"time,omitempty"`
	// A short and friendly name for the worker pool this event refers to.
	WorkerPool *string `json:"workerPool,omitempty"`
}
