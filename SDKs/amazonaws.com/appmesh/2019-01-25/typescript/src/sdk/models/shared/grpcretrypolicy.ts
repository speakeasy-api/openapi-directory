/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { Duration } from "./duration";
import { GrpcRetryPolicyEventEnum } from "./grpcretrypolicyeventenum";
import { TcpRetryPolicyEventEnum } from "./tcpretrypolicyeventenum";
import { Expose, Type } from "class-transformer";

/**
 * An object that represents a retry policy. Specify at least one value for at least one of the types of <code>RetryEvents</code>, a value for <code>maxRetries</code>, and a value for <code>perRetryTimeout</code>. Both <code>server-error</code> and <code>gateway-error</code> under <code>httpRetryEvents</code> include the Envoy <code>reset</code> policy. For more information on the <code>reset</code> policy, see the <a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#x-envoy-retry-on">Envoy documentation</a>.
 */
export class GrpcRetryPolicy extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "grpcRetryEvents" })
  grpcRetryEvents?: GrpcRetryPolicyEventEnum[];

  @SpeakeasyMetadata()
  @Expose({ name: "httpRetryEvents" })
  httpRetryEvents?: string[];

  @SpeakeasyMetadata()
  @Expose({ name: "maxRetries" })
  maxRetries: number;

  @SpeakeasyMetadata()
  @Expose({ name: "perRetryTimeout" })
  @Type(() => Duration)
  perRetryTimeout: Duration;

  @SpeakeasyMetadata()
  @Expose({ name: "tcpRetryEvents" })
  tcpRetryEvents?: TcpRetryPolicyEventEnum[];
}
