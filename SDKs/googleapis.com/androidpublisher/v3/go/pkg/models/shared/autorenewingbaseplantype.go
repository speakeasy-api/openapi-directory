// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// AutoRenewingBasePlanTypeProrationModeEnum - The proration mode for the base plan determines what happens when a user switches to this plan from another base plan. If unspecified, defaults to CHARGE_ON_NEXT_BILLING_DATE.
type AutoRenewingBasePlanTypeProrationModeEnum string

const (
	AutoRenewingBasePlanTypeProrationModeEnumSubscriptionProrationModeUnspecified                AutoRenewingBasePlanTypeProrationModeEnum = "SUBSCRIPTION_PRORATION_MODE_UNSPECIFIED"
	AutoRenewingBasePlanTypeProrationModeEnumSubscriptionProrationModeChargeOnNextBillingDate    AutoRenewingBasePlanTypeProrationModeEnum = "SUBSCRIPTION_PRORATION_MODE_CHARGE_ON_NEXT_BILLING_DATE"
	AutoRenewingBasePlanTypeProrationModeEnumSubscriptionProrationModeChargeFullPriceImmediately AutoRenewingBasePlanTypeProrationModeEnum = "SUBSCRIPTION_PRORATION_MODE_CHARGE_FULL_PRICE_IMMEDIATELY"
)

func (e *AutoRenewingBasePlanTypeProrationModeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "SUBSCRIPTION_PRORATION_MODE_UNSPECIFIED":
		fallthrough
	case "SUBSCRIPTION_PRORATION_MODE_CHARGE_ON_NEXT_BILLING_DATE":
		fallthrough
	case "SUBSCRIPTION_PRORATION_MODE_CHARGE_FULL_PRICE_IMMEDIATELY":
		*e = AutoRenewingBasePlanTypeProrationModeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for AutoRenewingBasePlanTypeProrationModeEnum: %s", s)
	}
}

// AutoRenewingBasePlanTypeResubscribeStateEnum - Whether users should be able to resubscribe to this base plan in Google Play surfaces. Defaults to RESUBSCRIBE_STATE_ACTIVE if not specified.
type AutoRenewingBasePlanTypeResubscribeStateEnum string

const (
	AutoRenewingBasePlanTypeResubscribeStateEnumResubscribeStateUnspecified AutoRenewingBasePlanTypeResubscribeStateEnum = "RESUBSCRIBE_STATE_UNSPECIFIED"
	AutoRenewingBasePlanTypeResubscribeStateEnumResubscribeStateActive      AutoRenewingBasePlanTypeResubscribeStateEnum = "RESUBSCRIBE_STATE_ACTIVE"
	AutoRenewingBasePlanTypeResubscribeStateEnumResubscribeStateInactive    AutoRenewingBasePlanTypeResubscribeStateEnum = "RESUBSCRIBE_STATE_INACTIVE"
)

func (e *AutoRenewingBasePlanTypeResubscribeStateEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "RESUBSCRIBE_STATE_UNSPECIFIED":
		fallthrough
	case "RESUBSCRIBE_STATE_ACTIVE":
		fallthrough
	case "RESUBSCRIBE_STATE_INACTIVE":
		*e = AutoRenewingBasePlanTypeResubscribeStateEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for AutoRenewingBasePlanTypeResubscribeStateEnum: %s", s)
	}
}

// AutoRenewingBasePlanType - Represents a base plan that automatically renews at the end of its subscription period.
type AutoRenewingBasePlanType struct {
	// Required. Subscription period, specified in ISO 8601 format. For a list of acceptable billing periods, refer to the help center.
	BillingPeriodDuration *string `json:"billingPeriodDuration,omitempty"`
	// Grace period of the subscription, specified in ISO 8601 format. Acceptable values are P0D (zero days), P3D (3 days), P7D (7 days), P14D (14 days), and P30D (30 days). If not specified, a default value will be used based on the recurring period duration.
	GracePeriodDuration *string `json:"gracePeriodDuration,omitempty"`
	// Whether the renewing base plan is backward compatible. The backward compatible base plan is returned by the Google Play Billing Library deprecated method querySkuDetailsAsync(). Only one renewing base plan can be marked as legacy compatible for a given subscription.
	LegacyCompatible *bool `json:"legacyCompatible,omitempty"`
	// Subscription offer id which is legacy compatible. The backward compatible subscription offer is returned by the Google Play Billing Library deprecated method querySkuDetailsAsync(). Only one subscription offer can be marked as legacy compatible for a given renewing base plan. To have no Subscription offer as legacy compatible set this field as empty string.
	LegacyCompatibleSubscriptionOfferID *string `json:"legacyCompatibleSubscriptionOfferId,omitempty"`
	// The proration mode for the base plan determines what happens when a user switches to this plan from another base plan. If unspecified, defaults to CHARGE_ON_NEXT_BILLING_DATE.
	ProrationMode *AutoRenewingBasePlanTypeProrationModeEnum `json:"prorationMode,omitempty"`
	// Whether users should be able to resubscribe to this base plan in Google Play surfaces. Defaults to RESUBSCRIBE_STATE_ACTIVE if not specified.
	ResubscribeState *AutoRenewingBasePlanTypeResubscribeStateEnum `json:"resubscribeState,omitempty"`
}
