"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
import requests as requests_http
from ..shared import createnodegroupresponse as shared_createnodegroupresponse
from ..shared import taint as shared_taint
from dataclasses_json import Undefined, dataclass_json
from enum import Enum
from sdk import utils
from typing import Any, Optional

class CreateNodegroupRequestBodyAmiTypeEnum(str, Enum):
    r"""The AMI type for your node group. If you specify <code>launchTemplate</code>, and your launch template uses a custom AMI, then don't specify <code>amiType</code>, or the node group deployment will fail. If your launch template uses a Windows custom AMI, then add <code>eks:kube-proxy-windows</code> to your Windows nodes <code>rolearn</code> in the <code>aws-auth</code> <code>ConfigMap</code>. For more information about using launch templates with Amazon EKS, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>."""
    AL2_X86_64 = 'AL2_x86_64'
    AL2_X86_64_GPU = 'AL2_x86_64_GPU'
    AL2_ARM_64 = 'AL2_ARM_64'
    CUSTOM = 'CUSTOM'
    BOTTLEROCKET_ARM_64 = 'BOTTLEROCKET_ARM_64'
    BOTTLEROCKET_X86_64 = 'BOTTLEROCKET_x86_64'
    BOTTLEROCKET_ARM_64_NVIDIA = 'BOTTLEROCKET_ARM_64_NVIDIA'
    BOTTLEROCKET_X86_64_NVIDIA = 'BOTTLEROCKET_x86_64_NVIDIA'
    WINDOWS_CORE_2019_X86_64 = 'WINDOWS_CORE_2019_x86_64'
    WINDOWS_FULL_2019_X86_64 = 'WINDOWS_FULL_2019_x86_64'
    WINDOWS_CORE_2022_X86_64 = 'WINDOWS_CORE_2022_x86_64'
    WINDOWS_FULL_2022_X86_64 = 'WINDOWS_FULL_2022_x86_64'

class CreateNodegroupRequestBodyCapacityTypeEnum(str, Enum):
    r"""The capacity type for your node group."""
    ON_DEMAND = 'ON_DEMAND'
    SPOT = 'SPOT'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class CreateNodegroupRequestBodyLaunchTemplate:
    r"""<p>An object representing a node group launch template specification. The launch template can't include <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateNetworkInterface.html\\"> <code>SubnetId</code> </a>, <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_IamInstanceProfile.html\\"> <code>IamInstanceProfile</code> </a>, <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RequestSpotInstances.html\\"> <code>RequestSpotInstances</code> </a>, <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_HibernationOptionsRequest.html\\"> <code>HibernationOptions</code> </a>, or <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_TerminateInstances.html\\"> <code>TerminateInstances</code> </a>, or the node group deployment or update will fail. For more information about launch templates, see <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateLaunchTemplate.html\\"> <code>CreateLaunchTemplate</code> </a> in the Amazon EC2 API Reference. For more information about using launch templates with Amazon EKS, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>.</p> <p>You must specify either the launch template ID or the launch template name in the request, but not both.</p>"""
    
    id: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('id'), 'exclude': lambda f: f is None }})  
    name: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('name'), 'exclude': lambda f: f is None }})  
    version: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('version'), 'exclude': lambda f: f is None }})  
    

@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class CreateNodegroupRequestBodyRemoteAccess:
    r"""An object representing the remote access configuration for the managed node group."""
    
    ec2_ssh_key: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('ec2SshKey'), 'exclude': lambda f: f is None }})  
    source_security_groups: Optional[list[str]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('sourceSecurityGroups'), 'exclude': lambda f: f is None }})  
    

@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class CreateNodegroupRequestBodyScalingConfig:
    r"""An object representing the scaling configuration details for the Auto Scaling group that is associated with your node group. When creating a node group, you must specify all or none of the properties. When updating a node group, you can specify any or none of the properties."""
    
    desired_size: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('desiredSize'), 'exclude': lambda f: f is None }})  
    max_size: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('maxSize'), 'exclude': lambda f: f is None }})  
    min_size: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('minSize'), 'exclude': lambda f: f is None }})  
    

@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class CreateNodegroupRequestBodyUpdateConfig:
    r"""The node group update configuration."""
    
    max_unavailable: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('maxUnavailable'), 'exclude': lambda f: f is None }})  
    max_unavailable_percentage: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('maxUnavailablePercentage'), 'exclude': lambda f: f is None }})  
    

@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class CreateNodegroupRequestBody:
    
    nodegroup_name: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('nodegroupName') }})
    r"""The unique name to give your node group."""  
    node_role: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('nodeRole') }})
    r"""The Amazon Resource Name (ARN) of the IAM role to associate with your node group. The Amazon EKS worker node <code>kubelet</code> daemon makes calls to Amazon Web Services APIs on your behalf. Nodes receive permissions for these API calls through an IAM instance profile and associated policies. Before you can launch nodes and register them into a cluster, you must create an IAM role for those nodes to use when they are launched. For more information, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/create-node-role.html\\">Amazon EKS node IAM role</a> in the <i> <i>Amazon EKS User Guide</i> </i>. If you specify <code>launchTemplate</code>, then don't specify <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_IamInstanceProfile.html\\"> <code>IamInstanceProfile</code> </a> in your launch template, or the node group deployment will fail. For more information about using launch templates with Amazon EKS, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>."""  
    subnets: list[str] = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('subnets') }})
    r"""The subnets to use for the Auto Scaling group that is created for your node group. If you specify <code>launchTemplate</code>, then don't specify <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateNetworkInterface.html\\"> <code>SubnetId</code> </a> in your launch template, or the node group deployment will fail. For more information about using launch templates with Amazon EKS, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>."""  
    ami_type: Optional[CreateNodegroupRequestBodyAmiTypeEnum] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('amiType'), 'exclude': lambda f: f is None }})
    r"""The AMI type for your node group. If you specify <code>launchTemplate</code>, and your launch template uses a custom AMI, then don't specify <code>amiType</code>, or the node group deployment will fail. If your launch template uses a Windows custom AMI, then add <code>eks:kube-proxy-windows</code> to your Windows nodes <code>rolearn</code> in the <code>aws-auth</code> <code>ConfigMap</code>. For more information about using launch templates with Amazon EKS, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>."""  
    capacity_type: Optional[CreateNodegroupRequestBodyCapacityTypeEnum] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('capacityType'), 'exclude': lambda f: f is None }})
    r"""The capacity type for your node group."""  
    client_request_token: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('clientRequestToken'), 'exclude': lambda f: f is None }})
    r"""Unique, case-sensitive identifier that you provide to ensure the idempotency of the request."""  
    disk_size: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('diskSize'), 'exclude': lambda f: f is None }})
    r"""The root device disk size (in GiB) for your node group instances. The default disk size is 20 GiB for Linux and Bottlerocket. The default disk size is 50 GiB for Windows. If you specify <code>launchTemplate</code>, then don't specify <code>diskSize</code>, or the node group deployment will fail. For more information about using launch templates with Amazon EKS, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>."""  
    instance_types: Optional[list[str]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('instanceTypes'), 'exclude': lambda f: f is None }})
    r"""Specify the instance types for a node group. If you specify a GPU instance type, make sure to also specify an applicable GPU AMI type with the <code>amiType</code> parameter. If you specify <code>launchTemplate</code>, then you can specify zero or one instance type in your launch template <i>or</i> you can specify 0-20 instance types for <code>instanceTypes</code>. If however, you specify an instance type in your launch template <i>and</i> specify any <code>instanceTypes</code>, the node group deployment will fail. If you don't specify an instance type in a launch template or for <code>instanceTypes</code>, then <code>t3.medium</code> is used, by default. If you specify <code>Spot</code> for <code>capacityType</code>, then we recommend specifying multiple values for <code>instanceTypes</code>. For more information, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/managed-node-groups.html#managed-node-group-capacity-types\\">Managed node group capacity types</a> and <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>."""  
    labels: Optional[dict[str, str]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('labels'), 'exclude': lambda f: f is None }})
    r"""The Kubernetes labels to be applied to the nodes in the node group when they are created."""  
    launch_template: Optional[CreateNodegroupRequestBodyLaunchTemplate] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('launchTemplate'), 'exclude': lambda f: f is None }})
    r"""<p>An object representing a node group launch template specification. The launch template can't include <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateNetworkInterface.html\\"> <code>SubnetId</code> </a>, <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_IamInstanceProfile.html\\"> <code>IamInstanceProfile</code> </a>, <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RequestSpotInstances.html\\"> <code>RequestSpotInstances</code> </a>, <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_HibernationOptionsRequest.html\\"> <code>HibernationOptions</code> </a>, or <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_TerminateInstances.html\\"> <code>TerminateInstances</code> </a>, or the node group deployment or update will fail. For more information about launch templates, see <a href=\\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateLaunchTemplate.html\\"> <code>CreateLaunchTemplate</code> </a> in the Amazon EC2 API Reference. For more information about using launch templates with Amazon EKS, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>.</p> <p>You must specify either the launch template ID or the launch template name in the request, but not both.</p>"""  
    release_version: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('releaseVersion'), 'exclude': lambda f: f is None }})
    r"""<p>The AMI version of the Amazon EKS optimized AMI to use with your node group. By default, the latest available AMI version for the node group's current Kubernetes version is used. For information about Linux versions, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/eks-linux-ami-versions.html\\">Amazon EKS optimized Amazon Linux AMI versions</a> in the <i>Amazon EKS User Guide</i>. Amazon EKS managed node groups support the November 2022 and later releases of the Windows AMIs. For information about Windows versions, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/eks-ami-versions-windows.html\\">Amazon EKS optimized Windows AMI versions</a> in the <i>Amazon EKS User Guide</i>.</p> <p>If you specify <code>launchTemplate</code>, and your launch template uses a custom AMI, then don't specify <code>releaseVersion</code>, or the node group deployment will fail. For more information about using launch templates with Amazon EKS, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>.</p>"""  
    remote_access: Optional[CreateNodegroupRequestBodyRemoteAccess] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('remoteAccess'), 'exclude': lambda f: f is None }})
    r"""An object representing the remote access configuration for the managed node group."""  
    scaling_config: Optional[CreateNodegroupRequestBodyScalingConfig] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('scalingConfig'), 'exclude': lambda f: f is None }})
    r"""An object representing the scaling configuration details for the Auto Scaling group that is associated with your node group. When creating a node group, you must specify all or none of the properties. When updating a node group, you can specify any or none of the properties."""  
    tags: Optional[dict[str, str]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('tags'), 'exclude': lambda f: f is None }})
    r"""The metadata to apply to the node group to assist with categorization and organization. Each tag consists of a key and an optional value. You define both. Node group tags do not propagate to any other resources associated with the node group, such as the Amazon EC2 instances or subnets."""  
    taints: Optional[list[shared_taint.Taint]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('taints'), 'exclude': lambda f: f is None }})
    r"""The Kubernetes taints to be applied to the nodes in the node group. For more information, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/node-taints-managed-node-groups.html\\">Node taints on managed node groups</a>."""  
    update_config: Optional[CreateNodegroupRequestBodyUpdateConfig] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('updateConfig'), 'exclude': lambda f: f is None }})
    r"""The node group update configuration."""  
    version: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('version'), 'exclude': lambda f: f is None }})
    r"""The Kubernetes version to use for your managed nodes. By default, the Kubernetes version of the cluster is used, and this is the only accepted specified value. If you specify <code>launchTemplate</code>, and your launch template uses a custom AMI, then don't specify <code>version</code>, or the node group deployment will fail. For more information about using launch templates with Amazon EKS, see <a href=\\"https://docs.aws.amazon.com/eks/latest/userguide/launch-templates.html\\">Launch template support</a> in the <i>Amazon EKS User Guide</i>."""  
    

@dataclasses.dataclass
class CreateNodegroupRequest:
    
    name: str = dataclasses.field(metadata={'path_param': { 'field_name': 'name', 'style': 'simple', 'explode': False }})
    r"""The name of the cluster to create the node group in."""  
    request_body: CreateNodegroupRequestBody = dataclasses.field(metadata={'request': { 'media_type': 'application/json' }})  
    x_amz_algorithm: Optional[str] = dataclasses.field(default=None, metadata={'header': { 'field_name': 'X-Amz-Algorithm', 'style': 'simple', 'explode': False }})  
    x_amz_content_sha256: Optional[str] = dataclasses.field(default=None, metadata={'header': { 'field_name': 'X-Amz-Content-Sha256', 'style': 'simple', 'explode': False }})  
    x_amz_credential: Optional[str] = dataclasses.field(default=None, metadata={'header': { 'field_name': 'X-Amz-Credential', 'style': 'simple', 'explode': False }})  
    x_amz_date: Optional[str] = dataclasses.field(default=None, metadata={'header': { 'field_name': 'X-Amz-Date', 'style': 'simple', 'explode': False }})  
    x_amz_security_token: Optional[str] = dataclasses.field(default=None, metadata={'header': { 'field_name': 'X-Amz-Security-Token', 'style': 'simple', 'explode': False }})  
    x_amz_signature: Optional[str] = dataclasses.field(default=None, metadata={'header': { 'field_name': 'X-Amz-Signature', 'style': 'simple', 'explode': False }})  
    x_amz_signed_headers: Optional[str] = dataclasses.field(default=None, metadata={'header': { 'field_name': 'X-Amz-SignedHeaders', 'style': 'simple', 'explode': False }})  
    

@dataclasses.dataclass
class CreateNodegroupResponse:
    
    content_type: str = dataclasses.field()  
    status_code: int = dataclasses.field()  
    client_exception: Optional[Any] = dataclasses.field(default=None)
    r"""ClientException"""  
    create_nodegroup_response: Optional[shared_createnodegroupresponse.CreateNodegroupResponse] = dataclasses.field(default=None)
    r"""Success"""  
    invalid_parameter_exception: Optional[Any] = dataclasses.field(default=None)
    r"""InvalidParameterException"""  
    invalid_request_exception: Optional[Any] = dataclasses.field(default=None)
    r"""InvalidRequestException"""  
    raw_response: Optional[requests_http.Response] = dataclasses.field(default=None)  
    resource_in_use_exception: Optional[Any] = dataclasses.field(default=None)
    r"""ResourceInUseException"""  
    resource_limit_exceeded_exception: Optional[Any] = dataclasses.field(default=None)
    r"""ResourceLimitExceededException"""  
    server_exception: Optional[Any] = dataclasses.field(default=None)
    r"""ServerException"""  
    service_unavailable_exception: Optional[Any] = dataclasses.field(default=None)
    r"""ServiceUnavailableException"""  
    