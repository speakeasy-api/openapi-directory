/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import * as shared from "../shared";
import { AxiosResponse } from "axios";
import { Expose } from "class-transformer";

export class ReposCreateDeploymentRequestBody extends SpeakeasyBase {
  /**
   * Attempts to automatically merge the default branch into the requested ref, if it's behind the default branch.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "auto_merge" })
  autoMerge?: boolean;

  /**
   * Short description of the deployment.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "description" })
  description?: string;

  /**
   * Name for the target deployment environment (e.g., `production`, `staging`, `qa`).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "environment" })
  environment?: string;

  @SpeakeasyMetadata()
  @Expose({ name: "payload" })
  payload?: any;

  /**
   * Specifies if the given environment is one that end-users directly interact with. Default: `true` when `environment` is `production` and `false` otherwise.
   *
   * @remarks
   * **Note:** This parameter requires you to use the [`application/vnd.github.ant-man-preview+json`](https://docs.github.com/enterprise-server@2.19/rest/overview/api-previews#enhanced-deployments) custom media type.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "production_environment" })
  productionEnvironment?: boolean;

  /**
   * The ref to deploy. This can be a branch, tag, or SHA.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "ref" })
  ref: string;

  /**
   * The [status](https://docs.github.com/enterprise-server@2.19/rest/reference/repos#statuses) contexts to verify against commit status checks. If you omit this parameter, GitHub verifies all unique contexts before creating a deployment. To bypass checking entirely, pass an empty array. Defaults to all unique contexts.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "required_contexts" })
  requiredContexts?: string[];

  /**
   * Specifies a task to execute (e.g., `deploy` or `deploy:migrations`).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "task" })
  task?: string;

  /**
   * Specifies if the given environment is specific to the deployment and will no longer exist at some point in the future. Default: `false`
   *
   * @remarks
   * **Note:** This parameter requires you to use the [`application/vnd.github.ant-man-preview+json`](https://docs.github.com/enterprise-server@2.19/rest/overview/api-previews#enhanced-deployments) custom media type.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "transient_environment" })
  transientEnvironment?: boolean;
}

export class ReposCreateDeploymentRequest extends SpeakeasyBase {
  @SpeakeasyMetadata({ data: "request, media_type=application/json" })
  requestBody: ReposCreateDeploymentRequestBody;

  @SpeakeasyMetadata({
    data: "pathParam, style=simple;explode=false;name=owner",
  })
  owner: string;

  @SpeakeasyMetadata({
    data: "pathParam, style=simple;explode=false;name=repo",
  })
  repo: string;
}

/**
 * Merged branch response
 */
export class ReposCreateDeployment202ApplicationJSON extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "message" })
  message?: string;
}

export class ReposCreateDeploymentResponse extends SpeakeasyBase {
  @SpeakeasyMetadata()
  contentType: string;

  @SpeakeasyMetadata()
  statusCode: number;

  @SpeakeasyMetadata()
  rawResponse?: AxiosResponse;

  /**
   * Response
   */
  @SpeakeasyMetadata()
  deployment?: shared.Deployment;

  /**
   * Merged branch response
   */
  @SpeakeasyMetadata()
  reposCreateDeployment202ApplicationJSONObject?: ReposCreateDeployment202ApplicationJSON;

  /**
   * Validation failed
   */
  @SpeakeasyMetadata()
  validationError?: shared.ValidationError;
}
