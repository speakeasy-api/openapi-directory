// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
	"time"
)

type PermissionAccessModeEnum string

const (
	PermissionAccessModeEnumView   PermissionAccessModeEnum = "VIEW"
	PermissionAccessModeEnumStore  PermissionAccessModeEnum = "STORE"
	PermissionAccessModeEnumQuery  PermissionAccessModeEnum = "QUERY"
	PermissionAccessModeEnumStream PermissionAccessModeEnum = "STREAM"
)

func (e *PermissionAccessModeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "VIEW":
		fallthrough
	case "STORE":
		fallthrough
	case "QUERY":
		fallthrough
	case "STREAM":
		*e = PermissionAccessModeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for PermissionAccessModeEnum: %s", s)
	}
}

type PermissionDateRange struct {
	From time.Time `json:"from"`
	To   time.Time `json:"to"`
}

type PermissionFrequencyUnitEnum string

const (
	PermissionFrequencyUnitEnumHour  PermissionFrequencyUnitEnum = "HOUR"
	PermissionFrequencyUnitEnumWeek  PermissionFrequencyUnitEnum = "WEEK"
	PermissionFrequencyUnitEnumDay   PermissionFrequencyUnitEnum = "DAY"
	PermissionFrequencyUnitEnumMonth PermissionFrequencyUnitEnum = "MONTH"
	PermissionFrequencyUnitEnumYear  PermissionFrequencyUnitEnum = "YEAR"
)

func (e *PermissionFrequencyUnitEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "HOUR":
		fallthrough
	case "WEEK":
		fallthrough
	case "DAY":
		fallthrough
	case "MONTH":
		fallthrough
	case "YEAR":
		*e = PermissionFrequencyUnitEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for PermissionFrequencyUnitEnum: %s", s)
	}
}

type PermissionFrequency struct {
	Repeats int64                       `json:"repeats"`
	Unit    PermissionFrequencyUnitEnum `json:"unit"`
	Value   int64                       `json:"value"`
}

type Permission struct {
	AccessMode  PermissionAccessModeEnum `json:"accessMode"`
	DataEraseAt time.Time                `json:"dataEraseAt"`
	DateRange   PermissionDateRange      `json:"dateRange"`
	Frequency   PermissionFrequency      `json:"frequency"`
}
