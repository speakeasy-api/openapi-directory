/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { OptimisationActionNameEnum } from "./optimisationactionnameenum";
import { RuleExecutionReportingErrorTypeEnum } from "./ruleexecutionreportingerrortypeenum";
import { RuleExecutionReportingExecutionSourceEnum } from "./ruleexecutionreportingexecutionsourceenum";
import { RuleExecutionReportingLinks } from "./ruleexecutionreportinglinks";
import { RuleExecutionReportingStatusEnum } from "./ruleexecutionreportingstatusenum";
import { Expose, Transform, Type } from "class-transformer";

export class RuleExecutionReporting extends SpeakeasyBase {
  /**
   * The count of affected active products
   */
  @SpeakeasyMetadata()
  @Expose({ name: "activeAffectedProductCount" })
  activeAffectedProductCount?: number;

  /**
   * The count of affected Channels across all products
   */
  @SpeakeasyMetadata()
  @Expose({ name: "affectedChannelCount" })
  affectedChannelCount?: number;

  /**
   * The count of affected products, active or not
   */
  @SpeakeasyMetadata()
  @Expose({ name: "affectedProductCount" })
  affectedProductCount?: number;

  /**
   * The completed utc date of the execution of the rule
   */
  @SpeakeasyMetadata()
  @Expose({ name: "completedUtcDate" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  completedUtcDate?: Date;

  /**
   * The error type for this execution if any
   */
  @SpeakeasyMetadata()
  @Expose({ name: "errorType" })
  errorType?: RuleExecutionReportingErrorTypeEnum;

  /**
   * The requestor type for the execution of the rule
   */
  @SpeakeasyMetadata()
  @Expose({ name: "executionSource" })
  executionSource: RuleExecutionReportingExecutionSourceEnum;

  /**
   * Links to retrieve/action on this rule execution
   */
  @SpeakeasyMetadata()
  @Expose({ name: "links" })
  @Type(() => RuleExecutionReportingLinks)
  links?: RuleExecutionReportingLinks;

  /**
   * The optimisation action
   */
  @SpeakeasyMetadata()
  @Expose({ name: "optimisationActionName" })
  optimisationActionName?: OptimisationActionNameEnum;

  /**
   * The url for the excel report for this execution
   */
  @SpeakeasyMetadata()
  @Expose({ name: "reportUrl" })
  reportUrl?: string;

  /**
   * The rule identifier
   */
  @SpeakeasyMetadata()
  @Expose({ name: "ruleId" })
  ruleId: string;

  /**
   * The name of the rule
   */
  @SpeakeasyMetadata()
  @Expose({ name: "ruleName" })
  ruleName: string;

  /**
   * The start utc date of the execution of the rule
   */
  @SpeakeasyMetadata()
  @Expose({ name: "startedUtcDate" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  startedUtcDate?: Date;

  /**
   * The status of the execution of the rule
   */
  @SpeakeasyMetadata()
  @Expose({ name: "status" })
  status: RuleExecutionReportingStatusEnum;

  /**
   * The userId that executed the rule if any
   */
  @SpeakeasyMetadata()
  @Expose({ name: "userId" })
  userId?: string;
}
