/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { EnterpriseCrmEventbusProtoEventExecutionDetailsEventAttemptStats } from "./enterprisecrmeventbusprotoeventexecutiondetailseventattemptstats";
import { EnterpriseCrmEventbusProtoEventExecutionSnapshot } from "./enterprisecrmeventbusprotoeventexecutionsnapshot";
import { Expose, Type } from "class-transformer";

export enum EnterpriseCrmEventbusProtoEventExecutionDetailsEventExecutionStateEnum {
  Unspecified = "UNSPECIFIED",
  OnHold = "ON_HOLD",
  InProcess = "IN_PROCESS",
  Succeeded = "SUCCEEDED",
  Failed = "FAILED",
  Canceled = "CANCELED",
  RetryOnHold = "RETRY_ON_HOLD",
  Suspended = "SUSPENDED",
}

/**
 * Contains the details of the execution info of this event: this includes the tasks execution details plus the event execution statistics. Next available id: 10
 */
export class EnterpriseCrmEventbusProtoEventExecutionDetails extends SpeakeasyBase {
  @SpeakeasyMetadata({
    elemType: EnterpriseCrmEventbusProtoEventExecutionDetailsEventAttemptStats,
  })
  @Expose({ name: "eventAttemptStats" })
  @Type(() => EnterpriseCrmEventbusProtoEventExecutionDetailsEventAttemptStats)
  eventAttemptStats?: EnterpriseCrmEventbusProtoEventExecutionDetailsEventAttemptStats[];

  @SpeakeasyMetadata({
    elemType: EnterpriseCrmEventbusProtoEventExecutionSnapshot,
  })
  @Expose({ name: "eventExecutionSnapshot" })
  @Type(() => EnterpriseCrmEventbusProtoEventExecutionSnapshot)
  eventExecutionSnapshot?: EnterpriseCrmEventbusProtoEventExecutionSnapshot[];

  @SpeakeasyMetadata()
  @Expose({ name: "eventExecutionState" })
  eventExecutionState?: EnterpriseCrmEventbusProtoEventExecutionDetailsEventExecutionStateEnum;

  /**
   * Indicates the number of times the execution has restarted from the beginning.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "eventRetriesFromBeginningCount" })
  eventRetriesFromBeginningCount?: number;

  /**
   * The log file path (aka. cns address) for this event.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "logFilePath" })
  logFilePath?: string;

  /**
   * The network address (aka. bns address) that indicates where the event executor is running.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "networkAddress" })
  networkAddress?: string;

  /**
   * Next scheduled execution time in case the execution status was RETRY_ON_HOLD.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "nextExecutionTime" })
  nextExecutionTime?: string;

  /**
   * Used internally and shouldn't be exposed to users. A counter for the cron job to record how many times this event is in in_process state but don't have a lock consecutively/
   */
  @SpeakeasyMetadata()
  @Expose({ name: "ryeLockUnheldCount" })
  ryeLockUnheldCount?: number;
}
