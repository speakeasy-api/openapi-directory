/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { GoogleCloudDialogflowCxV3beta1RolloutConfigRolloutStep } from "./googleclouddialogflowcxv3beta1rolloutconfigrolloutstep";
import { Expose, Type } from "class-transformer";

/**
 * The configuration for auto rollout.
 */
export class GoogleCloudDialogflowCxV3beta1RolloutConfig extends SpeakeasyBase {
  /**
   * The conditions that are used to evaluate the failure of a rollout step. If not specified, no rollout steps will fail. E.g. "containment_rate < 10% OR average_turn_count < 3". See the [conditions reference](https://cloud.google.com/dialogflow/cx/docs/reference/condition).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "failureCondition" })
  failureCondition?: string;

  /**
   * The conditions that are used to evaluate the success of a rollout step. If not specified, all rollout steps will proceed to the next one unless failure conditions are met. E.g. "containment_rate > 60% AND callback_rate < 20%". See the [conditions reference](https://cloud.google.com/dialogflow/cx/docs/reference/condition).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "rolloutCondition" })
  rolloutCondition?: string;

  /**
   * Steps to roll out a flow version. Steps should be sorted by percentage in ascending order.
   */
  @SpeakeasyMetadata({
    elemType: GoogleCloudDialogflowCxV3beta1RolloutConfigRolloutStep,
  })
  @Expose({ name: "rolloutSteps" })
  @Type(() => GoogleCloudDialogflowCxV3beta1RolloutConfigRolloutStep)
  rolloutSteps?: GoogleCloudDialogflowCxV3beta1RolloutConfigRolloutStep[];
}
