// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// FrequencyCapTimeUnitEnum - The time unit in which the frequency cap will be applied. Required when unlimited is `false`.
type FrequencyCapTimeUnitEnum string

const (
	FrequencyCapTimeUnitEnumTimeUnitUnspecified FrequencyCapTimeUnitEnum = "TIME_UNIT_UNSPECIFIED"
	FrequencyCapTimeUnitEnumTimeUnitLifetime    FrequencyCapTimeUnitEnum = "TIME_UNIT_LIFETIME"
	FrequencyCapTimeUnitEnumTimeUnitMonths      FrequencyCapTimeUnitEnum = "TIME_UNIT_MONTHS"
	FrequencyCapTimeUnitEnumTimeUnitWeeks       FrequencyCapTimeUnitEnum = "TIME_UNIT_WEEKS"
	FrequencyCapTimeUnitEnumTimeUnitDays        FrequencyCapTimeUnitEnum = "TIME_UNIT_DAYS"
	FrequencyCapTimeUnitEnumTimeUnitHours       FrequencyCapTimeUnitEnum = "TIME_UNIT_HOURS"
	FrequencyCapTimeUnitEnumTimeUnitMinutes     FrequencyCapTimeUnitEnum = "TIME_UNIT_MINUTES"
)

func (e *FrequencyCapTimeUnitEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "TIME_UNIT_UNSPECIFIED":
		fallthrough
	case "TIME_UNIT_LIFETIME":
		fallthrough
	case "TIME_UNIT_MONTHS":
		fallthrough
	case "TIME_UNIT_WEEKS":
		fallthrough
	case "TIME_UNIT_DAYS":
		fallthrough
	case "TIME_UNIT_HOURS":
		fallthrough
	case "TIME_UNIT_MINUTES":
		*e = FrequencyCapTimeUnitEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for FrequencyCapTimeUnitEnum: %s", s)
	}
}

// FrequencyCap - Settings that control the number of times a user may be shown with the same ad during a given time period.
type FrequencyCap struct {
	// The maximum number of times a user may be shown the same ad during this period. Must be greater than 0. Required when unlimited is `false` and max_views is not set.
	MaxImpressions *int `json:"maxImpressions,omitempty"`
	// The time unit in which the frequency cap will be applied. Required when unlimited is `false`.
	TimeUnit *FrequencyCapTimeUnitEnum `json:"timeUnit,omitempty"`
	// The number of time_unit the frequency cap will last. Required when unlimited is `false`. The following restrictions apply based on the value of time_unit: * `TIME_UNIT_LIFETIME` - this field is output only and will default to 1 * `TIME_UNIT_MONTHS` - must be between 1 and 2 * `TIME_UNIT_WEEKS` - must be between 1 and 4 * `TIME_UNIT_DAYS` - must be between 1 and 6 * `TIME_UNIT_HOURS` - must be between 1 and 23 * `TIME_UNIT_MINUTES` - must be between 1 and 59
	TimeUnitCount *int `json:"timeUnitCount,omitempty"`
	// Whether unlimited frequency capping is applied. When this field is set to `true`, the remaining frequency cap fields are not applicable.
	Unlimited *bool `json:"unlimited,omitempty"`
}
