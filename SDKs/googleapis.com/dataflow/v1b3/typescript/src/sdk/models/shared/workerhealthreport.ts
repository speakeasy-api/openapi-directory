/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { Expose } from "class-transformer";

/**
 * WorkerHealthReport contains information about the health of a worker. The VM should be identified by the labels attached to the WorkerMessage that this health ping belongs to.
 */
export class WorkerHealthReport extends SpeakeasyBase {
  /**
   * Message describing any unusual health reports.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "msg" })
  msg?: string;

  /**
   * The pods running on the worker. See: http://kubernetes.io/v1.1/docs/api-reference/v1/definitions.html#_v1_pod This field is used by the worker to send the status of the indvidual containers running on each worker.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "pods" })
  pods?: Record<string, any>[];

  /**
   * The interval at which the worker is sending health reports. The default value of 0 should be interpreted as the field is not being explicitly set by the worker.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "reportInterval" })
  reportInterval?: string;

  /**
   * Code to describe a specific reason, if known, that a VM has reported broken state.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "vmBrokenCode" })
  vmBrokenCode?: string;

  /**
   * Whether the VM is in a permanently broken state. Broken VMs should be abandoned or deleted ASAP to avoid assigning or completing any work.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "vmIsBroken" })
  vmIsBroken?: boolean;

  /**
   * Whether the VM is currently healthy.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "vmIsHealthy" })
  vmIsHealthy?: boolean;

  /**
   * The time the VM was booted.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "vmStartupTime" })
  vmStartupTime?: string;
}
