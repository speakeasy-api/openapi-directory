// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"net/http"
	"openapi/pkg/models/shared"
)

// CreateDeploymentRequestBodyDeploymentPolicies - Contains information about policies that define how a deployment updates components and handles failure.
type CreateDeploymentRequestBodyDeploymentPolicies struct {
	ComponentUpdatePolicy         *shared.DeploymentComponentUpdatePolicy         `json:"componentUpdatePolicy,omitempty"`
	ConfigurationValidationPolicy *shared.DeploymentConfigurationValidationPolicy `json:"configurationValidationPolicy,omitempty"`
	FailureHandlingPolicy         *shared.DeploymentFailureHandlingPolicyEnum     `json:"failureHandlingPolicy,omitempty"`
}

// CreateDeploymentRequestBodyIotJobConfiguration - Contains information about an IoT job configuration.
type CreateDeploymentRequestBodyIotJobConfiguration struct {
	AbortConfig                *shared.IoTJobAbortConfig             `json:"abortConfig,omitempty"`
	JobExecutionsRolloutConfig *shared.IoTJobExecutionsRolloutConfig `json:"jobExecutionsRolloutConfig,omitempty"`
	TimeoutConfig              *shared.IoTJobTimeoutConfig           `json:"timeoutConfig,omitempty"`
}

type CreateDeploymentRequestBody struct {
	// A unique, case-sensitive identifier that you can provide to ensure that the request is idempotent. Idempotency means that the request is successfully processed only once, even if you send the request multiple times. When a request succeeds, and you specify the same client token for subsequent successful requests, the IoT Greengrass V2 service returns the successful response that it caches from the previous request. IoT Greengrass V2 caches successful responses for idempotent requests for up to 8 hours.
	ClientToken *string `json:"clientToken,omitempty"`
	// The components to deploy. This is a dictionary, where each key is the name of a component, and each key's value is the version and configuration to deploy for that component.
	Components map[string]shared.ComponentDeploymentSpecification `json:"components,omitempty"`
	// The name of the deployment.
	DeploymentName *string `json:"deploymentName,omitempty"`
	// Contains information about policies that define how a deployment updates components and handles failure.
	DeploymentPolicies *CreateDeploymentRequestBodyDeploymentPolicies `json:"deploymentPolicies,omitempty"`
	// Contains information about an IoT job configuration.
	IotJobConfiguration *CreateDeploymentRequestBodyIotJobConfiguration `json:"iotJobConfiguration,omitempty"`
	// The parent deployment's target <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">ARN</a> within a subdeployment.
	ParentTargetArn *string `json:"parentTargetArn,omitempty"`
	// A list of key-value pairs that contain metadata for the resource. For more information, see <a href="https://docs.aws.amazon.com/greengrass/v2/developerguide/tag-resources.html">Tag your resources</a> in the <i>IoT Greengrass V2 Developer Guide</i>.
	Tags map[string]string `json:"tags,omitempty"`
	// The <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">ARN</a> of the target IoT thing or thing group. When creating a subdeployment, the targetARN can only be a thing group.
	TargetArn string `json:"targetArn"`
}

type CreateDeploymentRequest struct {
	RequestBody       CreateDeploymentRequestBody `request:"mediaType=application/json"`
	XAmzAlgorithm     *string                     `header:"style=simple,explode=false,name=X-Amz-Algorithm"`
	XAmzContentSha256 *string                     `header:"style=simple,explode=false,name=X-Amz-Content-Sha256"`
	XAmzCredential    *string                     `header:"style=simple,explode=false,name=X-Amz-Credential"`
	XAmzDate          *string                     `header:"style=simple,explode=false,name=X-Amz-Date"`
	XAmzSecurityToken *string                     `header:"style=simple,explode=false,name=X-Amz-Security-Token"`
	XAmzSignature     *string                     `header:"style=simple,explode=false,name=X-Amz-Signature"`
	XAmzSignedHeaders *string                     `header:"style=simple,explode=false,name=X-Amz-SignedHeaders"`
}

type CreateDeploymentResponse struct {
	// AccessDeniedException
	AccessDeniedException interface{}
	// ConflictException
	ConflictException interface{}
	ContentType       string
	// Success
	CreateDeploymentResponse *shared.CreateDeploymentResponse
	// InternalServerException
	InternalServerException interface{}
	// RequestAlreadyInProgressException
	RequestAlreadyInProgressException interface{}
	// ResourceNotFoundException
	ResourceNotFoundException interface{}
	StatusCode                int
	RawResponse               *http.Response
	// ThrottlingException
	ThrottlingException interface{}
	// ValidationException
	ValidationException interface{}
}
