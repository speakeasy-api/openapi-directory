"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
from ..shared import resourceutilizationreport as shared_resourceutilizationreport
from ..shared import workerhealthreport as shared_workerhealthreport
from ..shared import workerlifecycleevent as shared_workerlifecycleevent
from ..shared import workermessagecode as shared_workermessagecode
from ..shared import workershutdownnotice as shared_workershutdownnotice
from ..shared import workerthreadscalingreport as shared_workerthreadscalingreport
from dataclasses_json import Undefined, dataclass_json
from sdk import utils
from typing import Optional


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class WorkerMessage:
    r"""WorkerMessage provides information to the backend about a worker."""
    
    labels: Optional[dict[str, str]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('labels'), 'exclude': lambda f: f is None }})
    r"""Labels are used to group WorkerMessages. For example, a worker_message about a particular container might have the labels: { \\"JOB_ID\\": \\"2015-04-22\\", \\"WORKER_ID\\": \\"wordcount-vm-2015â€¦\\" \\"CONTAINER_TYPE\\": \\"worker\\", \\"CONTAINER_ID\\": \\"ac1234def\\"} Label tags typically correspond to Label enum values. However, for ease of development other strings can be used as tags. LABEL_UNSPECIFIED should not be used here."""  
    time: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('time'), 'exclude': lambda f: f is None }})
    r"""The timestamp of the worker_message."""  
    worker_health_report: Optional[shared_workerhealthreport.WorkerHealthReport] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('workerHealthReport'), 'exclude': lambda f: f is None }})
    r"""WorkerHealthReport contains information about the health of a worker. The VM should be identified by the labels attached to the WorkerMessage that this health ping belongs to."""  
    worker_lifecycle_event: Optional[shared_workerlifecycleevent.WorkerLifecycleEvent] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('workerLifecycleEvent'), 'exclude': lambda f: f is None }})
    r"""A report of an event in a worker's lifecycle. The proto contains one event, because the worker is expected to asynchronously send each message immediately after the event. Due to this asynchrony, messages may arrive out of order (or missing), and it is up to the consumer to interpret. The timestamp of the event is in the enclosing WorkerMessage proto."""  
    worker_message_code: Optional[shared_workermessagecode.WorkerMessageCode] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('workerMessageCode'), 'exclude': lambda f: f is None }})
    r"""A message code is used to report status and error messages to the service. The message codes are intended to be machine readable. The service will take care of translating these into user understandable messages if necessary. Example use cases: 1. Worker processes reporting successful startup. 2. Worker processes reporting specific errors (e.g. package staging failure)."""  
    worker_metrics: Optional[shared_resourceutilizationreport.ResourceUtilizationReport] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('workerMetrics'), 'exclude': lambda f: f is None }})
    r"""Worker metrics exported from workers. This contains resource utilization metrics accumulated from a variety of sources. For more information, see go/df-resource-signals."""  
    worker_shutdown_notice: Optional[shared_workershutdownnotice.WorkerShutdownNotice] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('workerShutdownNotice'), 'exclude': lambda f: f is None }})
    r"""Shutdown notification from workers. This is to be sent by the shutdown script of the worker VM so that the backend knows that the VM is being shut down."""  
    worker_thread_scaling_report: Optional[shared_workerthreadscalingreport.WorkerThreadScalingReport] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('workerThreadScalingReport'), 'exclude': lambda f: f is None }})
    r"""Contains information about the thread scaling information of a worker."""  
    