/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { CancellationPolicy } from "./cancellationpolicy";
import { HotelAgreementStub } from "./hotelagreementstub";
import { Money } from "./money";
import { RateComponent } from "./ratecomponent";
import { TaxOrFee } from "./taxorfee";
import { Expose, Transform, Type } from "class-transformer";

/**
 * Breakdown of taxes (e.g. VAT, city tax) and fees (e.g. cleaning or resort fees).
 */
export class BookedRateRetailRateTaxesAndFees extends SpeakeasyBase {
  /**
   * Taxes and fees that are included in the `retailRate.total` price paid at the time of booking.
   */
  @SpeakeasyMetadata({ elemType: TaxOrFee })
  @Expose({ name: "includedInRate" })
  @Type(() => TaxOrFee)
  includedInRate?: TaxOrFee[];

  /**
   * Taxes and fees that need to be payed at the hotel (often upon arrival or departure). This frequently happens for fees that only need to be collected based on certain conditions (e.g. a guest coming from abroad or being older than a certain age).
   */
  @SpeakeasyMetadata({ elemType: TaxOrFee })
  @Expose({ name: "payAtHotel" })
  @Type(() => TaxOrFee)
  payAtHotel?: TaxOrFee[];
}

/**
 * The public retail rate you should quote and charge your guest. You're not allowed to quote or charge an amount lower than this if your website or app is publicly accessible.
 */
export class BookedRateRetailRate extends SpeakeasyBase {
  /**
   * Breakdown of taxes (e.g. VAT, city tax) and fees (e.g. cleaning or resort fees).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "taxesAndFees" })
  @Type(() => BookedRateRetailRateTaxesAndFees)
  taxesAndFees: BookedRateRetailRateTaxesAndFees;

  /**
   * An amount of money in the specified currency (used in the context of prices, fees, refunds etc.)
   */
  @SpeakeasyMetadata()
  @Expose({ name: "total" })
  @Type(() => Money)
  total: Money;
}

/**
 * Information on the price of the booked room, other components of the room (such as breakfast, lunch or a welcome drink) and the cancellation policies that apply.
 */
export class BookedRate extends SpeakeasyBase {
  @SpeakeasyMetadata({ elemType: CancellationPolicy })
  @Expose({ name: "cancellationPolicies" })
  @Type(() => CancellationPolicy)
  cancellationPolicies: CancellationPolicy[];

  @SpeakeasyMetadata({ elemType: RateComponent })
  @Expose({ name: "components" })
  @Type(() => RateComponent)
  components: RateComponent[];

  @SpeakeasyMetadata()
  @Expose({ name: "end" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  end: Date;

  /**
   * Essential information on an agreement with a hotel.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "hotelAgreement" })
  @Type(() => HotelAgreementStub)
  hotelAgreement: HotelAgreementStub;

  @SpeakeasyMetadata()
  @Expose({ name: "maxOccupancy" })
  maxOccupancy?: number;

  /**
   * The public retail rate you should quote and charge your guest. You're not allowed to quote or charge an amount lower than this if your website or app is publicly accessible.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "retailRate" })
  @Type(() => BookedRateRetailRate)
  retailRate: BookedRateRetailRate;

  /**
   * The commission percentage you as a seller will earn from this booking, based on `retailRate.total`.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "sellerCommissionPercentage" })
  sellerCommissionPercentage: number;

  @SpeakeasyMetadata()
  @Expose({ name: "start" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  start: Date;
}
