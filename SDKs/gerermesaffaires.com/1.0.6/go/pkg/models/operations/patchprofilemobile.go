// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"bytes"
	"encoding/json"
	"errors"
	"net/http"
	"openapi/pkg/models/shared"
)

type PatchProfileMobileSecurity struct {
	GmaAuth shared.SchemeGmaAuth `security:"scheme,type=oauth2"`
}

type PatchProfileMobileRequestBody2 struct {
	Mobile   *string `json:"Mobile,omitempty"`
	Password *string `json:"Password,omitempty"`
	SMSCode  *string `json:"SMSCode,omitempty"`
}

type PatchProfileMobileRequestBody1 struct {
	Mobile *string `json:"Mobile,omitempty"`
}

type PatchProfileMobileRequestBodyType string

const (
	PatchProfileMobileRequestBodyTypePatchProfileMobileRequestBody1 PatchProfileMobileRequestBodyType = "patch_/profile/mobile_requestBody_1"
	PatchProfileMobileRequestBodyTypePatchProfileMobileRequestBody2 PatchProfileMobileRequestBodyType = "patch_/profile/mobile_requestBody_2"
)

type PatchProfileMobileRequestBody struct {
	PatchProfileMobileRequestBody1 *PatchProfileMobileRequestBody1
	PatchProfileMobileRequestBody2 *PatchProfileMobileRequestBody2

	Type PatchProfileMobileRequestBodyType
}

func CreatePatchProfileMobileRequestBodyPatchProfileMobileRequestBody1(patchProfileMobileRequestBody1 PatchProfileMobileRequestBody1) PatchProfileMobileRequestBody {
	typ := PatchProfileMobileRequestBodyTypePatchProfileMobileRequestBody1

	return PatchProfileMobileRequestBody{
		PatchProfileMobileRequestBody1: &patchProfileMobileRequestBody1,
		Type:                           typ,
	}
}

func CreatePatchProfileMobileRequestBodyPatchProfileMobileRequestBody2(patchProfileMobileRequestBody2 PatchProfileMobileRequestBody2) PatchProfileMobileRequestBody {
	typ := PatchProfileMobileRequestBodyTypePatchProfileMobileRequestBody2

	return PatchProfileMobileRequestBody{
		PatchProfileMobileRequestBody2: &patchProfileMobileRequestBody2,
		Type:                           typ,
	}
}

func (u *PatchProfileMobileRequestBody) UnmarshalJSON(data []byte) error {
	var d *json.Decoder

	patchProfileMobileRequestBody1 := new(PatchProfileMobileRequestBody1)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&patchProfileMobileRequestBody1); err == nil {
		u.PatchProfileMobileRequestBody1 = patchProfileMobileRequestBody1
		u.Type = PatchProfileMobileRequestBodyTypePatchProfileMobileRequestBody1
		return nil
	}

	patchProfileMobileRequestBody2 := new(PatchProfileMobileRequestBody2)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&patchProfileMobileRequestBody2); err == nil {
		u.PatchProfileMobileRequestBody2 = patchProfileMobileRequestBody2
		u.Type = PatchProfileMobileRequestBodyTypePatchProfileMobileRequestBody2
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u PatchProfileMobileRequestBody) MarshalJSON() ([]byte, error) {
	if u.PatchProfileMobileRequestBody1 != nil {
		return json.Marshal(u.PatchProfileMobileRequestBody1)
	}

	if u.PatchProfileMobileRequestBody2 != nil {
		return json.Marshal(u.PatchProfileMobileRequestBody2)
	}

	return nil, nil
}

type PatchProfileMobileRequest struct {
	// Mobile to modify
	Request  PatchProfileMobileRequestBody `request:"mediaType=application/json"`
	Security PatchProfileMobileSecurity
}

type PatchProfileMobileResponse struct {
	ContentType string
	StatusCode  int
	RawResponse *http.Response
}
