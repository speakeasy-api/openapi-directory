/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { DeviceInfo } from "./deviceinfo";
import { Expose, Type } from "class-transformer";

/**
 * App post install attribution retrieval information. Disambiguates mechanism (iSDK or developer invoked) to retrieve payload from clicked link.
 */
export enum GetIosPostInstallAttributionRequestRetrievalMethodEnum {
  UnknownPayloadRetrievalMethod = "UNKNOWN_PAYLOAD_RETRIEVAL_METHOD",
  ImplicitWeakMatch = "IMPLICIT_WEAK_MATCH",
  ExplicitWeakMatch = "EXPLICIT_WEAK_MATCH",
  ExplicitStrongAfterWeakMatch = "EXPLICIT_STRONG_AFTER_WEAK_MATCH",
}

/**
 * Strong match page information. Disambiguates between default UI and custom page to present when strong match succeeds/fails to find cookie.
 */
export enum GetIosPostInstallAttributionRequestVisualStyleEnum {
  UnknownVisualStyle = "UNKNOWN_VISUAL_STYLE",
  DefaultStyle = "DEFAULT_STYLE",
  CustomStyle = "CUSTOM_STYLE",
}

/**
 * Request for iSDK to execute strong match flow for post-install attribution. This is meant for iOS requests only. Requests from other platforms will not be honored.
 */
export class GetIosPostInstallAttributionRequest extends SpeakeasyBase {
  /**
   * App installation epoch time (https://en.wikipedia.org/wiki/Unix_time). This is a client signal for a more accurate weak match.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "appInstallationTime" })
  appInstallationTime?: string;

  /**
   * APP bundle ID.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "bundleId" })
  bundleId?: string;

  /**
   * Signals associated with the device making the request.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "device" })
  @Type(() => DeviceInfo)
  device?: DeviceInfo;

  /**
   * iOS version, ie: 9.3.5. Consider adding "build".
   */
  @SpeakeasyMetadata()
  @Expose({ name: "iosVersion" })
  iosVersion?: string;

  /**
   * App post install attribution retrieval information. Disambiguates mechanism (iSDK or developer invoked) to retrieve payload from clicked link.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "retrievalMethod" })
  retrievalMethod?: GetIosPostInstallAttributionRequestRetrievalMethodEnum;

  /**
   * Google SDK version. Version takes the form "$major.$minor.$patch"
   */
  @SpeakeasyMetadata()
  @Expose({ name: "sdkVersion" })
  sdkVersion?: string;

  /**
   * Possible unique matched link that server need to check before performing fingerprint match. If passed link is short server need to expand the link. If link is long server need to vslidate the link.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "uniqueMatchLinkToCheck" })
  uniqueMatchLinkToCheck?: string;

  /**
   * Strong match page information. Disambiguates between default UI and custom page to present when strong match succeeds/fails to find cookie.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "visualStyle" })
  visualStyle?: GetIosPostInstallAttributionRequestVisualStyleEnum;
}
