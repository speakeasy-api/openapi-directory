// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package sdk

import (
	"net/http"
	"openapi/pkg/utils"
	"time"
)

// ServerList contains the list of servers available to the SDK
var ServerList = []string{
	// DFlight API
	"https://dflight-api.ljaero.com/",
}

// HTTPClient provides an interface for suplying the SDK with a custom HTTP client
type HTTPClient interface {
	Do(req *http.Request) (*http.Response, error)
}

// String provides a helper function to return a pointer to a string
func String(s string) *string { return &s }

// SDK - [DFlight API](https://ljaero.com/solutions/dflight/) supplies the up-to-date information needed for compliance with UAV preflight assessment requirements. Separate endpoints are available for each of the following information categories:
// - Airspace
// - Weather
// - Temporary Flight Restrictions
// - Special Security Areas
// - Restricted Public Venues
// - Surface Obstacles
// - Aerodromes
// - UAS Operating Areas
//
// You can define your geographic area of interest in one of three convenient ways:
// - Providing a latitude/longitude point and distance around that point
// - Providing a GeoJSON LineString defining your route
// - Providing an arbitrary GeoJSON Polygon defining your area of interest
type SDK struct {
	// Aerodromes - #### Center points and contact information for all US landing facilities, including those with no associated controlled airspace:
	// * Public and private airports
	// * Public and private balloonports
	// * Public and private gliderports
	// * Public and private heliports
	// * Public and private seaplane bases
	// * Public and private ultralight bases
	Aerodromes *aerodromes
	// Airspace - #### Information is available for the following types of airspace:
	// * **Controlled Airspace (CAS):** Class B, C, D, E2 airspace names, boundaries, altitude information, and LAANC availability
	// * **Special Use Airspace (SUA):** Names, boundaries, and altitude information for the following types of Special Use Airspace:
	//     - Alert Areas (AA)
	//     - Military Operations Areas (MOA)
	//     - National Security Areas (NSA)
	//     - Prohibited Areas (PA)
	//     - Restricted Areas (RA)
	//     - Warning Areas (WA)
	// * **Miscellaneous Activity Areas (MAA):** Names and boundary information for the following types of Miscellaneous Activity Areas:
	//     - Aerobatic Practice Areas (AEROBATIC PRACTICE)
	//     - Glider Operations Areas (GLIDER)
	//     - Hang Glider Operations Areas (HANG GLIDER)
	//     - Parachute Jump Areas (PARACHUTE JUMP AREA)
	//     - Space Launch Activity Areas (SPACE LAUNCH ACTIVITY)
	// * **Military Training Routes (MTR):** Names, route geometry, usage times, and corridor width information for both VFR and IFR Military Training Routes
	Airspace *airspace
	// FlightRestrictions - #### Temporary Flight Restrictions (TFRs) define areas restricting air operations (including drone operations) due to hazardous conditions, special events, or other safety/security reasons.
	// All published/active TFRs in specified area will be included in the response. Check the startDateTime and endDateTime properties to determine whether or not the restriction is applicable during your planned time of operation. In case of a TFR in your area of intended operation, you might still be able to fly by obtaining a via waiver through the [Special Governmental Interest (SGI) process](https://www.faa.gov/uas/advanced_operations/emergency_situations).
	FlightRestrictions *flightRestrictions
	// RestrictedPublicVenues - #### Areas where drone operations may be restricted or prohibited:
	// * Lands administered by the National Park Service (prohibited at all times)
	// * Major League Baseball Stadiums (prohibited within a 3 NM radius 1 hr before - 1 hr after game)
	// * National Football League Stadiums (prohibited within a 3 NM radius 1 hr before - 1 hr after game)
	// * NCAA Division One Football Stadiums (prohibited within a 3 NM radius 1 hr before - 1 hr after game)
	// * NASCAR Sprint Cup, Indy Car, and Champ Series races (prohibited within a 3 NM radius 1 hr before - 1 hr after race)
	RestrictedPublicVenues *restrictedPublicVenues
	// SpecialSecurityAreas - #### Locations where all UAS flight operations are prohibited unless prior FAA authorization has been obtained, and coordination with the controlling agency has taken place.
	// Through agreements with the Department of Defense and other U.S. security and intelligence agencies, the FAA published these restrictions as [FDC NOTAM 1/0488](https://tfr.faa.gov/save_pages/detail_1_0488.html) (and it's predecessors). Unlike other NOTAMs designated as [Temporary Flight Restrictions](https://dflight-api.ljaero.com/#/Flight%20Restrictions), these remain in effect 24 hours a day, 7 days a week, until further announcement.
	SpecialSecurityAreas *specialSecurityAreas
	// SurfaceObstacles - #### All known structures whose presence might interfere with airborne activity, as defined in [14 CFR Part 77.9](https://www.ecfr.gov/current/title-14/chapter-I/subchapter-E/part-77#77.9).
	// This information is updated daily and includes the following details:
	// * Location
	// * Type
	// * Number of separate structures in case of a group
	// * Height (in ft. AGL)
	// * Lighting and other markings
	SurfaceObstacles *surfaceObstacles
	// UASOperatingAreas - #### Areas where drone activity is scheduled to take place.
	// UAS Operating Areas (UOAs) are published via [NOTAM](https://www.faa.gov/regulations_policies/orders_notices/index.cfm/go/document.information/documentID/1035053) to alert airspace users of unmanned aircraft activity in a given area and at a given time (singular or recurring).
	UASOperatingAreas *uasOperatingAreas
	// Weather - #### Hourly forecast values for the following flight-impacting weather elements:
	// * Cloud Ceiling (CIG)
	// * Dewpoint Temperature (DEWPT)
	// * Cloud Cover (SKY)
	// * Air Temperature (TEMP)
	// * Visibility (VIS)
	// * Wind Direction (WINDDIR)
	// * Wind Speed (WINDSPEED)
	// * Wind Gust Speed (WINDGUST)
	Weather *weather

	// Non-idiomatic field names below are to namespace fields from the fields names above to avoid name conflicts
	_defaultClient  HTTPClient
	_securityClient HTTPClient

	_serverURL  string
	_language   string
	_sdkVersion string
	_genVersion string
}

type SDKOption func(*SDK)

// WithServerURL allows the overriding of the default server URL
func WithServerURL(serverURL string) SDKOption {
	return func(sdk *SDK) {
		sdk._serverURL = serverURL
	}
}

// WithTemplatedServerURL allows the overriding of the default server URL with a templated URL populated with the provided parameters
func WithTemplatedServerURL(serverURL string, params map[string]string) SDKOption {
	return func(sdk *SDK) {
		if params != nil {
			serverURL = utils.ReplaceParameters(serverURL, params)
		}

		sdk._serverURL = serverURL
	}
}

// WithClient allows the overriding of the default HTTP client used by the SDK
func WithClient(client HTTPClient) SDKOption {
	return func(sdk *SDK) {
		sdk._defaultClient = client
	}
}

// New creates a new instance of the SDK with the provided options
func New(opts ...SDKOption) *SDK {
	sdk := &SDK{
		_language:   "go",
		_sdkVersion: "0.0.1",
		_genVersion: "internal",
	}
	for _, opt := range opts {
		opt(sdk)
	}

	// Use WithClient to override the default client if you would like to customize the timeout
	if sdk._defaultClient == nil {
		sdk._defaultClient = &http.Client{Timeout: 60 * time.Second}
	}
	if sdk._securityClient == nil {
		sdk._securityClient = sdk._defaultClient
	}

	if sdk._serverURL == "" {
		sdk._serverURL = ServerList[0]
	}

	sdk.Aerodromes = newAerodromes(
		sdk._defaultClient,
		sdk._securityClient,
		sdk._serverURL,
		sdk._language,
		sdk._sdkVersion,
		sdk._genVersion,
	)

	sdk.Airspace = newAirspace(
		sdk._defaultClient,
		sdk._securityClient,
		sdk._serverURL,
		sdk._language,
		sdk._sdkVersion,
		sdk._genVersion,
	)

	sdk.FlightRestrictions = newFlightRestrictions(
		sdk._defaultClient,
		sdk._securityClient,
		sdk._serverURL,
		sdk._language,
		sdk._sdkVersion,
		sdk._genVersion,
	)

	sdk.RestrictedPublicVenues = newRestrictedPublicVenues(
		sdk._defaultClient,
		sdk._securityClient,
		sdk._serverURL,
		sdk._language,
		sdk._sdkVersion,
		sdk._genVersion,
	)

	sdk.SpecialSecurityAreas = newSpecialSecurityAreas(
		sdk._defaultClient,
		sdk._securityClient,
		sdk._serverURL,
		sdk._language,
		sdk._sdkVersion,
		sdk._genVersion,
	)

	sdk.SurfaceObstacles = newSurfaceObstacles(
		sdk._defaultClient,
		sdk._securityClient,
		sdk._serverURL,
		sdk._language,
		sdk._sdkVersion,
		sdk._genVersion,
	)

	sdk.UASOperatingAreas = newUASOperatingAreas(
		sdk._defaultClient,
		sdk._securityClient,
		sdk._serverURL,
		sdk._language,
		sdk._sdkVersion,
		sdk._genVersion,
	)

	sdk.Weather = newWeather(
		sdk._defaultClient,
		sdk._securityClient,
		sdk._serverURL,
		sdk._language,
		sdk._sdkVersion,
		sdk._genVersion,
	)

	return sdk
}
