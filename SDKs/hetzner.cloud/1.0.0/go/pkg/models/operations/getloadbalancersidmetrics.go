// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"bytes"
	"encoding/json"
	"errors"
	"fmt"
	"net/http"
)

// GetLoadBalancersIDMetricsTypeEnum - Type of metrics to get
type GetLoadBalancersIDMetricsTypeEnum string

const (
	GetLoadBalancersIDMetricsTypeEnumOpenConnections      GetLoadBalancersIDMetricsTypeEnum = "open_connections"
	GetLoadBalancersIDMetricsTypeEnumConnectionsPerSecond GetLoadBalancersIDMetricsTypeEnum = "connections_per_second"
	GetLoadBalancersIDMetricsTypeEnumRequestsPerSecond    GetLoadBalancersIDMetricsTypeEnum = "requests_per_second"
	GetLoadBalancersIDMetricsTypeEnumBandwidth            GetLoadBalancersIDMetricsTypeEnum = "bandwidth"
)

func (e *GetLoadBalancersIDMetricsTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "open_connections":
		fallthrough
	case "connections_per_second":
		fallthrough
	case "requests_per_second":
		fallthrough
	case "bandwidth":
		*e = GetLoadBalancersIDMetricsTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for GetLoadBalancersIDMetricsTypeEnum: %s", s)
	}
}

type GetLoadBalancersIDMetricsRequest struct {
	// End of period to get Metrics for (in ISO-8601 format)
	End string `queryParam:"style=form,explode=true,name=end"`
	// ID of the Load Balancer
	ID int64 `pathParam:"style=simple,explode=false,name=id"`
	// Start of period to get Metrics for (in ISO-8601 format)
	Start string `queryParam:"style=form,explode=true,name=start"`
	// Resolution of results in seconds
	Step *string `queryParam:"style=form,explode=true,name=step"`
	// Type of metrics to get
	Type GetLoadBalancersIDMetricsTypeEnum `queryParam:"style=form,explode=true,name=type"`
}

type GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesType string

const (
	GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesTypeNumber GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesType = "number"
	GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesTypeStr    GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesType = "str"
)

type GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValues struct {
	Number *float64
	Str    *string

	Type GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesType
}

func CreateGetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesNumber(number float64) GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValues {
	typ := GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesTypeNumber

	return GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValues{
		Number: &number,
		Type:   typ,
	}
}

func CreateGetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesStr(str string) GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValues {
	typ := GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesTypeStr

	return GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValues{
		Str:  &str,
		Type: typ,
	}
}

func (u *GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValues) UnmarshalJSON(data []byte) error {
	var d *json.Decoder

	number := new(float64)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&number); err == nil {
		u.Number = number
		u.Type = GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesTypeNumber
		return nil
	}

	str := new(string)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&str); err == nil {
		u.Str = str
		u.Type = GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValuesTypeStr
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValues) MarshalJSON() ([]byte, error) {
	if u.Number != nil {
		return json.Marshal(u.Number)
	}

	if u.Str != nil {
		return json.Marshal(u.Str)
	}

	return nil, nil
}

type GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeries struct {
	// Metrics Timestamps with values
	Values [][]GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeriesValues `json:"values"`
}

type GetLoadBalancersIDMetrics200ApplicationJSONMetrics struct {
	// End of period of metrics reported (in ISO-8601 format)
	End string `json:"end"`
	// Start of period of metrics reported (in ISO-8601 format)
	Start string `json:"start"`
	// Resolution of results in seconds.
	Step float64 `json:"step"`
	// Hash with timeseries information, containing the name of timeseries as key
	TimeSeries map[string]GetLoadBalancersIDMetrics200ApplicationJSONMetricsTimeSeries `json:"time_series"`
}

// GetLoadBalancersIDMetrics200ApplicationJSON - The `metrics` key in the reply contains a metrics object with this structure
type GetLoadBalancersIDMetrics200ApplicationJSON struct {
	Metrics GetLoadBalancersIDMetrics200ApplicationJSONMetrics `json:"metrics"`
}

type GetLoadBalancersIDMetricsResponse struct {
	ContentType string
	StatusCode  int
	RawResponse *http.Response
	// The `metrics` key in the reply contains a metrics object with this structure
	GetLoadBalancersIDMetrics200ApplicationJSONObject *GetLoadBalancersIDMetrics200ApplicationJSON
}
