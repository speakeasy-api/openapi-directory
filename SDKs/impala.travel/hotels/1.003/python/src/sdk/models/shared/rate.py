"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
from ..shared import cancellationpolicy as shared_cancellationpolicy
from ..shared import hotelagreementstub as shared_hotelagreementstub
from ..shared import money as shared_money
from ..shared import ratecomponent as shared_ratecomponent
from ..shared import taxorfee as shared_taxorfee
from dataclasses_json import Undefined, dataclass_json
from datetime import date
from marshmallow import fields
from sdk import utils
from typing import Optional


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class RateRetailRateTaxesAndFees:
    r"""Breakdown of taxes (e.g. VAT, city tax) and fees (e.g. cleaning or resort fees)."""
    
    included_in_rate: Optional[list[shared_taxorfee.TaxOrFee]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('includedInRate'), 'exclude': lambda f: f is None }})
    r"""Taxes and fees that are included in the `retailRate.total` price paid at the time of booking."""  
    pay_at_hotel: Optional[list[shared_taxorfee.TaxOrFee]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('payAtHotel'), 'exclude': lambda f: f is None }})
    r"""Taxes and fees that need to be payed at the hotel (often upon arrival or departure). This frequently happens for fees that only need to be collected based on certain conditions (e.g. a guest coming from abroad or being older than a certain age)."""  
    

@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class RateRetailRate:
    r"""The public retail rate you should quote and charge your guest. You're not allowed to quote or charge an amount lower than this if your website or app is publicly accessible."""
    
    taxes_and_fees: RateRetailRateTaxesAndFees = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('taxesAndFees') }})
    r"""Breakdown of taxes (e.g. VAT, city tax) and fees (e.g. cleaning or resort fees)."""  
    total: shared_money.Money = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('total') }})
    r"""An amount of money in the specified currency (used in the context of prices, fees, refunds etc.)"""  
    

@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class Rate:
    r"""Information on the price of the room, other components of the room (such as breakfast, lunch or a welcome drink) and the cancellation policies that apply."""
    
    cancellation_policies: list[shared_cancellationpolicy.CancellationPolicy] = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('cancellationPolicies') }})  
    components: list[shared_ratecomponent.RateComponent] = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('components') }})  
    end: date = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('end'), 'encoder': utils.dateisoformat(False), 'decoder': utils.datefromisoformat, 'mm_field': fields.DateTime(format='iso') }})  
    hotel_agreement: shared_hotelagreementstub.HotelAgreementStub = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('hotelAgreement') }})
    r"""Essential information on an agreement with a hotel."""  
    max_occupancy: int = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('maxOccupancy') }})
    r"""Maximum number of adults included in the rate."""  
    rate_id: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('rateId') }})  
    retail_rate: RateRetailRate = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('retailRate') }})
    r"""The public retail rate you should quote and charge your guest. You're not allowed to quote or charge an amount lower than this if your website or app is publicly accessible."""  
    seller_commission_percentage: float = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('sellerCommissionPercentage') }})
    r"""The commission percentage you as a seller will earn from this booking, based on `retailRate.total`."""  
    start: date = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('start'), 'encoder': utils.dateisoformat(False), 'decoder': utils.datefromisoformat, 'mm_field': fields.DateTime(format='iso') }})  
    rate_plan_id: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('ratePlanId'), 'exclude': lambda f: f is None }})
    r"""The rate plan ID that is attached to this rate. Each rate plan ID can specify a unique combination of a cancellation policy and a meal plan."""  
    rooms_sellable: Optional[float] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('roomsSellable'), 'exclude': lambda f: f is None }})
    r"""Amount of rooms which can be sold for this occupancy level and room type at this rate price."""  
    seller_to_impala_payment: Optional[shared_money.Money] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('sellerToImpalaPayment'), 'exclude': lambda f: f is None }})
    r"""This is the amount payable to the hotel, which Impala will collect from you on the hotel's behalf. The Impala fee will be requested in addition to this, and also documented in a VAT invoice."""  
    