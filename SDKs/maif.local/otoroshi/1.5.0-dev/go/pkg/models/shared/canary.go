// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

// Canary - The configuration of the canary mode for a service descriptor
type Canary struct {
	// Use canary mode for this service
	Enabled bool `json:"enabled"`
	// Otoroshi will append this root to any target choosen. If the specified root is '/api/foo', then a request to https://yyyyyyy/bar will actually hit https://xxxxxxxxx/api/foo/bar
	Root string `json:"root"`
	// The list of target that Otoroshi will proxy and expose through the subdomain defined before. Otoroshi will do round-robin load balancing between all those targets with circuit breaker mecanism to avoid cascading failures
	Targets []Target `json:"targets"`
	// Ratio of traffic that will be sent to canary targets.
	Traffic int `json:"traffic"`
}
