/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { CountryTargeting } from "./countrytargeting";
import { LocalizedText } from "./localizedtext";
import { Expose, Type } from "class-transformer";

/**
 * The status of the release.
 */
export enum TrackReleaseStatusEnum {
  StatusUnspecified = "statusUnspecified",
  Draft = "draft",
  InProgress = "inProgress",
  Halted = "halted",
  Completed = "completed",
}

/**
 * A release within a track.
 */
export class TrackRelease extends SpeakeasyBase {
  /**
   * Country targeting specification.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "countryTargeting" })
  @Type(() => CountryTargeting)
  countryTargeting?: CountryTargeting;

  /**
   * In-app update priority of the release. All newly added APKs in the release will be considered at this priority. Can take values in the range [0, 5], with 5 the highest priority. Defaults to 0. in_app_update_priority can not be updated once the release is rolled out. See https://developer.android.com/guide/playcore/in-app-updates.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "inAppUpdatePriority" })
  inAppUpdatePriority?: number;

  /**
   * The release name. Not required to be unique. If not set, the name is generated from the APK's version_name. If the release contains multiple APKs, the name is generated from the date.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "name" })
  name?: string;

  /**
   * A description of what is new in this release.
   */
  @SpeakeasyMetadata({ elemType: LocalizedText })
  @Expose({ name: "releaseNotes" })
  @Type(() => LocalizedText)
  releaseNotes?: LocalizedText[];

  /**
   * The status of the release.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "status" })
  status?: TrackReleaseStatusEnum;

  /**
   * Fraction of users who are eligible for a staged release. 0 < fraction < 1. Can only be set when status is "inProgress" or "halted".
   */
  @SpeakeasyMetadata()
  @Expose({ name: "userFraction" })
  userFraction?: number;

  /**
   * Version codes of all APKs in the release. Must include version codes to retain from previous releases.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "versionCodes" })
  versionCodes?: string[];
}
