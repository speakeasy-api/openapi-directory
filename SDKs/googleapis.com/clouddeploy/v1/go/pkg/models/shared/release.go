// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// ReleaseRenderStateEnum - Output only. Current state of the render operation.
type ReleaseRenderStateEnum string

const (
	ReleaseRenderStateEnumRenderStateUnspecified ReleaseRenderStateEnum = "RENDER_STATE_UNSPECIFIED"
	ReleaseRenderStateEnumSucceeded              ReleaseRenderStateEnum = "SUCCEEDED"
	ReleaseRenderStateEnumFailed                 ReleaseRenderStateEnum = "FAILED"
	ReleaseRenderStateEnumInProgress             ReleaseRenderStateEnum = "IN_PROGRESS"
)

func (e *ReleaseRenderStateEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "RENDER_STATE_UNSPECIFIED":
		fallthrough
	case "SUCCEEDED":
		fallthrough
	case "FAILED":
		fallthrough
	case "IN_PROGRESS":
		*e = ReleaseRenderStateEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for ReleaseRenderStateEnum: %s", s)
	}
}

// Release - A `Release` resource in the Google Cloud Deploy API. A `Release` defines a specific Skaffold configuration instance that can be deployed.
type Release struct {
	// Output only. Indicates whether this is an abandoned release.
	Abandoned *bool `json:"abandoned,omitempty"`
	// User annotations. These attributes can only be set and used by the user, and not by Google Cloud Deploy. See https://google.aip.dev/128#annotations for more details such as format and size limitations.
	Annotations map[string]string `json:"annotations,omitempty"`
	// List of artifacts to pass through to Skaffold command.
	BuildArtifacts []BuildArtifact `json:"buildArtifacts,omitempty"`
	// ReleaseCondition contains all conditions relevant to a Release.
	Condition *ReleaseCondition `json:"condition,omitempty"`
	// Output only. Time at which the `Release` was created.
	CreateTime *string `json:"createTime,omitempty"`
	// A `DeliveryPipeline` resource in the Google Cloud Deploy API. A `DeliveryPipeline` defines a pipeline through which a Skaffold configuration can progress.
	DeliveryPipelineSnapshot *DeliveryPipeline `json:"deliveryPipelineSnapshot,omitempty"`
	// Description of the `Release`. Max length is 255 characters.
	Description *string `json:"description,omitempty"`
	// This checksum is computed by the server based on the value of other fields, and may be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
	Etag *string `json:"etag,omitempty"`
	// Labels are attributes that can be set and used by both the user and by Google Cloud Deploy. Labels must meet the following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values are additionally constrained to be <= 128 bytes.
	Labels map[string]string `json:"labels,omitempty"`
	// Optional. Name of the `Release`. Format is projects/{project}/ locations/{location}/deliveryPipelines/{deliveryPipeline}/ releases/a-z{0,62}.
	Name *string `json:"name,omitempty"`
	// Output only. Time at which the render completed.
	RenderEndTime *string `json:"renderEndTime,omitempty"`
	// Output only. Time at which the render began.
	RenderStartTime *string `json:"renderStartTime,omitempty"`
	// Output only. Current state of the render operation.
	RenderState *ReleaseRenderStateEnum `json:"renderState,omitempty"`
	// Filepath of the Skaffold config inside of the config URI.
	SkaffoldConfigPath *string `json:"skaffoldConfigPath,omitempty"`
	// Cloud Storage URI of tar.gz archive containing Skaffold configuration.
	SkaffoldConfigURI *string `json:"skaffoldConfigUri,omitempty"`
	// The Skaffold version to use when operating on this release, such as "1.20.0". Not all versions are valid; Google Cloud Deploy supports a specific set of versions. If unset, the most recent supported Skaffold version will be used.
	SkaffoldVersion *string `json:"skaffoldVersion,omitempty"`
	// Output only. Map from target ID to the target artifacts created during the render operation.
	TargetArtifacts map[string]TargetArtifact `json:"targetArtifacts,omitempty"`
	// Output only. Map from target ID to details of the render operation for that target.
	TargetRenders map[string]TargetRender `json:"targetRenders,omitempty"`
	// Output only. Snapshot of the targets taken at release creation time.
	TargetSnapshots []Target `json:"targetSnapshots,omitempty"`
	// Output only. Unique identifier of the `Release`.
	UID *string `json:"uid,omitempty"`
}

// ReleaseInput - A `Release` resource in the Google Cloud Deploy API. A `Release` defines a specific Skaffold configuration instance that can be deployed.
type ReleaseInput struct {
	// User annotations. These attributes can only be set and used by the user, and not by Google Cloud Deploy. See https://google.aip.dev/128#annotations for more details such as format and size limitations.
	Annotations map[string]string `json:"annotations,omitempty"`
	// List of artifacts to pass through to Skaffold command.
	BuildArtifacts []BuildArtifact `json:"buildArtifacts,omitempty"`
	// ReleaseCondition contains all conditions relevant to a Release.
	Condition *ReleaseCondition `json:"condition,omitempty"`
	// A `DeliveryPipeline` resource in the Google Cloud Deploy API. A `DeliveryPipeline` defines a pipeline through which a Skaffold configuration can progress.
	DeliveryPipelineSnapshot *DeliveryPipelineInput `json:"deliveryPipelineSnapshot,omitempty"`
	// Description of the `Release`. Max length is 255 characters.
	Description *string `json:"description,omitempty"`
	// This checksum is computed by the server based on the value of other fields, and may be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
	Etag *string `json:"etag,omitempty"`
	// Labels are attributes that can be set and used by both the user and by Google Cloud Deploy. Labels must meet the following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values are additionally constrained to be <= 128 bytes.
	Labels map[string]string `json:"labels,omitempty"`
	// Optional. Name of the `Release`. Format is projects/{project}/ locations/{location}/deliveryPipelines/{deliveryPipeline}/ releases/a-z{0,62}.
	Name *string `json:"name,omitempty"`
	// Filepath of the Skaffold config inside of the config URI.
	SkaffoldConfigPath *string `json:"skaffoldConfigPath,omitempty"`
	// Cloud Storage URI of tar.gz archive containing Skaffold configuration.
	SkaffoldConfigURI *string `json:"skaffoldConfigUri,omitempty"`
	// The Skaffold version to use when operating on this release, such as "1.20.0". Not all versions are valid; Google Cloud Deploy supports a specific set of versions. If unset, the most recent supported Skaffold version will be used.
	SkaffoldVersion *string `json:"skaffoldVersion,omitempty"`
}
