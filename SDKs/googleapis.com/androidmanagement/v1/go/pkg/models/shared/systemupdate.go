// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// SystemUpdateTypeEnum - The type of system update to configure.
type SystemUpdateTypeEnum string

const (
	SystemUpdateTypeEnumSystemUpdateTypeUnspecified SystemUpdateTypeEnum = "SYSTEM_UPDATE_TYPE_UNSPECIFIED"
	SystemUpdateTypeEnumAutomatic                   SystemUpdateTypeEnum = "AUTOMATIC"
	SystemUpdateTypeEnumWindowed                    SystemUpdateTypeEnum = "WINDOWED"
	SystemUpdateTypeEnumPostpone                    SystemUpdateTypeEnum = "POSTPONE"
)

func (e *SystemUpdateTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "SYSTEM_UPDATE_TYPE_UNSPECIFIED":
		fallthrough
	case "AUTOMATIC":
		fallthrough
	case "WINDOWED":
		fallthrough
	case "POSTPONE":
		*e = SystemUpdateTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for SystemUpdateTypeEnum: %s", s)
	}
}

// SystemUpdate - Configuration for managing system updates
type SystemUpdate struct {
	// If the type is WINDOWED, the end of the maintenance window, measured as the number of minutes after midnight in device's local time. This value must be between 0 and 1439, inclusive. If this value is less than start_minutes, then the maintenance window spans midnight. If the maintenance window specified is smaller than 30 minutes, the actual window is extended to 30 minutes beyond the start time.
	EndMinutes *int `json:"endMinutes,omitempty"`
	// An annually repeating time period in which over-the-air (OTA) system updates are postponed to freeze the OS version running on a device. To prevent freezing the device indefinitely, each freeze period must be separated by at least 60 days.
	FreezePeriods []FreezePeriod `json:"freezePeriods,omitempty"`
	// If the type is WINDOWED, the start of the maintenance window, measured as the number of minutes after midnight in the device's local time. This value must be between 0 and 1439, inclusive.
	StartMinutes *int `json:"startMinutes,omitempty"`
	// The type of system update to configure.
	Type *SystemUpdateTypeEnum `json:"type,omitempty"`
}
