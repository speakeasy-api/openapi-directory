/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import * as shared from "../shared";
import { AxiosResponse } from "axios";
import { Expose, Type } from "class-transformer";

export class GetDocumentWithPathRequest extends SpeakeasyBase {
  /**
   * The input document (in JSON format)
   */
  @SpeakeasyMetadata({ data: "request, media_type=application/x-yaml" })
  requestBody: Uint8Array;

  /**
   * If set to *full*, response will include query explanations in addition to the result.
   */
  @SpeakeasyMetadata({
    data: "queryParam, style=form;explode=true;name=explain",
  })
  explain?: string;

  /**
   * If true, response will return additional performance metrics in addition to the result and the standard metrics.
   *
   * @remarks
   *
   * **Caution:** This can add significant overhead to query evaluation. The recommendation is to only use this parameter if you are debugging a performance problem.
   */
  @SpeakeasyMetadata({
    data: "queryParam, style=form;explode=true;name=instrument",
  })
  instrument?: boolean;

  /**
   * If true, compiler performance metrics will be returned in the response.
   */
  @SpeakeasyMetadata({
    data: "queryParam, style=form;explode=true;name=metrics",
  })
  metrics?: boolean;

  /**
   * A backslash (/) delimited path to access values inside object and array documents. If the path points to an array, the server will attempt to convert the array index to an integer. If the path element cannot be converted to an integer, the server will respond with 404.
   */
  @SpeakeasyMetadata({
    data: "pathParam, style=simple;explode=false;name=path",
  })
  path: string;

  /**
   * If true, response will be in a human-readable format.
   */
  @SpeakeasyMetadata({
    data: "queryParam, style=form;explode=true;name=pretty",
  })
  pretty?: boolean;

  /**
   * If true, response will include build and version information in addition to the result.
   */
  @SpeakeasyMetadata({
    data: "queryParam, style=form;explode=true;name=provenance",
  })
  provenance?: boolean;
}

export class GetDocumentWithPath200ApplicationJSONExplanationLocalsKey extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: string;

  @SpeakeasyMetadata()
  @Expose({ name: "value" })
  value?: string;
}

export class GetDocumentWithPath200ApplicationJSONExplanationLocalsValue extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: string;

  @SpeakeasyMetadata()
  @Expose({ name: "value" })
  value?: string;
}

export class GetDocumentWithPath200ApplicationJSONExplanationLocals extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "key" })
  @Type(() => GetDocumentWithPath200ApplicationJSONExplanationLocalsKey)
  key?: GetDocumentWithPath200ApplicationJSONExplanationLocalsKey;

  @SpeakeasyMetadata()
  @Expose({ name: "value" })
  @Type(() => GetDocumentWithPath200ApplicationJSONExplanationLocalsValue)
  value?: GetDocumentWithPath200ApplicationJSONExplanationLocalsValue;
}

export class GetDocumentWithPath200ApplicationJSONExplanationNodeTerms extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: string;

  @SpeakeasyMetadata()
  @Expose({ name: "value" })
  value?: string;
}

/**
 * The AST element associated with the evaluation step.
 *
 * @see {@link https://godoc.org/github.com/open-policy-agent/opa/ast} - AST
 */
export class GetDocumentWithPath200ApplicationJSONExplanationNode extends SpeakeasyBase {
  /**
   * Node number
   */
  @SpeakeasyMetadata()
  @Expose({ name: "index" })
  index?: number;

  @SpeakeasyMetadata({
    elemType: GetDocumentWithPath200ApplicationJSONExplanationNodeTerms,
  })
  @Expose({ name: "terms" })
  @Type(() => GetDocumentWithPath200ApplicationJSONExplanationNodeTerms)
  terms?: GetDocumentWithPath200ApplicationJSONExplanationNodeTerms[];
}

/**
 * The kind of *trace event*
 *
 * @remarks
 *
 * Each trace event represents a step in the query evaluation process. Trace events are emitted at the following points:
 * - enter - before a body or rule is evaluated
 * - exit - after a body or rule has evaluated successfully
 * - eval - before an expression is evaluated
 * - fail - after an expression has evaluated to false.
 * - redo - before evaluation restarts from a body, rule, or expression.
 *
 * By default, OPA searches for all sets of term bindings that make all expressions in the query evaluate to true. Because there may be multiple answers, the search can restart when OPA determines the query is true or false. When the search restarts, a *redo trace event* is emitted.
 */
export enum GetDocumentWithPath200ApplicationJSONExplanationOpEnum {
  Enter = "enter",
  Exit = "exit",
  Eval = "eval",
  Fail = "fail",
  Redo = "redo",
}

/**
 * The type of the **node** field
 */
export enum GetDocumentWithPath200ApplicationJSONExplanationTypeEnum {
  Expr = "expr",
  Rule = "rule",
  Body = "body",
}

export class GetDocumentWithPath200ApplicationJSONExplanation extends SpeakeasyBase {
  /**
   * The query's term bindings at the point when the trace event was emitted.
   */
  @SpeakeasyMetadata({
    elemType: GetDocumentWithPath200ApplicationJSONExplanationLocals,
  })
  @Expose({ name: "locals" })
  @Type(() => GetDocumentWithPath200ApplicationJSONExplanationLocals)
  locals?: GetDocumentWithPath200ApplicationJSONExplanationLocals[];

  /**
   * The AST element associated with the evaluation step.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "node" })
  @Type(() => GetDocumentWithPath200ApplicationJSONExplanationNode)
  node?: GetDocumentWithPath200ApplicationJSONExplanationNode;

  /**
   * The kind of *trace event*
   *
   * @remarks
   *
   * Each trace event represents a step in the query evaluation process. Trace events are emitted at the following points:
   * - enter - before a body or rule is evaluated
   * - exit - after a body or rule has evaluated successfully
   * - eval - before an expression is evaluated
   * - fail - after an expression has evaluated to false.
   * - redo - before evaluation restarts from a body, rule, or expression.
   *
   * By default, OPA searches for all sets of term bindings that make all expressions in the query evaluate to true. Because there may be multiple answers, the search can restart when OPA determines the query is true or false. When the search restarts, a *redo trace event* is emitted.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "op" })
  op?: GetDocumentWithPath200ApplicationJSONExplanationOpEnum;

  /**
   * The parent query. Use this field to identify trace events from related queries.
   *
   * @remarks
   *
   * For example, if query A references rule R, trace events emitted when evaluating rule R will have the *parent_id* field set to query Aâ€™s *query_id*.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "parent_id" })
  parentId?: number;

  /**
   * The query that the trace event was emitted for. Use this field to distinguish trace events emitted by from different queries.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "query_id" })
  queryId?: number;

  /**
   * The type of the **node** field
   */
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: GetDocumentWithPath200ApplicationJSONExplanationTypeEnum;
}

export class GetDocumentWithPath200ApplicationJSONMetrics extends SpeakeasyBase {
  /**
   * *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "counter_server_query_cache_hit" })
  counterServerQueryCacheHit?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_build_comprehension_index_ns" })
  timerQueryCompileStageBuildComprehensionIndexNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_check_safety_ns" })
  timerQueryCompileStageCheckSafetyNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_check_types_ns" })
  timerQueryCompileStageCheckTypesNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_check_undefined_funcs_ns" })
  timerQueryCompileStageCheckUndefinedFuncsNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_check_unsafe_builtins_ns" })
  timerQueryCompileStageCheckUnsafeBuiltinsNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_resolve_refs_ns" })
  timerQueryCompileStageResolveRefsNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_rewrite_comprehension_terms_ns" })
  timerQueryCompileStageRewriteComprehensionTermsNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_rewrite_dynamic_terms_ns" })
  timerQueryCompileStageRewriteDynamicTermsNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_rewrite_expr_terms_ns" })
  timerQueryCompileStageRewriteExprTermsNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_rewrite_local_vars_ns" })
  timerQueryCompileStageRewriteLocalVarsNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_rewrite_to_capture_value_ns" })
  timerQueryCompileStageRewriteToCaptureValueNs?: number;

  /**
   * (Only returned if `instrument` is true.) *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_query_compile_stage_rewrite_with_values_ns" })
  timerQueryCompileStageRewriteWithValuesNs?: number;

  /**
   * Time taken (in nanonseconds) to parse the input
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_rego_input_parse_ns" })
  timerRegoInputParseNs?: number;

  /**
   * Time taken (in nanonseconds) to compile the loaded policy modules
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_rego_module_compile_ns" })
  timerRegoModuleCompileNs?: number;

  /**
   * Time taken (in nanoseconds) to parse the input policy module
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_rego_module_parse_ns" })
  timerRegoModuleParseNs?: number;

  /**
   * Time taken (in nanoseconds) to compile the query
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_rego_query_compile_ns" })
  timerRegoQueryCompileNs?: number;

  /**
   * Time taken (in nanonseconds) to evaluate the query
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_rego_query_eval_ns" })
  timerRegoQueryEvalNs?: number;

  /**
   * Time taken (in nanoseconds) to parse the query
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_rego_query_parse_ns" })
  timerRegoQueryParseNs?: number;

  /**
   * Time taken (in nanoseconds) to handle the API request
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_server_handler_ns" })
  timerServerHandlerNs?: number;

  /**
   * *Description is forthcoming*
   */
  @SpeakeasyMetadata()
  @Expose({ name: "timer_server_read_bytes_ns" })
  timerServerReadBytesNs?: number;
}

export class GetDocumentWithPath200ApplicationJSONProvenance extends SpeakeasyBase {
  /**
   * The Git commit id of this OPA build.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "build_commit" })
  buildCommit?: string;

  /**
   * The hostname where this instance was built.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "build_hostname" })
  buildHostname?: string;

  /**
   * When this OPA instance was built (in [ISO8601 format](https://www.w3.org/TR/NOTE-datetime))
   */
  @SpeakeasyMetadata()
  @Expose({ name: "build_timestamp" })
  buildTimestamp?: string;

  /**
   * A set of key-value pairs describing each bundle activated on the server.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "bundles" })
  bundles?: Record<string, any>;

  /**
   * The version of this OPA instance
   */
  @SpeakeasyMetadata()
  @Expose({ name: "version" })
  version?: string;
}

/**
 * The type of the path operation
 */
export enum GetDocumentWithPath200ApplicationJSONResultAstPackagePathTypeEnum {
  Import = "import",
  Package = "package",
}

export class GetDocumentWithPath200ApplicationJSONResultAstPackagePath extends SpeakeasyBase {
  /**
   * The type of the path operation
   */
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: GetDocumentWithPath200ApplicationJSONResultAstPackagePathTypeEnum;

  /**
   * The path variable
   */
  @SpeakeasyMetadata()
  @Expose({ name: "value" })
  value?: string;
}

export class GetDocumentWithPath200ApplicationJSONResultAstPackage extends SpeakeasyBase {
  /**
   * The path to the package
   */
  @SpeakeasyMetadata({
    elemType: GetDocumentWithPath200ApplicationJSONResultAstPackagePath,
  })
  @Expose({ name: "path" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResultAstPackagePath)
  path?: GetDocumentWithPath200ApplicationJSONResultAstPackagePath[];
}

export class GetDocumentWithPath200ApplicationJSONResultAstRulesBodyTermsValue extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: string;

  @SpeakeasyMetadata()
  @Expose({ name: "value" })
  value?: string;
}

export class GetDocumentWithPath200ApplicationJSONResultAstRulesBodyTerms extends SpeakeasyBase {
  /**
   * The type of the term variable
   */
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: string;

  /**
   * The list of types and values for the term variable
   */
  @SpeakeasyMetadata({
    elemType: GetDocumentWithPath200ApplicationJSONResultAstRulesBodyTermsValue,
  })
  @Expose({ name: "value" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResultAstRulesBodyTermsValue)
  value?: GetDocumentWithPath200ApplicationJSONResultAstRulesBodyTermsValue[];
}

export class GetDocumentWithPath200ApplicationJSONResultAstRulesBody extends SpeakeasyBase {
  /**
   * The location of this term in the list (starts at 0)
   */
  @SpeakeasyMetadata()
  @Expose({ name: "index" })
  index?: number;

  /**
   * The type/value pairing for this term
   */
  @SpeakeasyMetadata({
    elemType: GetDocumentWithPath200ApplicationJSONResultAstRulesBodyTerms,
  })
  @Expose({ name: "terms" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResultAstRulesBodyTerms)
  terms?: GetDocumentWithPath200ApplicationJSONResultAstRulesBodyTerms[];
}

/**
 * The type/value pairing for this rule's head
 */
export class GetDocumentWithPath200ApplicationJSONResultAstRulesHeadKey extends SpeakeasyBase {
  /**
   * The type of the head
   */
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: string;

  /**
   * The value of the head
   */
  @SpeakeasyMetadata()
  @Expose({ name: "value" })
  value?: string;
}

export class GetDocumentWithPath200ApplicationJSONResultAstRulesHead extends SpeakeasyBase {
  /**
   * The type/value pairing for this rule's head
   */
  @SpeakeasyMetadata()
  @Expose({ name: "key" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResultAstRulesHeadKey)
  key?: GetDocumentWithPath200ApplicationJSONResultAstRulesHeadKey;

  /**
   * The head of the rule
   */
  @SpeakeasyMetadata()
  @Expose({ name: "name" })
  name?: string;
}

export class GetDocumentWithPath200ApplicationJSONResultAstRules extends SpeakeasyBase {
  /**
   * A list of the terms in this rule
   */
  @SpeakeasyMetadata({
    elemType: GetDocumentWithPath200ApplicationJSONResultAstRulesBody,
  })
  @Expose({ name: "body" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResultAstRulesBody)
  body?: GetDocumentWithPath200ApplicationJSONResultAstRulesBody[];

  @SpeakeasyMetadata()
  @Expose({ name: "head" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResultAstRulesHead)
  head?: GetDocumentWithPath200ApplicationJSONResultAstRulesHead;
}

/**
 * The types for declarations and runtime objects passed to your implementation. This consists of an abstract syntax tree (AST) of policy modules, package and import declarations, rules, expressions, and terms.
 *
 * @see {@link https://godoc.org/github.com/open-policy-agent/opa/ast} - AST
 */
export class GetDocumentWithPath200ApplicationJSONResultAst extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "package" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResultAstPackage)
  package?: GetDocumentWithPath200ApplicationJSONResultAstPackage;

  /**
   * When OPA evaluates a rule, it generates the content of a [virtual documents](https://www.openpolicyagent.org/docs/latest/philosophy/#the-opa-document-model)
   */
  @SpeakeasyMetadata({
    elemType: GetDocumentWithPath200ApplicationJSONResultAstRules,
  })
  @Expose({ name: "rules" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResultAstRules)
  rules?: GetDocumentWithPath200ApplicationJSONResultAstRules[];
}

export class GetDocumentWithPath200ApplicationJSONResult extends SpeakeasyBase {
  /**
   * The types for declarations and runtime objects passed to your implementation. This consists of an abstract syntax tree (AST) of policy modules, package and import declarations, rules, expressions, and terms.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "ast" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResultAst)
  ast?: GetDocumentWithPath200ApplicationJSONResultAst;

  /**
   * The name of a policy module
   */
  @SpeakeasyMetadata()
  @Expose({ name: "id" })
  id?: string;

  /**
   * A string representation of the full Rego policy
   */
  @SpeakeasyMetadata()
  @Expose({ name: "raw" })
  raw?: string;
}

/**
 * Success
 */
export class GetDocumentWithPath200ApplicationJSON extends SpeakeasyBase {
  @SpeakeasyMetadata({
    elemType: GetDocumentWithPath200ApplicationJSONExplanation,
  })
  @Expose({ name: "explanation" })
  @Type(() => GetDocumentWithPath200ApplicationJSONExplanation)
  explanation?: GetDocumentWithPath200ApplicationJSONExplanation[];

  @SpeakeasyMetadata()
  @Expose({ name: "metrics" })
  @Type(() => GetDocumentWithPath200ApplicationJSONMetrics)
  metrics?: GetDocumentWithPath200ApplicationJSONMetrics;

  @SpeakeasyMetadata()
  @Expose({ name: "provenance" })
  @Type(() => GetDocumentWithPath200ApplicationJSONProvenance)
  provenance?: GetDocumentWithPath200ApplicationJSONProvenance;

  @SpeakeasyMetadata({ elemType: GetDocumentWithPath200ApplicationJSONResult })
  @Expose({ name: "result" })
  @Type(() => GetDocumentWithPath200ApplicationJSONResult)
  result?: GetDocumentWithPath200ApplicationJSONResult[];
}

export class GetDocumentWithPathResponse extends SpeakeasyBase {
  /**
   * Bad request
   */
  @SpeakeasyMetadata()
  fourHundred?: shared.FourHundred;

  @SpeakeasyMetadata()
  contentType: string;

  @SpeakeasyMetadata()
  statusCode: number;

  @SpeakeasyMetadata()
  rawResponse?: AxiosResponse;

  /**
   * Success
   */
  @SpeakeasyMetadata()
  getDocumentWithPath200ApplicationJSONObject?: GetDocumentWithPath200ApplicationJSON;
}
