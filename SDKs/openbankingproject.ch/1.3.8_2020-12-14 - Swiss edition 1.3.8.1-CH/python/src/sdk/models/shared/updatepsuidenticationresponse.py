"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
from ..shared import amount as shared_amount
from ..shared import authenticationobject as shared_authenticationobject
from ..shared import hreftype as shared_hreftype
from ..shared import scastatus_enum as shared_scastatus_enum
from dataclasses_json import Undefined, dataclass_json
from sdk import utils
from typing import Optional


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class UpdatePsuIdenticationResponse:
    r"""Body of the JSON response for a successful update PSU identification request."""
    
    links: dict[str, shared_hreftype.HrefType] = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('_links') }})
    r"""A list of hyperlinks to be recognised by the TPP. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP when processing the request.
    
    **Remark:** All links can be relative or full links, to be decided by the ASPSP.
    
    Type of links admitted in this response, (further links might be added for ASPSP
    defined extensions):
    
    - 'scaStatus': The link to retrieve the scaStatus of the corresponding authorisation sub-resource.
    - 'selectAuthenticationMethod': This is a link to a resource, where the TPP can select the applicable second factor authentication methods for the PSU, if there are several available authentication methods and if the PSU is already sufficiently authenticated.. If this link is contained, then there is also the data element \"scaMethods\" contained in the response body.
    """  
    sca_status: shared_scastatus_enum.ScaStatusEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('scaStatus') }})
    r"""This data element is containing information about the status of the SCA method applied.
    
    The following codes are defined for this data type.
    
      * 'received':
        An authorisation or cancellation-authorisation resource has been created successfully.
      * 'psuIdentified':
        The PSU related to the authorisation or cancellation-authorisation resource has been identified.
      * 'psuAuthenticated':
        The PSU related to the authorisation or cancellation-authorisation resource has been identified and authenticated e.g. by a password or by an access token.
      * 'scaMethodSelected':
        The PSU/TPP has selected the related SCA routine.
        If the SCA method is chosen implicitly since only one SCA method is available,
        then this is the first status to be reported instead of 'received'.
      * 'unconfirmed':
        SCA is technically successfully finalised by the PSU, but the authorisation resource needs a confirmation command by the TPP yet. 
      * 'started':
        The addressed SCA routine has been started.
      * 'finalised':
        The SCA routine has been finalised successfully (including a potential confirmation command). 
        This is a final status of the authorisation resource.
      * 'failed':
        The SCA routine failed.
        This is a final status of the authorisation resource.
      * 'exempted':
        SCA was exempted for the related transaction, the related authorisation is successful.
        This is a final status of the authorisation resource.
    """  
    currency_conversion_fees: Optional[shared_amount.Amount] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('currencyConversionFees'), 'exclude': lambda f: f is None }})  
    estimated_interbank_settlement_amount: Optional[shared_amount.Amount] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('estimatedInterbankSettlementAmount'), 'exclude': lambda f: f is None }})  
    estimated_total_amount: Optional[shared_amount.Amount] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('estimatedTotalAmount'), 'exclude': lambda f: f is None }})  
    psu_message: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('psuMessage'), 'exclude': lambda f: f is None }})
    r"""Text to be displayed to the PSU."""  
    sca_methods: Optional[list[shared_authenticationobject.AuthenticationObject]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('scaMethods'), 'exclude': lambda f: f is None }})
    r"""This data element might be contained, if SCA is required and if the PSU has a choice between different
    authentication methods.
    
    Depending on the risk management of the ASPSP this choice might be offered before or after the PSU
    has been identified with the first relevant factor, or if an access token is transported.
    
    If this data element is contained, then there is also a hyperlink of type 'startAuthorisationWithAuthenticationMethodSelection'
    contained in the response body.
    
    These methods shall be presented towards the PSU for selection by the TPP.
    """  
    transaction_fees: Optional[shared_amount.Amount] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('transactionFees'), 'exclude': lambda f: f is None }})  
    