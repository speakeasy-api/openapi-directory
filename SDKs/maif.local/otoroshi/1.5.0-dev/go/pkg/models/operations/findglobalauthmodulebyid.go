// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"bytes"
	"encoding/json"
	"errors"
	"net/http"
	"openapi/pkg/models/shared"
)

type FindGlobalAuthModuleByIDSecurity struct {
	OtoroshiAuth shared.SchemeOtoroshiAuth `security:"scheme,type=http,subtype=basic"`
}

type FindGlobalAuthModuleByIDPathParams struct {
	// The auth. config id
	ID string `pathParam:"style=simple,explode=false,name=id"`
}

type FindGlobalAuthModuleByIDRequest struct {
	PathParams FindGlobalAuthModuleByIDPathParams
	Security   FindGlobalAuthModuleByIDSecurity
}

type FindGlobalAuthModuleByID200ApplicationJSONType string

const (
	FindGlobalAuthModuleByID200ApplicationJSONTypeLdapAuthModuleConfig      FindGlobalAuthModuleByID200ApplicationJSONType = "LdapAuthModuleConfig"
	FindGlobalAuthModuleByID200ApplicationJSONTypeInMemoryAuthModuleConfig  FindGlobalAuthModuleByID200ApplicationJSONType = "InMemoryAuthModuleConfig"
	FindGlobalAuthModuleByID200ApplicationJSONTypeGenericOauth2ModuleConfig FindGlobalAuthModuleByID200ApplicationJSONType = "GenericOauth2ModuleConfig"
)

type FindGlobalAuthModuleByID200ApplicationJSON struct {
	LdapAuthModuleConfig      *shared.LdapAuthModuleConfig
	InMemoryAuthModuleConfig  *shared.InMemoryAuthModuleConfig
	GenericOauth2ModuleConfig *shared.GenericOauth2ModuleConfig

	Type FindGlobalAuthModuleByID200ApplicationJSONType
}

func CreateFindGlobalAuthModuleByID200ApplicationJSONLdapAuthModuleConfig(ldapAuthModuleConfig shared.LdapAuthModuleConfig) FindGlobalAuthModuleByID200ApplicationJSON {
	typ := FindGlobalAuthModuleByID200ApplicationJSONTypeLdapAuthModuleConfig

	return FindGlobalAuthModuleByID200ApplicationJSON{
		LdapAuthModuleConfig: &ldapAuthModuleConfig,
		Type:                 typ,
	}
}

func CreateFindGlobalAuthModuleByID200ApplicationJSONInMemoryAuthModuleConfig(inMemoryAuthModuleConfig shared.InMemoryAuthModuleConfig) FindGlobalAuthModuleByID200ApplicationJSON {
	typ := FindGlobalAuthModuleByID200ApplicationJSONTypeInMemoryAuthModuleConfig

	return FindGlobalAuthModuleByID200ApplicationJSON{
		InMemoryAuthModuleConfig: &inMemoryAuthModuleConfig,
		Type:                     typ,
	}
}

func CreateFindGlobalAuthModuleByID200ApplicationJSONGenericOauth2ModuleConfig(genericOauth2ModuleConfig shared.GenericOauth2ModuleConfig) FindGlobalAuthModuleByID200ApplicationJSON {
	typ := FindGlobalAuthModuleByID200ApplicationJSONTypeGenericOauth2ModuleConfig

	return FindGlobalAuthModuleByID200ApplicationJSON{
		GenericOauth2ModuleConfig: &genericOauth2ModuleConfig,
		Type:                      typ,
	}
}

func (u *FindGlobalAuthModuleByID200ApplicationJSON) UnmarshalJSON(data []byte) error {
	var d *json.Decoder

	ldapAuthModuleConfig := new(shared.LdapAuthModuleConfig)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&ldapAuthModuleConfig); err == nil {
		u.LdapAuthModuleConfig = ldapAuthModuleConfig
		u.Type = FindGlobalAuthModuleByID200ApplicationJSONTypeLdapAuthModuleConfig
		return nil
	}

	inMemoryAuthModuleConfig := new(shared.InMemoryAuthModuleConfig)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&inMemoryAuthModuleConfig); err == nil {
		u.InMemoryAuthModuleConfig = inMemoryAuthModuleConfig
		u.Type = FindGlobalAuthModuleByID200ApplicationJSONTypeInMemoryAuthModuleConfig
		return nil
	}

	genericOauth2ModuleConfig := new(shared.GenericOauth2ModuleConfig)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&genericOauth2ModuleConfig); err == nil {
		u.GenericOauth2ModuleConfig = genericOauth2ModuleConfig
		u.Type = FindGlobalAuthModuleByID200ApplicationJSONTypeGenericOauth2ModuleConfig
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u FindGlobalAuthModuleByID200ApplicationJSON) MarshalJSON() ([]byte, error) {
	if u.LdapAuthModuleConfig != nil {
		return json.Marshal(u.LdapAuthModuleConfig)
	}

	if u.InMemoryAuthModuleConfig != nil {
		return json.Marshal(u.InMemoryAuthModuleConfig)
	}

	if u.GenericOauth2ModuleConfig != nil {
		return json.Marshal(u.GenericOauth2ModuleConfig)
	}

	return nil, nil
}

type FindGlobalAuthModuleByIDResponse struct {
	ContentType string
	StatusCode  int
	RawResponse *http.Response
	// Successful operation
	FindGlobalAuthModuleByID200ApplicationJSONOneOf *FindGlobalAuthModuleByID200ApplicationJSON
}
