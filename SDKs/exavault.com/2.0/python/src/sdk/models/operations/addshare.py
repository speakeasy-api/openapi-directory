"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
import dateutil.parser
import requests as requests_http
from ..shared import accessmode as shared_accessmode
from ..shared import shareresponse as shared_shareresponse
from dataclasses_json import Undefined, dataclass_json
from datetime import datetime
from enum import Enum
from marshmallow import fields
from sdk import utils
from typing import Optional


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class AddShareAddShareRequestBodyRecipients:
    
    email: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('email'), 'exclude': lambda f: f is None }})
    r"""Email address of person you are inviting to the share"""  
    type: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('type'), 'exclude': lambda f: f is None }})
    r"""What kind of email should be sent to this recipient. Valid choices are **direct** and **cc**"""  
    
class AddShareAddShareRequestBodyTypeEnum(str, Enum):
    r"""The type of share to create. See above for a description of each."""
    SHARED_FOLDER = 'shared_folder'
    RECEIVE = 'receive'
    SEND = 'send'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class AddShareAddShareRequestBody:
    
    name: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('name') }})
    r"""A name for the share. This will be visible on the page that recipients visit."""  
    type: AddShareAddShareRequestBodyTypeEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('type') }})
    r"""The type of share to create. See above for a description of each."""  
    access_mode: Optional[shared_accessmode.AccessMode] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('accessMode'), 'exclude': lambda f: f is None }})
    r"""An object defining what a not-logged-in visitor can do with the share contents"""  
    embed: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('embed'), 'exclude': lambda f: f is None }})
    r"""Whether this share can be embedded within a web page."""  
    expiration: Optional[datetime] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('expiration'), 'encoder': utils.datetimeisoformat(True), 'decoder': dateutil.parser.isoparse, 'mm_field': fields.DateTime(format='iso'), 'exclude': lambda f: f is None }})
    r"""Expiration date for the share. If someone attempts to use the share after this date, they will receive an error that the share is not available."""  
    file_drop_create_folders: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('fileDropCreateFolders'), 'exclude': lambda f: f is None }})
    r"""Only used for **receive** shares. If true, uploads will be automatically placed into sub-folders of the folder, named after the chosen field on your form."""  
    has_notification: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('hasNotification'), 'exclude': lambda f: f is None }})
    r"""Whether delivery receipts should be sent."""  
    is_public: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('isPublic'), 'exclude': lambda f: f is None }})
    r"""Whether someone can visit the share without following a personalized recipient link."""  
    message_body: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('messageBody'), 'exclude': lambda f: f is None }})
    r"""The message to be included in email invitations for your recipients. Ignored if you have not also provided `recipients` and `messageSubject`"""  
    message_subject: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('messageSubject'), 'exclude': lambda f: f is None }})
    r"""Subject to use on emails inviting recipients to the share. Ignored if you have not also provided `recipients` and a `messageBody`"""  
    notification_emails: Optional[list[str]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('notificationEmails'), 'exclude': lambda f: f is None }})
    r"""Emails that will receive delivery receipts for this share. `hasNotification` must be **true** for delivery receipts will be sent."""  
    password: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('password'), 'exclude': lambda f: f is None }})
    r"""Set a password for recipients to access the share. All recipients will use the same password."""  
    recipients: Optional[list[AddShareAddShareRequestBodyRecipients]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('recipients'), 'exclude': lambda f: f is None }})
    r"""People you want to invite to the share. **Note**: unless you also set the `messageSubject` and `messageBody` for the new share, invitation emails will not be sent to these recipients."""  
    require_email: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('requireEmail'), 'exclude': lambda f: f is None }})
    r"""True if recipients must provide their email to view the share."""  
    resources: Optional[list[str]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('resources'), 'exclude': lambda f: f is None }})
    r"""Array of resources for this share. See details on [how to specify resources](#section/Identifying-Resources) above.
    
    **shared_folder** and **receive** shares must have only one `resource`, which is a directory that does not have a current share attached.
    
    **send** shares may have multiple `resource` parameters. You can also leave this parameter null if you are planning to upload files to the send. If you are planning to upload files to the send that are not yet in your account, you will also need to call the [POST /shares/complete-send/{id}](#operation/completeDirectSend) endpoint to finish the send operation.
    """  
    sending_local_files: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('sendingLocalFiles'), 'exclude': lambda f: f is None }})
    r"""Use this only for **send** shares. Flag to indicate that you are going to upload additional files from your computer to the share. If this is **true**, you will also need to use the [POST /shares/complete-send/{id}](#operation/completeDirectSend) call to finish setting up your share after the files are uploaded."""  
    

@dataclasses.dataclass
class AddShareRequest:
    
    ev_access_token: str = dataclasses.field(metadata={'header': { 'field_name': 'ev-access-token', 'style': 'simple', 'explode': False }})
    r"""Access token required to make the API call."""  
    ev_api_key: str = dataclasses.field(metadata={'header': { 'field_name': 'ev-api-key', 'style': 'simple', 'explode': False }})
    r"""API Key required to make the API call."""  
    request_body: Optional[AddShareAddShareRequestBody] = dataclasses.field(default=None, metadata={'request': { 'media_type': 'application/json' }})  
    

@dataclasses.dataclass
class AddShareResponse:
    
    content_type: str = dataclasses.field()  
    status_code: int = dataclasses.field()  
    raw_response: Optional[requests_http.Response] = dataclasses.field(default=None)  
    share_response: Optional[shared_shareresponse.ShareResponse] = dataclasses.field(default=None)
    r"""Successful operation"""  
    