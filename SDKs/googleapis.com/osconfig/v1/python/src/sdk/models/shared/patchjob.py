"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
from ..shared import patchconfig as shared_patchconfig
from ..shared import patchinstancefilter as shared_patchinstancefilter
from ..shared import patchjobinstancedetailssummary as shared_patchjobinstancedetailssummary
from ..shared import patchrollout as shared_patchrollout
from dataclasses_json import Undefined, dataclass_json
from enum import Enum
from sdk import utils
from typing import Optional

class PatchJobStateEnum(str, Enum):
    r"""The current state of the PatchJob."""
    STATE_UNSPECIFIED = 'STATE_UNSPECIFIED'
    STARTED = 'STARTED'
    INSTANCE_LOOKUP = 'INSTANCE_LOOKUP'
    PATCHING = 'PATCHING'
    SUCCEEDED = 'SUCCEEDED'
    COMPLETED_WITH_ERRORS = 'COMPLETED_WITH_ERRORS'
    CANCELED = 'CANCELED'
    TIMED_OUT = 'TIMED_OUT'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class PatchJob:
    r"""A high level representation of a patch job that is either in progress or has completed. Instance details are not included in the job. To paginate through instance details, use ListPatchJobInstanceDetails. For more information about patch jobs, see [Creating patch jobs](https://cloud.google.com/compute/docs/os-patch-management/create-patch-job)."""
    
    create_time: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('createTime'), 'exclude': lambda f: f is None }})
    r"""Time this patch job was created."""  
    description: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('description'), 'exclude': lambda f: f is None }})
    r"""Description of the patch job. Length of the description is limited to 1024 characters."""  
    display_name: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('displayName'), 'exclude': lambda f: f is None }})
    r"""Display name for this patch job. This is not a unique identifier."""  
    dry_run: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('dryRun'), 'exclude': lambda f: f is None }})
    r"""If this patch job is a dry run, the agent reports that it has finished without running any updates on the VM instance."""  
    duration: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('duration'), 'exclude': lambda f: f is None }})
    r"""Duration of the patch job. After the duration ends, the patch job times out."""  
    error_message: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('errorMessage'), 'exclude': lambda f: f is None }})
    r"""If this patch job failed, this message provides information about the failure."""  
    instance_details_summary: Optional[shared_patchjobinstancedetailssummary.PatchJobInstanceDetailsSummary] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('instanceDetailsSummary'), 'exclude': lambda f: f is None }})
    r"""A summary of the current patch state across all instances that this patch job affects. Contains counts of instances in different states. These states map to `InstancePatchState`. List patch job instance details to see the specific states of each instance."""  
    instance_filter: Optional[shared_patchinstancefilter.PatchInstanceFilter] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('instanceFilter'), 'exclude': lambda f: f is None }})
    r"""A filter to target VM instances for patching. The targeted VMs must meet all criteria specified. So if both labels and zones are specified, the patch job targets only VMs with those labels and in those zones."""  
    name: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('name'), 'exclude': lambda f: f is None }})
    r"""Unique identifier for this patch job in the form `projects/*/patchJobs/*`"""  
    patch_config: Optional[shared_patchconfig.PatchConfig] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('patchConfig'), 'exclude': lambda f: f is None }})
    r"""Patch configuration specifications. Contains details on how to apply the patch(es) to a VM instance."""  
    patch_deployment: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('patchDeployment'), 'exclude': lambda f: f is None }})
    r"""Output only. Name of the patch deployment that created this patch job."""  
    percent_complete: Optional[float] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('percentComplete'), 'exclude': lambda f: f is None }})
    r"""Reflects the overall progress of the patch job in the range of 0.0 being no progress to 100.0 being complete."""  
    rollout: Optional[shared_patchrollout.PatchRollout] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('rollout'), 'exclude': lambda f: f is None }})
    r"""Patch rollout configuration specifications. Contains details on the concurrency control when applying patch(es) to all targeted VMs."""  
    state: Optional[PatchJobStateEnum] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('state'), 'exclude': lambda f: f is None }})
    r"""The current state of the PatchJob."""  
    update_time: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('updateTime'), 'exclude': lambda f: f is None }})
    r"""Last time this patch job was updated."""  
    