/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import {
  objectToClass,
  SpeakeasyBase,
  SpeakeasyMetadata,
} from "../../../internal/utils";
import { AttributeDimension } from "./attributedimension";
import { EventCondition } from "./eventcondition";
import { MetricDimension } from "./metricdimension";
import { SegmentBehaviors } from "./segmentbehaviors";
import { SegmentCondition } from "./segmentcondition";
import { SegmentDemographics } from "./segmentdemographics";
import { SegmentLocation } from "./segmentlocation";
import { Expose, Transform, Type } from "class-transformer";

/**
 * The dimension settings for the segment that's associated with the activity.
 */
export class SimpleConditionSegmentDimensions extends SpeakeasyBase {
  @SpeakeasyMetadata({ elemType: AttributeDimension })
  @Expose({ name: "Attributes" })
  @Transform(
    ({ value }) => {
      const obj: Record<string, AttributeDimension> = {};
      for (const key in value) {
        obj[key] = objectToClass(value[key], AttributeDimension);
      }
      return obj;
    },
    { toClassOnly: true }
  )
  attributes?: Record<string, AttributeDimension>;

  @SpeakeasyMetadata()
  @Expose({ name: "Behavior" })
  @Type(() => SegmentBehaviors)
  behavior?: SegmentBehaviors;

  @SpeakeasyMetadata()
  @Expose({ name: "Demographic" })
  @Type(() => SegmentDemographics)
  demographic?: SegmentDemographics;

  @SpeakeasyMetadata()
  @Expose({ name: "Location" })
  @Type(() => SegmentLocation)
  location?: SegmentLocation;

  @SpeakeasyMetadata({ elemType: MetricDimension })
  @Expose({ name: "Metrics" })
  @Transform(
    ({ value }) => {
      const obj: Record<string, MetricDimension> = {};
      for (const key in value) {
        obj[key] = objectToClass(value[key], MetricDimension);
      }
      return obj;
    },
    { toClassOnly: true }
  )
  metrics?: Record<string, MetricDimension>;

  @SpeakeasyMetadata({ elemType: AttributeDimension })
  @Expose({ name: "UserAttributes" })
  @Transform(
    ({ value }) => {
      const obj: Record<string, AttributeDimension> = {};
      for (const key in value) {
        obj[key] = objectToClass(value[key], AttributeDimension);
      }
      return obj;
    },
    { toClassOnly: true }
  )
  userAttributes?: Record<string, AttributeDimension>;
}

/**
 * Specifies a condition to evaluate for an activity in a journey.
 */
export class SimpleCondition extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "EventCondition" })
  @Type(() => EventCondition)
  eventCondition?: EventCondition;

  @SpeakeasyMetadata()
  @Expose({ name: "SegmentCondition" })
  @Type(() => SegmentCondition)
  segmentCondition?: SegmentCondition;

  @SpeakeasyMetadata()
  @Expose({ name: "SegmentDimensions" })
  @Type(() => SimpleConditionSegmentDimensions)
  segmentDimensions?: SimpleConditionSegmentDimensions;
}
