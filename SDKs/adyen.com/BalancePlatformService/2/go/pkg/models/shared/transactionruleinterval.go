// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// TransactionRuleIntervalDayOfWeekEnum - The day of week, used when the `duration.unit` is **weeks**. If not provided, by default, this is set to **monday**.
//
// Possible values: **sunday**, **monday**, **tuesday**, **wednesday**, **thursday**, **friday**.
type TransactionRuleIntervalDayOfWeekEnum string

const (
	TransactionRuleIntervalDayOfWeekEnumFriday    TransactionRuleIntervalDayOfWeekEnum = "friday"
	TransactionRuleIntervalDayOfWeekEnumMonday    TransactionRuleIntervalDayOfWeekEnum = "monday"
	TransactionRuleIntervalDayOfWeekEnumSaturday  TransactionRuleIntervalDayOfWeekEnum = "saturday"
	TransactionRuleIntervalDayOfWeekEnumSunday    TransactionRuleIntervalDayOfWeekEnum = "sunday"
	TransactionRuleIntervalDayOfWeekEnumThursday  TransactionRuleIntervalDayOfWeekEnum = "thursday"
	TransactionRuleIntervalDayOfWeekEnumTuesday   TransactionRuleIntervalDayOfWeekEnum = "tuesday"
	TransactionRuleIntervalDayOfWeekEnumWednesday TransactionRuleIntervalDayOfWeekEnum = "wednesday"
)

func (e *TransactionRuleIntervalDayOfWeekEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "friday":
		fallthrough
	case "monday":
		fallthrough
	case "saturday":
		fallthrough
	case "sunday":
		fallthrough
	case "thursday":
		fallthrough
	case "tuesday":
		fallthrough
	case "wednesday":
		*e = TransactionRuleIntervalDayOfWeekEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for TransactionRuleIntervalDayOfWeekEnum: %s", s)
	}
}

// TransactionRuleIntervalTypeEnum - The [type of interval](https://docs.adyen.com/issuing/transaction-rules#time-intervals) during which the rule conditions and limits apply, and how often counters are reset.
//
// Possible values:
//   - **perTransaction**: conditions are evaluated and the counters are reset for every transaction.
//   - **daily**: the counters are reset daily at 00:00:00 UTC.
//   - **weekly**: the counters are reset every Monday at 00:00:00 UTC.
//   - **monthly**: the counters reset every first day of the month at 00:00:00 UTC.
//   - **lifetime**: conditions are applied to the lifetime of the payment instrument.
//   - **rolling**: conditions are applied and the counters are reset based on a `duration`. If the reset date and time are not provided, Adyen applies the default reset time similar to fixed intervals. For example, if the duration is every two weeks, the counter resets every third Monday at 00:00:00 UTC.
//   - **sliding**: conditions are applied and the counters are reset based on the current time and a `duration` that you specify.
type TransactionRuleIntervalTypeEnum string

const (
	TransactionRuleIntervalTypeEnumDaily          TransactionRuleIntervalTypeEnum = "daily"
	TransactionRuleIntervalTypeEnumLifetime       TransactionRuleIntervalTypeEnum = "lifetime"
	TransactionRuleIntervalTypeEnumMonthly        TransactionRuleIntervalTypeEnum = "monthly"
	TransactionRuleIntervalTypeEnumPerTransaction TransactionRuleIntervalTypeEnum = "perTransaction"
	TransactionRuleIntervalTypeEnumRolling        TransactionRuleIntervalTypeEnum = "rolling"
	TransactionRuleIntervalTypeEnumSliding        TransactionRuleIntervalTypeEnum = "sliding"
	TransactionRuleIntervalTypeEnumWeekly         TransactionRuleIntervalTypeEnum = "weekly"
)

func (e *TransactionRuleIntervalTypeEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "daily":
		fallthrough
	case "lifetime":
		fallthrough
	case "monthly":
		fallthrough
	case "perTransaction":
		fallthrough
	case "rolling":
		fallthrough
	case "sliding":
		fallthrough
	case "weekly":
		*e = TransactionRuleIntervalTypeEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for TransactionRuleIntervalTypeEnum: %s", s)
	}
}

type TransactionRuleInterval struct {
	// The day of month, used when the `duration.unit` is **months**. If not provided, by default, this is set to **1**, the first day of the month.
	DayOfMonth *int `json:"dayOfMonth,omitempty"`
	// The day of week, used when the `duration.unit` is **weeks**. If not provided, by default, this is set to **monday**.
	//
	// Possible values: **sunday**, **monday**, **tuesday**, **wednesday**, **thursday**, **friday**.
	DayOfWeek *TransactionRuleIntervalDayOfWeekEnum `json:"dayOfWeek,omitempty"`
	Duration  *Duration                             `json:"duration,omitempty"`
	// The time of day, in **hh:mm:ss** format, used when the `duration.unit` is **hours**. If not provided, by default, this is set to **00:00:00**.
	TimeOfDay *string `json:"timeOfDay,omitempty"`
	// The [time zone](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones). For example, **Europe/Amsterdam**. By default, this is set to **UTC**.
	TimeZone *string `json:"timeZone,omitempty"`
	// The [type of interval](https://docs.adyen.com/issuing/transaction-rules#time-intervals) during which the rule conditions and limits apply, and how often counters are reset.
	//
	// Possible values:
	//   * **perTransaction**: conditions are evaluated and the counters are reset for every transaction.
	//  * **daily**: the counters are reset daily at 00:00:00 UTC.
	//  * **weekly**: the counters are reset every Monday at 00:00:00 UTC.
	//  * **monthly**: the counters reset every first day of the month at 00:00:00 UTC.
	//  * **lifetime**: conditions are applied to the lifetime of the payment instrument.
	//  * **rolling**: conditions are applied and the counters are reset based on a `duration`. If the reset date and time are not provided, Adyen applies the default reset time similar to fixed intervals. For example, if the duration is every two weeks, the counter resets every third Monday at 00:00:00 UTC.
	//  * **sliding**: conditions are applied and the counters are reset based on the current time and a `duration` that you specify.
	Type TransactionRuleIntervalTypeEnum `json:"type"`
}
