// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// TrackReleaseStatusEnum - The status of the release.
type TrackReleaseStatusEnum string

const (
	TrackReleaseStatusEnumStatusUnspecified TrackReleaseStatusEnum = "statusUnspecified"
	TrackReleaseStatusEnumDraft             TrackReleaseStatusEnum = "draft"
	TrackReleaseStatusEnumInProgress        TrackReleaseStatusEnum = "inProgress"
	TrackReleaseStatusEnumHalted            TrackReleaseStatusEnum = "halted"
	TrackReleaseStatusEnumCompleted         TrackReleaseStatusEnum = "completed"
)

func (e TrackReleaseStatusEnum) ToPointer() *TrackReleaseStatusEnum {
	return &e
}

func (e *TrackReleaseStatusEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "statusUnspecified":
		fallthrough
	case "draft":
		fallthrough
	case "inProgress":
		fallthrough
	case "halted":
		fallthrough
	case "completed":
		*e = TrackReleaseStatusEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for TrackReleaseStatusEnum: %v", v)
	}
}

// TrackRelease - A release within a track.
type TrackRelease struct {
	// Country targeting specification.
	CountryTargeting *CountryTargeting `json:"countryTargeting,omitempty"`
	// In-app update priority of the release. All newly added APKs in the release will be considered at this priority. Can take values in the range [0, 5], with 5 the highest priority. Defaults to 0. in_app_update_priority can not be updated once the release is rolled out. See https://developer.android.com/guide/playcore/in-app-updates.
	InAppUpdatePriority *int `json:"inAppUpdatePriority,omitempty"`
	// The release name. Not required to be unique. If not set, the name is generated from the APK's version_name. If the release contains multiple APKs, the name is generated from the date.
	Name *string `json:"name,omitempty"`
	// A description of what is new in this release.
	ReleaseNotes []LocalizedText `json:"releaseNotes,omitempty"`
	// The status of the release.
	Status *TrackReleaseStatusEnum `json:"status,omitempty"`
	// Fraction of users who are eligible for a staged release. 0 < fraction < 1. Can only be set when status is "inProgress" or "halted".
	UserFraction *float64 `json:"userFraction,omitempty"`
	// Version codes of all APKs in the release. Must include version codes to retain from previous releases.
	VersionCodes []string `json:"versionCodes,omitempty"`
}
