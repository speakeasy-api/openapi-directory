// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// StageSummaryStateEnum - State of this stage.
type StageSummaryStateEnum string

const (
	StageSummaryStateEnumExecutionStateUnknown    StageSummaryStateEnum = "EXECUTION_STATE_UNKNOWN"
	StageSummaryStateEnumExecutionStateNotStarted StageSummaryStateEnum = "EXECUTION_STATE_NOT_STARTED"
	StageSummaryStateEnumExecutionStateRunning    StageSummaryStateEnum = "EXECUTION_STATE_RUNNING"
	StageSummaryStateEnumExecutionStateSucceeded  StageSummaryStateEnum = "EXECUTION_STATE_SUCCEEDED"
	StageSummaryStateEnumExecutionStateFailed     StageSummaryStateEnum = "EXECUTION_STATE_FAILED"
	StageSummaryStateEnumExecutionStateCancelled  StageSummaryStateEnum = "EXECUTION_STATE_CANCELLED"
)

func (e StageSummaryStateEnum) ToPointer() *StageSummaryStateEnum {
	return &e
}

func (e *StageSummaryStateEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "EXECUTION_STATE_UNKNOWN":
		fallthrough
	case "EXECUTION_STATE_NOT_STARTED":
		fallthrough
	case "EXECUTION_STATE_RUNNING":
		fallthrough
	case "EXECUTION_STATE_SUCCEEDED":
		fallthrough
	case "EXECUTION_STATE_FAILED":
		fallthrough
	case "EXECUTION_STATE_CANCELLED":
		*e = StageSummaryStateEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for StageSummaryStateEnum: %v", v)
	}
}

// StageSummary - Information about a particular execution stage of a job.
type StageSummary struct {
	// End time of this stage. If the work item is completed, this is the actual end time of the stage. Otherwise, it is the predicted end time.
	EndTime *string `json:"endTime,omitempty"`
	// Metrics for this stage.
	Metrics []MetricUpdate `json:"metrics,omitempty"`
	// Information about the progress of some component of job execution.
	Progress *ProgressTimeseries `json:"progress,omitempty"`
	// ID of this stage
	StageID *string `json:"stageId,omitempty"`
	// Start time of this stage.
	StartTime *string `json:"startTime,omitempty"`
	// State of this stage.
	State *StageSummaryStateEnum `json:"state,omitempty"`
	// Summarized straggler identification details.
	StragglerSummary *StragglerSummary `json:"stragglerSummary,omitempty"`
}
