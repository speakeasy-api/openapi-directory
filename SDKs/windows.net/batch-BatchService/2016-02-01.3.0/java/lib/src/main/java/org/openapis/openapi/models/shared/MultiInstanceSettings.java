/* 
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

package org.openapis.openapi.models.shared;

import com.fasterxml.jackson.annotation.JsonInclude.Include;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;

/**
 * MultiInstanceSettings - Settings which specify how to run a multi-instance task. Multi-instance tasks are commonly used to support MPI tasks.
 */
public class MultiInstanceSettings {
    /**
     * A list of files that the Batch service will download before running the coordination command line. The difference between common resource files and task resource files is that common resource files are downloaded for all subtasks including the primary, whereas task resource files are downloaded only for the primary.
     */
    @JsonInclude(Include.NON_ABSENT)
    @JsonProperty("commonResourceFiles")
    public ResourceFile[] commonResourceFiles;

    public MultiInstanceSettings withCommonResourceFiles(ResourceFile[] commonResourceFiles) {
        this.commonResourceFiles = commonResourceFiles;
        return this;
    }
    
    /**
     * The command to run on the compute node instances for coordinating among the subtasks.
     */
    @JsonInclude(Include.NON_ABSENT)
    @JsonProperty("coordinationCommandLine")
    public String coordinationCommandLine;

    public MultiInstanceSettings withCoordinationCommandLine(String coordinationCommandLine) {
        this.coordinationCommandLine = coordinationCommandLine;
        return this;
    }
    
    /**
     * The number of compute nodes required by the multi-instance task.
     */
    @JsonProperty("numberOfInstances")
    public Integer numberOfInstances;

    public MultiInstanceSettings withNumberOfInstances(Integer numberOfInstances) {
        this.numberOfInstances = numberOfInstances;
        return this;
    }
    
    public MultiInstanceSettings(@JsonProperty("numberOfInstances") Integer numberOfInstances) {
        this.numberOfInstances = numberOfInstances;
  }
}
