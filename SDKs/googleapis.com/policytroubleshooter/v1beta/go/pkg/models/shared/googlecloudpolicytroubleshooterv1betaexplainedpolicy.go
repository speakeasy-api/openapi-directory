// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum - Indicates whether _this policy_ provides the specified permission to the specified member for the specified resource. This field does _not_ indicate whether the member actually has the permission for the resource. There might be another policy that overrides this policy. To determine whether the member actually has the permission, use the `access` field in the TroubleshootIamPolicyResponse.
type GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum string

const (
	GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnumAccessStateUnspecified GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum = "ACCESS_STATE_UNSPECIFIED"
	GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnumGranted                GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum = "GRANTED"
	GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnumNotGranted             GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum = "NOT_GRANTED"
	GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnumUnknownConditional     GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum = "UNKNOWN_CONDITIONAL"
	GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnumUnknownInfoDenied      GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum = "UNKNOWN_INFO_DENIED"
)

func (e *GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "ACCESS_STATE_UNSPECIFIED":
		fallthrough
	case "GRANTED":
		fallthrough
	case "NOT_GRANTED":
		fallthrough
	case "UNKNOWN_CONDITIONAL":
		fallthrough
	case "UNKNOWN_INFO_DENIED":
		*e = GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum: %s", s)
	}
}

// GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum - The relevance of this policy to the overall determination in the TroubleshootIamPolicyResponse. If the sender of the request does not have access to the policy, this field is omitted.
type GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum string

const (
	GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnumHeuristicRelevanceUnspecified GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum = "HEURISTIC_RELEVANCE_UNSPECIFIED"
	GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnumNormal                        GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum = "NORMAL"
	GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnumHigh                          GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum = "HIGH"
)

func (e *GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "HEURISTIC_RELEVANCE_UNSPECIFIED":
		fallthrough
	case "NORMAL":
		fallthrough
	case "HIGH":
		*e = GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum: %s", s)
	}
}

// GoogleCloudPolicytroubleshooterV1betaExplainedPolicy - Details about how a specific IAM Policy contributed to the access check.
type GoogleCloudPolicytroubleshooterV1betaExplainedPolicy struct {
	// Indicates whether _this policy_ provides the specified permission to the specified member for the specified resource. This field does _not_ indicate whether the member actually has the permission for the resource. There might be another policy that overrides this policy. To determine whether the member actually has the permission, use the `access` field in the TroubleshootIamPolicyResponse.
	Access *GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum `json:"access,omitempty"`
	// Details about how each binding in the policy affects the member's ability, or inability, to use the permission for the resource. If the sender of the request does not have access to the policy, this field is omitted.
	BindingExplanations []GoogleCloudPolicytroubleshooterV1betaBindingExplanation `json:"bindingExplanations,omitempty"`
	// The full resource name that identifies the resource. For example, `//compute.googleapis.com/projects/my-project/zones/us-central1-a/instances/my-instance`. If the sender of the request does not have access to the policy, this field is omitted. For examples of full resource names for Google Cloud services, see https://cloud.google.com/iam/help/troubleshooter/full-resource-names.
	FullResourceName *string `json:"fullResourceName,omitempty"`
	// An Identity and Access Management (IAM) policy, which specifies access controls for Google Cloud resources. A `Policy` is a collection of `bindings`. A `binding` binds one or more `members`, or principals, to a single `role`. Principals can be user accounts, service accounts, Google groups, and domains (such as G Suite). A `role` is a named list of permissions; each `role` can be an IAM predefined role or a user-created custom role. For some types of Google Cloud resources, a `binding` can also specify a `condition`, which is a logical expression that allows access to a resource only if the expression evaluates to `true`. A condition can add constraints based on attributes of the request, the resource, or both. To learn which resources support conditions in their IAM policies, see the [IAM documentation](https://cloud.google.com/iam/help/conditions/resource-policies). **JSON example:** { "bindings": [ { "role": "roles/resourcemanager.organizationAdmin", "members": [ "user:mike@example.com", "group:admins@example.com", "domain:google.com", "serviceAccount:my-project-id@appspot.gserviceaccount.com" ] }, { "role": "roles/resourcemanager.organizationViewer", "members": [ "user:eve@example.com" ], "condition": { "title": "expirable access", "description": "Does not grant access after Sep 2020", "expression": "request.time < timestamp('2020-10-01T00:00:00.000Z')", } } ], "etag": "BwWWja0YfJA=", "version": 3 } **YAML example:** bindings: - members: - user:mike@example.com - group:admins@example.com - domain:google.com - serviceAccount:my-project-id@appspot.gserviceaccount.com role: roles/resourcemanager.organizationAdmin - members: - user:eve@example.com role: roles/resourcemanager.organizationViewer condition: title: expirable access description: Does not grant access after Sep 2020 expression: request.time < timestamp('2020-10-01T00:00:00.000Z') etag: BwWWja0YfJA= version: 3 For a description of IAM and its features, see the [IAM documentation](https://cloud.google.com/iam/docs/).
	Policy *GoogleIamV1Policy `json:"policy,omitempty"`
	// The relevance of this policy to the overall determination in the TroubleshootIamPolicyResponse. If the sender of the request does not have access to the policy, this field is omitted.
	Relevance *GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum `json:"relevance,omitempty"`
}
