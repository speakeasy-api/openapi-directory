/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { EntityMapping } from "./entitymapping";
import { FunctionEntity } from "./functionentity";
import { PackageEntity } from "./packageentity";
import { SchemaEntity } from "./schemaentity";
import { SequenceEntity } from "./sequenceentity";
import { StoredProcedureEntity } from "./storedprocedureentity";
import { SynonymEntity } from "./synonymentity";
import { TableEntity } from "./tableentity";
import { ViewEntity } from "./viewentity";
import { Expose, Type } from "class-transformer";

/**
 * The type of the database entity (table, view, index, ...).
 */
export enum DatabaseEntityEntityTypeEnum {
  DatabaseEntityTypeUnspecified = "DATABASE_ENTITY_TYPE_UNSPECIFIED",
  DatabaseEntityTypeSchema = "DATABASE_ENTITY_TYPE_SCHEMA",
  DatabaseEntityTypeTable = "DATABASE_ENTITY_TYPE_TABLE",
  DatabaseEntityTypeColumn = "DATABASE_ENTITY_TYPE_COLUMN",
  DatabaseEntityTypeConstraint = "DATABASE_ENTITY_TYPE_CONSTRAINT",
  DatabaseEntityTypeIndex = "DATABASE_ENTITY_TYPE_INDEX",
  DatabaseEntityTypeTrigger = "DATABASE_ENTITY_TYPE_TRIGGER",
  DatabaseEntityTypeView = "DATABASE_ENTITY_TYPE_VIEW",
  DatabaseEntityTypeSequence = "DATABASE_ENTITY_TYPE_SEQUENCE",
  DatabaseEntityTypeStoredProcedure = "DATABASE_ENTITY_TYPE_STORED_PROCEDURE",
  DatabaseEntityTypeFunction = "DATABASE_ENTITY_TYPE_FUNCTION",
  DatabaseEntityTypeSynonym = "DATABASE_ENTITY_TYPE_SYNONYM",
  DatabaseEntityTypeDatabasePackage = "DATABASE_ENTITY_TYPE_DATABASE_PACKAGE",
  DatabaseEntityTypeUdt = "DATABASE_ENTITY_TYPE_UDT",
  DatabaseEntityTypeMaterialView = "DATABASE_ENTITY_TYPE_MATERIAL_VIEW",
  DatabaseEntityTypeDatabase = "DATABASE_ENTITY_TYPE_DATABASE",
}

/**
 * The type of tree the entity belongs to.
 */
export enum DatabaseEntityTreeEnum {
  TreeTypeUnspecified = "TREE_TYPE_UNSPECIFIED",
  Source = "SOURCE",
  Draft = "DRAFT",
  Destination = "DESTINATION",
}

/**
 * The base entity type for all the database related entities. The message contains the entity name, the name of its parent, the entity type, and the specific details per entity type.
 */
export class DatabaseEntity extends SpeakeasyBase {
  /**
   * Function's parent is a schema.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "databaseFunction" })
  @Type(() => FunctionEntity)
  databaseFunction?: FunctionEntity;

  /**
   * Package's parent is a schema.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "databasePackage" })
  @Type(() => PackageEntity)
  databasePackage?: PackageEntity;

  /**
   * The type of the database entity (table, view, index, ...).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "entityType" })
  entityType?: DatabaseEntityEntityTypeEnum;

  /**
   * Details about entity mappings. For source tree entities, this holds the draft entities which were generated by the mapping rules. For draft tree entities, this holds the source entities which were converted to form the draft entity. Destination entities will have no mapping details.
   */
  @SpeakeasyMetadata({ elemType: EntityMapping })
  @Expose({ name: "mappings" })
  @Type(() => EntityMapping)
  mappings?: EntityMapping[];

  /**
   * The full name of the parent entity (e.g. schema name).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "parentEntity" })
  parentEntity?: string;

  /**
   * Schema typically has no parent entity, but can have a parent entity DatabaseInstance (for database engines which support it). For some database engines, the terms schema and user can be used interchangeably when they refer to a namespace or a collection of other database entities. Can store additional information which is schema specific.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "schema" })
  @Type(() => SchemaEntity)
  schema?: SchemaEntity;

  /**
   * Sequence's parent is a schema.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "sequence" })
  @Type(() => SequenceEntity)
  sequence?: SequenceEntity;

  /**
   * The short name (e.g. table name) of the entity.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "shortName" })
  shortName?: string;

  /**
   * Stored procedure's parent is a schema.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "storedProcedure" })
  @Type(() => StoredProcedureEntity)
  storedProcedure?: StoredProcedureEntity;

  /**
   * Synonym's parent is a schema.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "synonym" })
  @Type(() => SynonymEntity)
  synonym?: SynonymEntity;

  /**
   * Table's parent is a schema.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "table" })
  @Type(() => TableEntity)
  table?: TableEntity;

  /**
   * The type of tree the entity belongs to.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "tree" })
  tree?: DatabaseEntityTreeEnum;

  /**
   * View's parent is a schema.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "view" })
  @Type(() => ViewEntity)
  view?: ViewEntity;
}
