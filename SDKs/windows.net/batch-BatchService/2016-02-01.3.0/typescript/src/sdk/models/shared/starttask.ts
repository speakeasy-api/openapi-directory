/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { EnvironmentSetting } from "./environmentsetting";
import { ResourceFile } from "./resourcefile";
import { Expose, Type } from "class-transformer";

/**
 * A task which is run when a compute node joins a pool in the Azure Batch service, or when the compute node is rebooted or reimaged.
 */
export class StartTask extends SpeakeasyBase {
  /**
   * The command line of the start task.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "commandLine" })
  commandLine?: string;

  /**
   * A list of environment variable settings for the start task.
   */
  @SpeakeasyMetadata({ elemType: EnvironmentSetting })
  @Expose({ name: "environmentSettings" })
  @Type(() => EnvironmentSetting)
  environmentSettings?: EnvironmentSetting[];

  /**
   * The maximum number of times the task may be retried.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "maxTaskRetryCount" })
  maxTaskRetryCount?: number;

  /**
   * A list of files that the Batch service will download to the compute node before running the command line.
   */
  @SpeakeasyMetadata({ elemType: ResourceFile })
  @Expose({ name: "resourceFiles" })
  @Type(() => ResourceFile)
  resourceFiles?: ResourceFile[];

  /**
   * Whether to run the start task in elevated mode. The default value is false.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "runElevated" })
  runElevated?: boolean;

  /**
   * Whether the Batch service should wait for the start task to complete successfully (that is, to exit with exit code 0) before scheduling any tasks on the compute node.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "waitForSuccess" })
  waitForSuccess?: boolean;
}
