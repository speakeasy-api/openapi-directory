"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
import dateutil.parser
from dataclasses_json import Undefined, dataclass_json
from datetime import datetime
from enum import Enum
from marshmallow import fields
from sdk import utils

class RealTimeDecisionCardAuthorizationDecisionEnum(str, Enum):
    r"""Whether or not the authorization was approved."""
    APPROVE = 'approve'
    DECLINE = 'decline'

class RealTimeDecisionCardAuthorizationNetworkEnum(str, Enum):
    r"""The payment network used to process this card authorization"""
    VISA = 'visa'

class RealTimeDecisionCardAuthorizationNetworkDetailsVisaElectronicCommerceIndicatorEnum(str, Enum):
    r"""For electronic commerce transactions, this identifies the level of security used in obtaining the customer's payment credential. For mail or telephone order transactions, identifies the type of mail or telephone order."""
    MAIL_PHONE_ORDER = 'mail_phone_order'
    RECURRING = 'recurring'
    INSTALLMENT = 'installment'
    UNKNOWN_MAIL_PHONE_ORDER = 'unknown_mail_phone_order'
    SECURE_ELECTRONIC_COMMERCE = 'secure_electronic_commerce'
    NON_AUTHENTICATED_SECURITY_TRANSACTION_AT_3DS_CAPABLE_MERCHANT = 'non_authenticated_security_transaction_at_3ds_capable_merchant'
    NON_AUTHENTICATED_SECURITY_TRANSACTION = 'non_authenticated_security_transaction'
    NON_SECURE_TRANSACTION = 'non_secure_transaction'

class RealTimeDecisionCardAuthorizationNetworkDetailsVisaPointOfServiceEntryModeEnum(str, Enum):
    r"""The method used to enter the cardholder's primary account number and card expiration date"""
    MANUAL = 'manual'
    MAGNETIC_STRIPE_NO_CVV = 'magnetic_stripe_no_cvv'
    OPTICAL_CODE = 'optical_code'
    INTEGRATED_CIRCUIT_CARD = 'integrated_circuit_card'
    CONTACTLESS = 'contactless'
    CREDENTIAL_ON_FILE = 'credential_on_file'
    MAGNETIC_STRIPE = 'magnetic_stripe'
    CONTACTLESS_MAGNETIC_STRIPE = 'contactless_magnetic_stripe'
    INTEGRATED_CIRCUIT_CARD_NO_CVV = 'integrated_circuit_card_no_cvv'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class RealTimeDecisionCardAuthorizationNetworkDetailsVisa:
    r"""Fields specific to the `visa` network"""
    
    electronic_commerce_indicator: RealTimeDecisionCardAuthorizationNetworkDetailsVisaElectronicCommerceIndicatorEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('electronic_commerce_indicator') }})
    r"""For electronic commerce transactions, this identifies the level of security used in obtaining the customer's payment credential. For mail or telephone order transactions, identifies the type of mail or telephone order."""  
    point_of_service_entry_mode: RealTimeDecisionCardAuthorizationNetworkDetailsVisaPointOfServiceEntryModeEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('point_of_service_entry_mode') }})
    r"""The method used to enter the cardholder's primary account number and card expiration date"""  
    

@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class RealTimeDecisionCardAuthorizationNetworkDetails:
    r"""Fields specific to the `network`"""
    
    visa: RealTimeDecisionCardAuthorizationNetworkDetailsVisa = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('visa') }})
    r"""Fields specific to the `visa` network"""  
    

@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class RealTimeDecisionCardAuthorization:
    r"""Fields related to a card authorization."""
    
    account_id: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('account_id') }})
    r"""The identifier of the Account the authorization will debit."""  
    card_id: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('card_id') }})
    r"""The identifier of the Card that is being authorized."""  
    decision: RealTimeDecisionCardAuthorizationDecisionEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('decision') }})
    r"""Whether or not the authorization was approved."""  
    merchant_acceptor_id: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('merchant_acceptor_id') }})
    r"""The merchant identifier (commonly abbreviated as MID) of the merchant the card is transacting with."""  
    merchant_category_code: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('merchant_category_code') }})
    r"""The Merchant Category Code (commonly abbreviated as MCC) of the merchant the card is transacting with."""  
    merchant_city: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('merchant_city') }})
    r"""The city the merchant resides in."""  
    merchant_country: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('merchant_country') }})
    r"""The country the merchant resides in."""  
    merchant_descriptor: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('merchant_descriptor') }})
    r"""The merchant descriptor of the merchant the card is transacting with."""  
    network: RealTimeDecisionCardAuthorizationNetworkEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('network') }})
    r"""The payment network used to process this card authorization"""  
    network_details: RealTimeDecisionCardAuthorizationNetworkDetails = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('network_details') }})
    r"""Fields specific to the `network`"""  
    presentment_amount: int = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('presentment_amount') }})
    r"""The amount of the attempted authorization in the currency the card user sees at the time of purchase, in the minor unit of that currency. For dollars, for example, this is cents."""  
    presentment_currency: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('presentment_currency') }})
    r"""The [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) code for the currency the user sees at the time of purchase."""  
    settlement_amount: int = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('settlement_amount') }})
    r"""The amount of the attempted authorization in the currency it will be settled in. This currency is the same as that of the Account the card belongs to."""  
    settlement_currency: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('settlement_currency') }})
    r"""The [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) code for the currency the transaction will be settled in."""  
    
class RealTimeDecisionCategoryEnum(str, Enum):
    r"""The category of the Real-Time Decision."""
    CARD_AUTHORIZATION_REQUESTED = 'card_authorization_requested'
    DIGITAL_WALLET_TOKEN_REQUESTED = 'digital_wallet_token_requested'
    DIGITAL_WALLET_AUTHENTICATION_REQUESTED = 'digital_wallet_authentication_requested'

class RealTimeDecisionDigitalWalletAuthenticationChannelEnum(str, Enum):
    r"""The channel to send the card user their one-time passcode."""
    SMS = 'sms'
    EMAIL = 'email'

class RealTimeDecisionDigitalWalletAuthenticationDigitalWalletEnum(str, Enum):
    r"""The digital wallet app being used."""
    APPLE_PAY = 'apple_pay'
    GOOGLE_PAY = 'google_pay'

class RealTimeDecisionDigitalWalletAuthenticationResultEnum(str, Enum):
    r"""Whether your application successfully delivered the one-time passcode."""
    SUCCESS = 'success'
    FAILURE = 'failure'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class RealTimeDecisionDigitalWalletAuthentication:
    r"""Fields related to a digital wallet authentication attempt."""
    
    card_id: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('card_id') }})
    r"""The identifier of the Card that is being tokenized."""  
    channel: RealTimeDecisionDigitalWalletAuthenticationChannelEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('channel') }})
    r"""The channel to send the card user their one-time passcode."""  
    digital_wallet: RealTimeDecisionDigitalWalletAuthenticationDigitalWalletEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('digital_wallet') }})
    r"""The digital wallet app being used."""  
    email: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('email') }})
    r"""The email to send the one-time passcode to if `channel` is equal to `email`."""  
    one_time_passcode: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('one_time_passcode') }})
    r"""The one-time passcode to send the card user."""  
    phone: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('phone') }})
    r"""The phone number to send the one-time passcode to if `channel` is equal to `sms`."""  
    result: RealTimeDecisionDigitalWalletAuthenticationResultEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('result') }})
    r"""Whether your application successfully delivered the one-time passcode."""  
    
class RealTimeDecisionDigitalWalletTokenDecisionEnum(str, Enum):
    r"""Whether or not the provisioning request was approved. This will be null until the real time decision is responded to."""
    APPROVE = 'approve'
    DECLINE = 'decline'

class RealTimeDecisionDigitalWalletTokenDigitalWalletEnum(str, Enum):
    r"""The digital wallet app being used."""
    APPLE_PAY = 'apple_pay'
    GOOGLE_PAY = 'google_pay'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class RealTimeDecisionDigitalWalletToken:
    r"""Fields related to a digital wallet token provisioning attempt."""
    
    card_id: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('card_id') }})
    r"""The identifier of the Card that is being tokenized."""  
    card_profile_id: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('card_profile_id') }})
    r"""The identifier of the Card Profile that was set via the real time decision. This will be null until the real time decision is responded to or if the real time decision did not set a card profile."""  
    decision: RealTimeDecisionDigitalWalletTokenDecisionEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('decision') }})
    r"""Whether or not the provisioning request was approved. This will be null until the real time decision is responded to."""  
    digital_wallet: RealTimeDecisionDigitalWalletTokenDigitalWalletEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('digital_wallet') }})
    r"""The digital wallet app being used."""  
    
class RealTimeDecisionStatusEnum(str, Enum):
    r"""The status of the Real-Time Decision."""
    PENDING = 'pending'
    RESPONDED = 'responded'
    TIMED_OUT = 'timed_out'

class RealTimeDecisionTypeEnum(str, Enum):
    r"""A constant representing the object's type. For this resource it will always be `real_time_decision`."""
    REAL_TIME_DECISION = 'real_time_decision'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class RealTimeDecision:
    r"""Real Time Decisions are created when your application needs to take action in real-time to some event such as a card authorization. Real time decisions are currently in beta; please contact support@increase.com if you're interested in trying them out!"""
    
    card_authorization: RealTimeDecisionCardAuthorization = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('card_authorization') }})
    r"""Fields related to a card authorization."""  
    category: RealTimeDecisionCategoryEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('category') }})
    r"""The category of the Real-Time Decision."""  
    created_at: datetime = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('created_at'), 'encoder': utils.datetimeisoformat(False), 'decoder': dateutil.parser.isoparse, 'mm_field': fields.DateTime(format='iso') }})
    r"""The [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) date and time at which the Real-Time Decision was created."""  
    digital_wallet_authentication: RealTimeDecisionDigitalWalletAuthentication = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('digital_wallet_authentication') }})
    r"""Fields related to a digital wallet authentication attempt."""  
    digital_wallet_token: RealTimeDecisionDigitalWalletToken = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('digital_wallet_token') }})
    r"""Fields related to a digital wallet token provisioning attempt."""  
    id: str = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('id') }})
    r"""The Real-Time Decision identifier."""  
    status: RealTimeDecisionStatusEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('status') }})
    r"""The status of the Real-Time Decision."""  
    timeout_at: datetime = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('timeout_at'), 'encoder': utils.datetimeisoformat(False), 'decoder': dateutil.parser.isoparse, 'mm_field': fields.DateTime(format='iso') }})
    r"""The [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) date and time at which your application can no longer respond to the Real-Time Decision."""  
    type: RealTimeDecisionTypeEnum = dataclasses.field(metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('type') }})
    r"""A constant representing the object's type. For this resource it will always be `real_time_decision`."""  
    