"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
from ..shared import googlecloudpolicytroubleshooterv1betabindingexplanation as shared_googlecloudpolicytroubleshooterv1betabindingexplanation
from ..shared import googleiamv1policy as shared_googleiamv1policy
from dataclasses_json import Undefined, dataclass_json
from enum import Enum
from sdk import utils
from typing import Optional

class GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum(str, Enum):
    r"""Indicates whether _this policy_ provides the specified permission to the specified member for the specified resource. This field does _not_ indicate whether the member actually has the permission for the resource. There might be another policy that overrides this policy. To determine whether the member actually has the permission, use the `access` field in the TroubleshootIamPolicyResponse."""
    ACCESS_STATE_UNSPECIFIED = 'ACCESS_STATE_UNSPECIFIED'
    GRANTED = 'GRANTED'
    NOT_GRANTED = 'NOT_GRANTED'
    UNKNOWN_CONDITIONAL = 'UNKNOWN_CONDITIONAL'
    UNKNOWN_INFO_DENIED = 'UNKNOWN_INFO_DENIED'

class GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum(str, Enum):
    r"""The relevance of this policy to the overall determination in the TroubleshootIamPolicyResponse. If the sender of the request does not have access to the policy, this field is omitted."""
    HEURISTIC_RELEVANCE_UNSPECIFIED = 'HEURISTIC_RELEVANCE_UNSPECIFIED'
    NORMAL = 'NORMAL'
    HIGH = 'HIGH'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class GoogleCloudPolicytroubleshooterV1betaExplainedPolicy:
    r"""Details about how a specific IAM Policy contributed to the access check."""
    
    access: Optional[GoogleCloudPolicytroubleshooterV1betaExplainedPolicyAccessEnum] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('access'), 'exclude': lambda f: f is None }})
    r"""Indicates whether _this policy_ provides the specified permission to the specified member for the specified resource. This field does _not_ indicate whether the member actually has the permission for the resource. There might be another policy that overrides this policy. To determine whether the member actually has the permission, use the `access` field in the TroubleshootIamPolicyResponse."""  
    binding_explanations: Optional[list[shared_googlecloudpolicytroubleshooterv1betabindingexplanation.GoogleCloudPolicytroubleshooterV1betaBindingExplanation]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('bindingExplanations'), 'exclude': lambda f: f is None }})
    r"""Details about how each binding in the policy affects the member's ability, or inability, to use the permission for the resource. If the sender of the request does not have access to the policy, this field is omitted."""  
    full_resource_name: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('fullResourceName'), 'exclude': lambda f: f is None }})
    r"""The full resource name that identifies the resource. For example, `//compute.googleapis.com/projects/my-project/zones/us-central1-a/instances/my-instance`. If the sender of the request does not have access to the policy, this field is omitted. For examples of full resource names for Google Cloud services, see https://cloud.google.com/iam/help/troubleshooter/full-resource-names."""  
    policy: Optional[shared_googleiamv1policy.GoogleIamV1Policy] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('policy'), 'exclude': lambda f: f is None }})
    r"""An Identity and Access Management (IAM) policy, which specifies access controls for Google Cloud resources. A `Policy` is a collection of `bindings`. A `binding` binds one or more `members`, or principals, to a single `role`. Principals can be user accounts, service accounts, Google groups, and domains (such as G Suite). A `role` is a named list of permissions; each `role` can be an IAM predefined role or a user-created custom role. For some types of Google Cloud resources, a `binding` can also specify a `condition`, which is a logical expression that allows access to a resource only if the expression evaluates to `true`. A condition can add constraints based on attributes of the request, the resource, or both. To learn which resources support conditions in their IAM policies, see the [IAM documentation](https://cloud.google.com/iam/help/conditions/resource-policies). **JSON example:** { \\"bindings\\": [ { \\"role\\": \\"roles/resourcemanager.organizationAdmin\\", \\"members\\": [ \\"user:mike@example.com\\", \\"group:admins@example.com\\", \\"domain:google.com\\", \\"serviceAccount:my-project-id@appspot.gserviceaccount.com\\" ] }, { \\"role\\": \\"roles/resourcemanager.organizationViewer\\", \\"members\\": [ \\"user:eve@example.com\\" ], \\"condition\\": { \\"title\\": \\"expirable access\\", \\"description\\": \\"Does not grant access after Sep 2020\\", \\"expression\\": \\"request.time < timestamp('2020-10-01T00:00:00.000Z')\\", } } ], \\"etag\\": \\"BwWWja0YfJA=\\", \\"version\\": 3 } **YAML example:** bindings: - members: - user:mike@example.com - group:admins@example.com - domain:google.com - serviceAccount:my-project-id@appspot.gserviceaccount.com role: roles/resourcemanager.organizationAdmin - members: - user:eve@example.com role: roles/resourcemanager.organizationViewer condition: title: expirable access description: Does not grant access after Sep 2020 expression: request.time < timestamp('2020-10-01T00:00:00.000Z') etag: BwWWja0YfJA= version: 3 For a description of IAM and its features, see the [IAM documentation](https://cloud.google.com/iam/docs/)."""  
    relevance: Optional[GoogleCloudPolicytroubleshooterV1betaExplainedPolicyRelevanceEnum] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('relevance'), 'exclude': lambda f: f is None }})
    r"""The relevance of this policy to the overall determination in the TroubleshootIamPolicyResponse. If the sender of the request does not have access to the policy, this field is omitted."""  
    