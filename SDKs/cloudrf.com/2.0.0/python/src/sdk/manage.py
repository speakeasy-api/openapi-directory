"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

import requests as requests_http
from . import utils
from sdk.models import operations

class Manage:
    _client: requests_http.Session
    _security_client: requests_http.Session
    _server_url: str
    _language: str
    _sdk_version: str
    _gen_version: str

    def __init__(self, client: requests_http.Session, security_client: requests_http.Session, server_url: str, language: str, sdk_version: str, gen_version: str) -> None:
        self._client = client
        self._security_client = security_client
        self._server_url = server_url
        self._language = language
        self._sdk_version = sdk_version
        self._gen_version = gen_version
        
    def add_clutter(self, request: operations.AddClutterRequestBody, security: operations.AddClutterSecurity) -> operations.AddClutterResponse:
        r"""Upload clutter data as GeoJSON
        Upload GeoJSON lineString and polygon features to your account. The height property is in metres and the material code / type / attenuation are.. 1	Trees –	0.25,2Trees +	0.5,3	Timber –	1.0,4	Timber +	1.5,5	Brick – 	1.5,6	Brick +	2.0,7	Concrete –	3.0,8	Concrete +	4.0,9	Metal	6.0
        """
        base_url = self._server_url
        
        url = base_url.removesuffix('/') + '/clutter/add'
        
        headers = {}
        req_content_type, data, form = utils.serialize_request_body(request, "request", 'json')
        if req_content_type not in ('multipart/form-data', 'multipart/mixed'):
            headers['content-type'] = req_content_type
        if data is None and form is None:
            raise Exception('request body is required')
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('POST', url, data=data, files=form, headers=headers)
        content_type = http_res.headers.get('Content-Type')

        res = operations.AddClutterResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        

        return res

    def delete(self, request: operations.DeleteRequest, security: operations.DeleteSecurity) -> operations.DeleteResponse:
        r"""Delete a calculation from the database.
        Warning! you could lose data. This function will delete the entry from the database and the file from the disk. Accidental deletion can be reversed by contacting support with biscuits who maintain an offsite backup.
        """
        base_url = self._server_url
        
        url = base_url.removesuffix('/') + '/archive/delete'
        
        query_params = utils.get_query_params(operations.DeleteRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.DeleteResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        

        return res

    def delete_network(self, request: operations.DeleteNetworkRequest, security: operations.DeleteNetworkSecurity) -> operations.DeleteNetworkResponse:
        r"""Delete an entire network
        Warning! you could lose data. This function will delete the entry from the database and the file from the disk. Accidental deletion can be reversed by contacting support with biscuits who maintain an offsite backup.
        """
        base_url = self._server_url
        
        url = base_url.removesuffix('/') + '/archive/delete/network'
        
        query_params = utils.get_query_params(operations.DeleteNetworkRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.DeleteNetworkResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        

        return res

    def export(self, request: operations.ExportRequest, security: operations.ExportSecurity) -> operations.ExportResponse:
        r"""Export a calculation in a GIS file format
        Download your data in a format suitable for a third party viewer like Google Earth or ESRI Arcmap.
        """
        base_url = self._server_url
        
        url = base_url.removesuffix('/') + '/archive/export'
        
        query_params = utils.get_query_params(operations.ExportRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.ExportResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        

        return res

    def list(self, request: operations.ListRequest, security: operations.ListSecurity) -> operations.ListResponse:
        r"""List calculations from your archive
        List your area and path calculations, sorted by time and limited to the last few hundred. To fetch all for a given network append a 'net' filter with the network name.
        """
        base_url = self._server_url
        
        url = base_url.removesuffix('/') + '/archive/list'
        
        query_params = utils.get_query_params(operations.ListRequest, request)
        
        client = utils.configure_security_client(self._client, security)
        
        http_res = client.request('GET', url, params=query_params)
        content_type = http_res.headers.get('Content-Type')

        res = operations.ListResponse(status_code=http_res.status_code, content_type=content_type, raw_response=http_res)
        

        return res

    