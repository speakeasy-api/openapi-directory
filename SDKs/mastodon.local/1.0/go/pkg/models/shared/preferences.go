// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// PreferencesPostingDefaultVisibilityEnum - Default visibility for new posts. Equivalent to [Source#privacy](https://docs.joinmastodon.org/entities/source/#privacy).
type PreferencesPostingDefaultVisibilityEnum string

const (
	PreferencesPostingDefaultVisibilityEnumPublic   PreferencesPostingDefaultVisibilityEnum = "public"
	PreferencesPostingDefaultVisibilityEnumUnlisted PreferencesPostingDefaultVisibilityEnum = "unlisted"
	PreferencesPostingDefaultVisibilityEnumPrivate  PreferencesPostingDefaultVisibilityEnum = "private"
	PreferencesPostingDefaultVisibilityEnumDirect   PreferencesPostingDefaultVisibilityEnum = "direct"
)

func (e *PreferencesPostingDefaultVisibilityEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "public":
		fallthrough
	case "unlisted":
		fallthrough
	case "private":
		fallthrough
	case "direct":
		*e = PreferencesPostingDefaultVisibilityEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for PreferencesPostingDefaultVisibilityEnum: %s", s)
	}
}

// PreferencesReadingExpandMediaEnum - Whether media attachments should be automatically displayed or blurred/hidden.
type PreferencesReadingExpandMediaEnum string

const (
	PreferencesReadingExpandMediaEnumDefault PreferencesReadingExpandMediaEnum = "default"
	PreferencesReadingExpandMediaEnumShowAll PreferencesReadingExpandMediaEnum = "show_all"
	PreferencesReadingExpandMediaEnumHideAll PreferencesReadingExpandMediaEnum = "hide_all"
)

func (e *PreferencesReadingExpandMediaEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "default":
		fallthrough
	case "show_all":
		fallthrough
	case "hide_all":
		*e = PreferencesReadingExpandMediaEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for PreferencesReadingExpandMediaEnum: %s", s)
	}
}

// Preferences - Represents a user's preferences.
// https://docs.joinmastodon.org/entities/preferences/
type Preferences struct {
	// Default language for new posts. Equivalent to [Source#language](https://docs.joinmastodon.org/entities/source/#language). ISO 639-1 language two-letter code, or null
	PostingDefaultLanguage *string `json:"posting:default:language,omitempty"`
	// Default sensitivity flag for new posts. Equivalent to [Source#sensitive](https://docs.joinmastodon.org/entities/source/#sensitive).
	PostingDefaultSensitive *bool `json:"posting:default:sensitive,omitempty"`
	// Default visibility for new posts. Equivalent to [Source#privacy](https://docs.joinmastodon.org/entities/source/#privacy).
	PostingDefaultVisibility *PreferencesPostingDefaultVisibilityEnum `json:"posting:default:visibility,omitempty"`
	// Whether media attachments should be automatically displayed or blurred/hidden.
	ReadingExpandMedia *PreferencesReadingExpandMediaEnum `json:"reading:expand:media,omitempty"`
	// Whether CWs should be expanded by default.
	ReadingExpandSpoilers *bool `json:"reading:expand:spoilers,omitempty"`
}
