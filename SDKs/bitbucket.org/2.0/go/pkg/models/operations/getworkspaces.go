// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"net/http"
	"openapi/pkg/models/shared"
)

type GetWorkspacesSecurity struct {
	APIKey *shared.SchemeAPIKey `security:"scheme,type=apiKey,subtype=header"`
	Basic  *shared.SchemeBasic  `security:"scheme,type=http,subtype=basic"`
	Oauth2 *shared.SchemeOauth2 `security:"scheme,type=oauth2"`
}

// GetWorkspacesRoleEnum -
//
//	Filters the workspaces based on the authenticated user's role on each workspace.
//
//	* **member**: returns a list of all the workspaces which the caller is a member of
//	    at least one workspace group or repository
//	* **collaborator**: returns a list of workspaces which the caller has write access
//	    to at least one repository in the workspace
//	* **owner**: returns a list of workspaces which the caller has administrator access
type GetWorkspacesRoleEnum string

const (
	GetWorkspacesRoleEnumOwner        GetWorkspacesRoleEnum = "owner"
	GetWorkspacesRoleEnumCollaborator GetWorkspacesRoleEnum = "collaborator"
	GetWorkspacesRoleEnumMember       GetWorkspacesRoleEnum = "member"
)

func (e *GetWorkspacesRoleEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "owner":
		fallthrough
	case "collaborator":
		fallthrough
	case "member":
		*e = GetWorkspacesRoleEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for GetWorkspacesRoleEnum: %s", s)
	}
}

type GetWorkspacesQueryParams struct {
	// Query string to narrow down the response. See
	// [filtering and sorting](../meta/filtering) for details.
	Q *string `queryParam:"style=form,explode=true,name=q"`
	//             Filters the workspaces based on the authenticated user's role on each workspace.
	//
	//             * **member**: returns a list of all the workspaces which the caller is a member of
	//                 at least one workspace group or repository
	//             * **collaborator**: returns a list of workspaces which the caller has write access
	//                 to at least one repository in the workspace
	//             * **owner**: returns a list of workspaces which the caller has administrator access
	//
	Role *GetWorkspacesRoleEnum `queryParam:"style=form,explode=true,name=role"`
	// Name of a response property to sort results. See
	// [filtering and sorting](../meta/filtering#query-sort)
	// for details.
	//
	Sort *string `queryParam:"style=form,explode=true,name=sort"`
}

type GetWorkspacesRequest struct {
	QueryParams GetWorkspacesQueryParams
	Security    GetWorkspacesSecurity
}

type GetWorkspacesResponse struct {
	ContentType string
	StatusCode  int
	RawResponse *http.Response
	// The request wasn't authenticated.
	Error map[string]interface{}
	// The list of workspaces accessible by the authenticated user.
	PaginatedWorkspaces *shared.PaginatedWorkspaces
}
