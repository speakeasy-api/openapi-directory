"""Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT."""

from __future__ import annotations
import dataclasses
import dateutil.parser
from ..shared import applicationpackagereference as shared_applicationpackagereference
from ..shared import autoscalerun as shared_autoscalerun
from ..shared import certificatereference as shared_certificatereference
from ..shared import metadataitem as shared_metadataitem
from ..shared import poolstatistics as shared_poolstatistics
from ..shared import resizeerror as shared_resizeerror
from ..shared import starttask as shared_starttask
from ..shared import taskschedulingpolicy as shared_taskschedulingpolicy
from dataclasses_json import Undefined, dataclass_json
from datetime import datetime
from enum import Enum
from marshmallow import fields
from sdk import utils
from typing import Optional

class CloudPoolAllocationStateEnum(str, Enum):
    r"""Gets or sets whether the pool is resizing."""
    STEADY = 'steady'
    RESIZING = 'resizing'
    STOPPING = 'stopping'

class CloudPoolStateEnum(str, Enum):
    r"""Gets or sets the current state of the pool."""
    ACTIVE = 'active'
    DELETING = 'deleting'
    UPGRADING = 'upgrading'


@dataclass_json(undefined=Undefined.EXCLUDE)
@dataclasses.dataclass
class CloudPool:
    r"""A pool in the Azure Batch service."""
    
    allocation_state: Optional[CloudPoolAllocationStateEnum] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('allocationState'), 'exclude': lambda f: f is None }})
    r"""Gets or sets whether the pool is resizing."""  
    allocation_state_transition_time: Optional[datetime] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('allocationStateTransitionTime'), 'encoder': utils.datetimeisoformat(True), 'decoder': dateutil.parser.isoparse, 'mm_field': fields.DateTime(format='iso'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the time at which the pool entered its current allocation state."""  
    application_package_references: Optional[list[shared_applicationpackagereference.ApplicationPackageReference]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('applicationPackageReferences'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the list of application packages to be installed on each compute node in the pool."""  
    auto_scale_evaluation_interval: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('autoScaleEvaluationInterval'), 'exclude': lambda f: f is None }})
    r"""Gets or sets a time interval for the desired AutoScale evaluation period in the pool."""  
    auto_scale_formula: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('autoScaleFormula'), 'exclude': lambda f: f is None }})
    r"""Gets or sets a formula for the desired number of compute nodes in the pool."""  
    auto_scale_run: Optional[shared_autoscalerun.AutoScaleRun] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('autoScaleRun'), 'exclude': lambda f: f is None }})
    r"""The results and errors from an execution of a pool autoscale formula."""  
    certificate_references: Optional[list[shared_certificatereference.CertificateReference]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('certificateReferences'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the list of certificates to be installed on each compute node in the pool."""  
    creation_time: Optional[datetime] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('creationTime'), 'encoder': utils.datetimeisoformat(True), 'decoder': dateutil.parser.isoparse, 'mm_field': fields.DateTime(format='iso'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the creation time of the pool."""  
    current_dedicated: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('currentDedicated'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the number of compute nodes currently in the pool."""  
    current_os_version: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('currentOSVersion'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the Azure Guest OS Version currently installed on the virtual machines in the pool. This may differ from TargetOSVersion if the pool state is Upgrading."""  
    display_name: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('displayName'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the display name for the pool."""  
    enable_auto_scale: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('enableAutoScale'), 'exclude': lambda f: f is None }})
    r"""Gets or sets whether the pool size should automatically adjust over time. If true, the AutoScaleFormula property must be set. If false, the TargetDedicated property must be set."""  
    enable_inter_node_communication: Optional[bool] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('enableInterNodeCommunication'), 'exclude': lambda f: f is None }})
    r"""Gets or sets whether the pool permits direct communication between nodes."""  
    e_tag: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('eTag'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the ETag of the pool."""  
    id: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('id'), 'exclude': lambda f: f is None }})
    r"""Gets or sets a string that uniquely identifies the pool within the account. The id can contain any combination of alphanumeric characters including hyphens and underscores, and cannot contain more than 64 characters."""  
    last_modified: Optional[datetime] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('lastModified'), 'encoder': utils.datetimeisoformat(True), 'decoder': dateutil.parser.isoparse, 'mm_field': fields.DateTime(format='iso'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the last modified time of the pool."""  
    max_tasks_per_node: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('maxTasksPerNode'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the maximum number of tasks that can run concurrently on a single compute node in the pool."""  
    metadata: Optional[list[shared_metadataitem.MetadataItem]] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('metadata'), 'exclude': lambda f: f is None }})
    r"""Gets or sets a list of name-value pairs associated with the pool as metadata."""  
    os_family: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('osFamily'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the Azure Guest OS family to be installed on the virtual machines in the pool."""  
    resize_error: Optional[shared_resizeerror.ResizeError] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('resizeError'), 'exclude': lambda f: f is None }})
    r"""An error that occurred when resizing a pool."""  
    resize_timeout: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('resizeTimeout'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the timeout for allocation of compute nodes to the pool. In a Get Pool operation, this is the timeout for the most recent resize operation. The default value is 10 minutes."""  
    start_task: Optional[shared_starttask.StartTask] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('startTask'), 'exclude': lambda f: f is None }})
    r"""A task defined on a pool and run by compute nodes when they join the pool."""  
    state: Optional[CloudPoolStateEnum] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('state'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the current state of the pool."""  
    state_transition_time: Optional[datetime] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('stateTransitionTime'), 'encoder': utils.datetimeisoformat(True), 'decoder': dateutil.parser.isoparse, 'mm_field': fields.DateTime(format='iso'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the time at which the pool entered its current state."""  
    stats: Optional[shared_poolstatistics.PoolStatistics] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('stats'), 'exclude': lambda f: f is None }})
    r"""Contains utilization and resource usage statistics for the lifetime of a pool."""  
    target_dedicated: Optional[int] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('targetDedicated'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the desired number of compute nodes in the pool. This property must have the default value if EnableAutoScale is true. It is required if EnableAutoScale is false."""  
    target_os_version: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('targetOSVersion'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the Azure Guest OS version to be installed on the virtual machines in the pool. The default value is * which specifies the latest operating system version for the specified family."""  
    task_scheduling_policy: Optional[shared_taskschedulingpolicy.TaskSchedulingPolicy] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('taskSchedulingPolicy'), 'exclude': lambda f: f is None }})
    r"""Specifies how tasks should be distributed across compute nodes."""  
    url: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('url'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the URL of the pool."""  
    vm_size: Optional[str] = dataclasses.field(default=None, metadata={'dataclasses_json': { 'letter_case': utils.get_field_name('vmSize'), 'exclude': lambda f: f is None }})
    r"""Gets or sets the size of virtual machines in the pool.  All VMs in a pool are the same size."""  
    