/* 
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

package org.openapis.openapi.models.shared;

import com.fasterxml.jackson.annotation.JsonProperty;

/**
 * Canary - The configuration of the canary mode for a service descriptor
 */
public class Canary {
    /**
     * Use canary mode for this service
     */
    @JsonProperty("enabled")
    public Boolean enabled;
    public Canary withEnabled(Boolean enabled) {
        this.enabled = enabled;
        return this;
    }
    
    /**
     * Otoroshi will append this root to any target choosen. If the specified root is '/api/foo', then a request to https://yyyyyyy/bar will actually hit https://xxxxxxxxx/api/foo/bar
     */
    @JsonProperty("root")
    public String root;
    public Canary withRoot(String root) {
        this.root = root;
        return this;
    }
    
    /**
     * The list of target that Otoroshi will proxy and expose through the subdomain defined before. Otoroshi will do round-robin load balancing between all those targets with circuit breaker mecanism to avoid cascading failures
     */
    @JsonProperty("targets")
    public Target[] targets;
    public Canary withTargets(Target[] targets) {
        this.targets = targets;
        return this;
    }
    
    /**
     * Ratio of traffic that will be sent to canary targets.
     */
    @JsonProperty("traffic")
    public Integer traffic;
    public Canary withTraffic(Integer traffic) {
        this.traffic = traffic;
        return this;
    }
    
}
