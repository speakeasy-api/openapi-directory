// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// SubscriptionOfferInput - A single, temporary offer
type SubscriptionOfferInput struct {
	// Required. Immutable. The ID of the base plan to which this offer is an extension.
	BasePlanID *string `json:"basePlanId,omitempty"`
	// Required. Immutable. Unique ID of this subscription offer. Must be unique within the base plan.
	OfferID *string `json:"offerId,omitempty"`
	// List of up to 20 custom tags specified for this offer, and returned to the app through the billing library.
	OfferTags []OfferTag `json:"offerTags,omitempty"`
	// Configuration for any new locations Play may launch in specified on a subscription offer.
	OtherRegionsConfig *OtherRegionsSubscriptionOfferConfig `json:"otherRegionsConfig,omitempty"`
	// Required. Immutable. The package name of the app the parent subscription belongs to.
	PackageName *string `json:"packageName,omitempty"`
	// Required. The phases of this subscription offer. Must contain at least one entry, and may contain at most five. Users will always receive all these phases in the specified order. Phases may not be added, removed, or reordered after initial creation.
	Phases []SubscriptionOfferPhase `json:"phases,omitempty"`
	// Required. Immutable. The ID of the parent subscription this offer belongs to.
	ProductID *string `json:"productId,omitempty"`
	// Required. The region-specific configuration of this offer. Must contain at least one entry.
	RegionalConfigs []RegionalSubscriptionOfferConfig `json:"regionalConfigs,omitempty"`
	// Defines the rule a user needs to satisfy to receive this offer.
	Targeting *SubscriptionOfferTargeting `json:"targeting,omitempty"`
}

// SubscriptionOfferStateEnum - Output only. The current state of this offer. Can be changed using Activate and Deactivate actions. NB: the base plan state supersedes this state, so an active offer may not be available if the base plan is not active.
type SubscriptionOfferStateEnum string

const (
	SubscriptionOfferStateEnumStateUnspecified SubscriptionOfferStateEnum = "STATE_UNSPECIFIED"
	SubscriptionOfferStateEnumDraft            SubscriptionOfferStateEnum = "DRAFT"
	SubscriptionOfferStateEnumActive           SubscriptionOfferStateEnum = "ACTIVE"
	SubscriptionOfferStateEnumInactive         SubscriptionOfferStateEnum = "INACTIVE"
)

func (e SubscriptionOfferStateEnum) ToPointer() *SubscriptionOfferStateEnum {
	return &e
}

func (e *SubscriptionOfferStateEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "STATE_UNSPECIFIED":
		fallthrough
	case "DRAFT":
		fallthrough
	case "ACTIVE":
		fallthrough
	case "INACTIVE":
		*e = SubscriptionOfferStateEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SubscriptionOfferStateEnum: %v", v)
	}
}

// SubscriptionOffer - A single, temporary offer
type SubscriptionOffer struct {
	// Required. Immutable. The ID of the base plan to which this offer is an extension.
	BasePlanID *string `json:"basePlanId,omitempty"`
	// Required. Immutable. Unique ID of this subscription offer. Must be unique within the base plan.
	OfferID *string `json:"offerId,omitempty"`
	// List of up to 20 custom tags specified for this offer, and returned to the app through the billing library.
	OfferTags []OfferTag `json:"offerTags,omitempty"`
	// Configuration for any new locations Play may launch in specified on a subscription offer.
	OtherRegionsConfig *OtherRegionsSubscriptionOfferConfig `json:"otherRegionsConfig,omitempty"`
	// Required. Immutable. The package name of the app the parent subscription belongs to.
	PackageName *string `json:"packageName,omitempty"`
	// Required. The phases of this subscription offer. Must contain at least one entry, and may contain at most five. Users will always receive all these phases in the specified order. Phases may not be added, removed, or reordered after initial creation.
	Phases []SubscriptionOfferPhase `json:"phases,omitempty"`
	// Required. Immutable. The ID of the parent subscription this offer belongs to.
	ProductID *string `json:"productId,omitempty"`
	// Required. The region-specific configuration of this offer. Must contain at least one entry.
	RegionalConfigs []RegionalSubscriptionOfferConfig `json:"regionalConfigs,omitempty"`
	// Output only. The current state of this offer. Can be changed using Activate and Deactivate actions. NB: the base plan state supersedes this state, so an active offer may not be available if the base plan is not active.
	State *SubscriptionOfferStateEnum `json:"state,omitempty"`
	// Defines the rule a user needs to satisfy to receive this offer.
	Targeting *SubscriptionOfferTargeting `json:"targeting,omitempty"`
}
