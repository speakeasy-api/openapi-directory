// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// VerifyJobRunFailureCauseEnum - Output only. The reason the verify failed. This will always be unspecified while the verify is in progress or if it succeeded.
type VerifyJobRunFailureCauseEnum string

const (
	VerifyJobRunFailureCauseEnumFailureCauseUnspecified    VerifyJobRunFailureCauseEnum = "FAILURE_CAUSE_UNSPECIFIED"
	VerifyJobRunFailureCauseEnumCloudBuildUnavailable      VerifyJobRunFailureCauseEnum = "CLOUD_BUILD_UNAVAILABLE"
	VerifyJobRunFailureCauseEnumExecutionFailed            VerifyJobRunFailureCauseEnum = "EXECUTION_FAILED"
	VerifyJobRunFailureCauseEnumDeadlineExceeded           VerifyJobRunFailureCauseEnum = "DEADLINE_EXCEEDED"
	VerifyJobRunFailureCauseEnumVerificationConfigNotFound VerifyJobRunFailureCauseEnum = "VERIFICATION_CONFIG_NOT_FOUND"
	VerifyJobRunFailureCauseEnumCloudBuildRequestFailed    VerifyJobRunFailureCauseEnum = "CLOUD_BUILD_REQUEST_FAILED"
)

func (e VerifyJobRunFailureCauseEnum) ToPointer() *VerifyJobRunFailureCauseEnum {
	return &e
}

func (e *VerifyJobRunFailureCauseEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "FAILURE_CAUSE_UNSPECIFIED":
		fallthrough
	case "CLOUD_BUILD_UNAVAILABLE":
		fallthrough
	case "EXECUTION_FAILED":
		fallthrough
	case "DEADLINE_EXCEEDED":
		fallthrough
	case "VERIFICATION_CONFIG_NOT_FOUND":
		fallthrough
	case "CLOUD_BUILD_REQUEST_FAILED":
		*e = VerifyJobRunFailureCauseEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for VerifyJobRunFailureCauseEnum: %v", v)
	}
}

// VerifyJobRun - VerifyJobRun contains information specific to a verify `JobRun`.
type VerifyJobRun struct {
	// Output only. URI of a directory containing the verify artifacts. This contains the Skaffold event log.
	ArtifactURI *string `json:"artifactUri,omitempty"`
	// Output only. The resource name of the Cloud Build `Build` object that is used to verify. Format is projects/{project}/locations/{location}/builds/{build}.
	Build *string `json:"build,omitempty"`
	// Output only. File path of the Skaffold event log relative to the artifact URI.
	EventLogPath *string `json:"eventLogPath,omitempty"`
	// Output only. The reason the verify failed. This will always be unspecified while the verify is in progress or if it succeeded.
	FailureCause *VerifyJobRunFailureCauseEnum `json:"failureCause,omitempty"`
	// Output only. Additional information about the verify failure, if available.
	FailureMessage *string `json:"failureMessage,omitempty"`
}
