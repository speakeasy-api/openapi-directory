// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// SubscriptionPurchaseV2AcknowledgementStateEnum - The acknowledgement state of the subscription.
type SubscriptionPurchaseV2AcknowledgementStateEnum string

const (
	SubscriptionPurchaseV2AcknowledgementStateEnumAcknowledgementStateUnspecified  SubscriptionPurchaseV2AcknowledgementStateEnum = "ACKNOWLEDGEMENT_STATE_UNSPECIFIED"
	SubscriptionPurchaseV2AcknowledgementStateEnumAcknowledgementStatePending      SubscriptionPurchaseV2AcknowledgementStateEnum = "ACKNOWLEDGEMENT_STATE_PENDING"
	SubscriptionPurchaseV2AcknowledgementStateEnumAcknowledgementStateAcknowledged SubscriptionPurchaseV2AcknowledgementStateEnum = "ACKNOWLEDGEMENT_STATE_ACKNOWLEDGED"
)

func (e SubscriptionPurchaseV2AcknowledgementStateEnum) ToPointer() *SubscriptionPurchaseV2AcknowledgementStateEnum {
	return &e
}

func (e *SubscriptionPurchaseV2AcknowledgementStateEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "ACKNOWLEDGEMENT_STATE_UNSPECIFIED":
		fallthrough
	case "ACKNOWLEDGEMENT_STATE_PENDING":
		fallthrough
	case "ACKNOWLEDGEMENT_STATE_ACKNOWLEDGED":
		*e = SubscriptionPurchaseV2AcknowledgementStateEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SubscriptionPurchaseV2AcknowledgementStateEnum: %v", v)
	}
}

// SubscriptionPurchaseV2SubscriptionStateEnum - The current state of the subscription.
type SubscriptionPurchaseV2SubscriptionStateEnum string

const (
	SubscriptionPurchaseV2SubscriptionStateEnumSubscriptionStateUnspecified   SubscriptionPurchaseV2SubscriptionStateEnum = "SUBSCRIPTION_STATE_UNSPECIFIED"
	SubscriptionPurchaseV2SubscriptionStateEnumSubscriptionStatePending       SubscriptionPurchaseV2SubscriptionStateEnum = "SUBSCRIPTION_STATE_PENDING"
	SubscriptionPurchaseV2SubscriptionStateEnumSubscriptionStateActive        SubscriptionPurchaseV2SubscriptionStateEnum = "SUBSCRIPTION_STATE_ACTIVE"
	SubscriptionPurchaseV2SubscriptionStateEnumSubscriptionStatePaused        SubscriptionPurchaseV2SubscriptionStateEnum = "SUBSCRIPTION_STATE_PAUSED"
	SubscriptionPurchaseV2SubscriptionStateEnumSubscriptionStateInGracePeriod SubscriptionPurchaseV2SubscriptionStateEnum = "SUBSCRIPTION_STATE_IN_GRACE_PERIOD"
	SubscriptionPurchaseV2SubscriptionStateEnumSubscriptionStateOnHold        SubscriptionPurchaseV2SubscriptionStateEnum = "SUBSCRIPTION_STATE_ON_HOLD"
	SubscriptionPurchaseV2SubscriptionStateEnumSubscriptionStateCanceled      SubscriptionPurchaseV2SubscriptionStateEnum = "SUBSCRIPTION_STATE_CANCELED"
	SubscriptionPurchaseV2SubscriptionStateEnumSubscriptionStateExpired       SubscriptionPurchaseV2SubscriptionStateEnum = "SUBSCRIPTION_STATE_EXPIRED"
)

func (e SubscriptionPurchaseV2SubscriptionStateEnum) ToPointer() *SubscriptionPurchaseV2SubscriptionStateEnum {
	return &e
}

func (e *SubscriptionPurchaseV2SubscriptionStateEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "SUBSCRIPTION_STATE_UNSPECIFIED":
		fallthrough
	case "SUBSCRIPTION_STATE_PENDING":
		fallthrough
	case "SUBSCRIPTION_STATE_ACTIVE":
		fallthrough
	case "SUBSCRIPTION_STATE_PAUSED":
		fallthrough
	case "SUBSCRIPTION_STATE_IN_GRACE_PERIOD":
		fallthrough
	case "SUBSCRIPTION_STATE_ON_HOLD":
		fallthrough
	case "SUBSCRIPTION_STATE_CANCELED":
		fallthrough
	case "SUBSCRIPTION_STATE_EXPIRED":
		*e = SubscriptionPurchaseV2SubscriptionStateEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SubscriptionPurchaseV2SubscriptionStateEnum: %v", v)
	}
}

// SubscriptionPurchaseV2 - Indicates the status of a user's subscription purchase.
type SubscriptionPurchaseV2 struct {
	// The acknowledgement state of the subscription.
	AcknowledgementState *SubscriptionPurchaseV2AcknowledgementStateEnum `json:"acknowledgementState,omitempty"`
	// Information specific to a subscription in canceled state.
	CanceledStateContext *CanceledStateContext `json:"canceledStateContext,omitempty"`
	// User account identifier in the third-party service.
	ExternalAccountIdentifiers *ExternalAccountIdentifiers `json:"externalAccountIdentifiers,omitempty"`
	// This kind represents a SubscriptionPurchaseV2 object in the androidpublisher service.
	Kind *string `json:"kind,omitempty"`
	// The order id of the latest order associated with the purchase of the subscription. For autoRenewing subscription, this is the order id of signup order if it is not renewed yet, or the last recurring order id (success, pending, or declined order). For prepaid subscription, this is the order id associated with the queried purchase token.
	LatestOrderID *string `json:"latestOrderId,omitempty"`
	// Item-level info for a subscription purchase. The items in the same purchase should be either all with AutoRenewingPlan or all with PrepaidPlan.
	LineItems []SubscriptionPurchaseLineItem `json:"lineItems,omitempty"`
	// The purchase token of the old subscription if this subscription is one of the following: * Re-signup of a canceled but non-lapsed subscription * Upgrade/downgrade from a previous subscription. * Convert from prepaid to auto renewing subscription. * Convert from an auto renewing subscription to prepaid. * Topup a prepaid subscription.
	LinkedPurchaseToken *string `json:"linkedPurchaseToken,omitempty"`
	// Information specific to a subscription in paused state.
	PausedStateContext *PausedStateContext `json:"pausedStateContext,omitempty"`
	// ISO 3166-1 alpha-2 billing country/region code of the user at the time the subscription was granted.
	RegionCode *string `json:"regionCode,omitempty"`
	// Time at which the subscription was granted. Not set for pending subscriptions (subscription was created but awaiting payment during signup).
	StartTime *string `json:"startTime,omitempty"`
	// Information associated with purchases made with 'Subscribe with Google'.
	SubscribeWithGoogleInfo *SubscribeWithGoogleInfo `json:"subscribeWithGoogleInfo,omitempty"`
	// The current state of the subscription.
	SubscriptionState *SubscriptionPurchaseV2SubscriptionStateEnum `json:"subscriptionState,omitempty"`
	// Whether this subscription purchase is a test purchase.
	TestPurchase map[string]interface{} `json:"testPurchase,omitempty"`
}
