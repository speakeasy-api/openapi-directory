// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// BackupStateEnum - Output only. The current state of the backup.
type BackupStateEnum string

const (
	BackupStateEnumStateUnspecified BackupStateEnum = "STATE_UNSPECIFIED"
	BackupStateEnumCreating         BackupStateEnum = "CREATING"
	BackupStateEnumReady            BackupStateEnum = "READY"
)

func (e *BackupStateEnum) UnmarshalJSON(data []byte) error {
	var s string
	if err := json.Unmarshal(data, &s); err != nil {
		return err
	}
	switch s {
	case "STATE_UNSPECIFIED":
		fallthrough
	case "CREATING":
		fallthrough
	case "READY":
		*e = BackupStateEnum(s)
		return nil
	default:
		return fmt.Errorf("invalid value for BackupStateEnum: %s", s)
	}
}

// Backup - A backup of a Cloud Bigtable table.
type Backup struct {
	// Encryption information for a given resource. If this resource is protected with customer managed encryption, the in-use Cloud Key Management Service (Cloud KMS) key version is specified along with its status.
	EncryptionInfo *EncryptionInfo `json:"encryptionInfo,omitempty"`
	// Output only. `end_time` is the time that the backup was finished. The row data in the backup will be no newer than this timestamp.
	EndTime *string `json:"endTime,omitempty"`
	// Required. The expiration time of the backup, with microseconds granularity that must be at least 6 hours and at most 30 days from the time the request is received. Once the `expire_time` has passed, Cloud Bigtable will delete the backup and free the resources used by the backup.
	ExpireTime *string `json:"expireTime,omitempty"`
	// A globally unique identifier for the backup which cannot be changed. Values are of the form `projects/{project}/instances/{instance}/clusters/{cluster}/ backups/_a-zA-Z0-9*` The final segment of the name must be between 1 and 50 characters in length. The backup is stored in the cluster identified by the prefix of the backup name of the form `projects/{project}/instances/{instance}/clusters/{cluster}`.
	Name *string `json:"name,omitempty"`
	// Output only. Size of the backup in bytes.
	SizeBytes *string `json:"sizeBytes,omitempty"`
	// Output only. Name of the backup from which this backup was copied. If a backup is not created by copying a backup, this field will be empty. Values are of the form: projects//instances//backups/.
	SourceBackup *string `json:"sourceBackup,omitempty"`
	// Required. Immutable. Name of the table from which this backup was created. This needs to be in the same instance as the backup. Values are of the form `projects/{project}/instances/{instance}/tables/{source_table}`.
	SourceTable *string `json:"sourceTable,omitempty"`
	// Output only. `start_time` is the time that the backup was started (i.e. approximately the time the CreateBackup request is received). The row data in this backup will be no older than this timestamp.
	StartTime *string `json:"startTime,omitempty"`
	// Output only. The current state of the backup.
	State *BackupStateEnum `json:"state,omitempty"`
}

// BackupInput - A backup of a Cloud Bigtable table.
type BackupInput struct {
	// Encryption information for a given resource. If this resource is protected with customer managed encryption, the in-use Cloud Key Management Service (Cloud KMS) key version is specified along with its status.
	EncryptionInfo *EncryptionInfoInput `json:"encryptionInfo,omitempty"`
	// Required. The expiration time of the backup, with microseconds granularity that must be at least 6 hours and at most 30 days from the time the request is received. Once the `expire_time` has passed, Cloud Bigtable will delete the backup and free the resources used by the backup.
	ExpireTime *string `json:"expireTime,omitempty"`
	// A globally unique identifier for the backup which cannot be changed. Values are of the form `projects/{project}/instances/{instance}/clusters/{cluster}/ backups/_a-zA-Z0-9*` The final segment of the name must be between 1 and 50 characters in length. The backup is stored in the cluster identified by the prefix of the backup name of the form `projects/{project}/instances/{instance}/clusters/{cluster}`.
	Name *string `json:"name,omitempty"`
	// Required. Immutable. Name of the table from which this backup was created. This needs to be in the same instance as the backup. Values are of the form `projects/{project}/instances/{instance}/tables/{source_table}`.
	SourceTable *string `json:"sourceTable,omitempty"`
}
